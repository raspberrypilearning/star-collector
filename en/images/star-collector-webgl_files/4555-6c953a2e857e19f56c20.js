(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4555],{54555:function(e,t,r){"use strict";r.d(t,{Z:function(){return V}});var n=r(35944),l=r(26265),i=r(28140),c=r(32292),o=r(67294),s=r(55873),u=r(41756),a=r(71570),d=r(61159),p=r(39218),f=r(91340),h=r(27409),b=r(51671),m=r(68953),g=r(36437),Z=r(70917),v=r(36507),O=r(86113),y=r(19820),w=r(79567);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=(0,m.K)("input"),I=(0,m.K)("div"),S=(0,m.K)("li"),U=(0,Z.iv)([v.gU.filled,g.l0.p(8),{color:g.TV.foregroundDefault,border:"0 none",outline:"0 none",fontSize:g.TV.fontSizeDefault,lineHeight:"16px",display:"block",width:"100%","::placeholder":{color:g.TV.foregroundDimmer},":not([disabled])":{cursor:"text"}}],"",""),D={name:"bjn8wh",styles:"position:relative"},E={name:"bjn8wh",styles:"position:relative"},k={name:"bjn8wh",styles:"position:relative"};function V(e){var t,r=e.disabled,l=e.filter,Z=e.manualSelect,v=e.excludePrivate,j=e.onSelect,V=o.useState([]),T=(0,c.Z)(V,2),z=T[0],B=T[1],C=o.useState(""),K=(0,c.Z)(C,2),X=K[0],_=K[1],F=o.useRef(null),N=l?z.filter(l):z,H=(0,u.Kb)({items:N,initialHighlightedIndex:Z?-1:0,itemToString:function(e){var t;return e?"".concat(null===(t=e.owner)||void 0===t?void 0:t.username,"/").concat(e.title):""}});o.useEffect((function(){return _(H.inputValue)}),[H.inputValue]);var M=(0,d.Z)(X,100),R=(0,s.aFh)({variables:{search:M,excludePrivate:v},onCompleted:function(e){if(!e.currentUser)throw new Error("Expected currentUser");e.currentUser.replSearch?B(e.currentUser.replSearch.reduce((function(e,t){return t?[].concat((0,i.Z)(e),[t]):e}),[])):B([])}}).loading,q=(0,f.Z)(j);o.useEffect((function(){var e;H.selectedItem&&(null===(e=F.current)||void 0===e||e.blur(),q.current(H.selectedItem))}),[H.selectedItem,q]);var A=null!==(t=H.selectedItem)&&void 0!==t&&t.iconUrl&&H.inputValue?(0,n.tZ)(m.Z,{css:[g.l0.px(8),g.l0.center,"position:absolute;top:0;left:0;height:100%;",""],children:(0,n.tZ)(h.Z,{alt:H.selectedItem.title,iconUrl:H.selectedItem.iconUrl,size:16})}):null;return(0,n.BX)(m.Z,{css:D,children:[(0,n.BX)(I,P(P({},H.getComboboxProps()),{},{css:E,children:[A,(0,n.tZ)(x,P({css:[U,g.l0.pr(32),A&&g.l0.pl(32),"",""]},H.getInputProps({ref:F,placeholder:"Search for a repl",onFocus:function(e){H.selectedItem&&(e.preventDefault(),e.currentTarget.select(),_("")),H.openMenu()}}))),(0,n.tZ)(m.Z,{css:[g.l0.center,g.l0.px(8),"position:absolute;top:0;right:0;height:100%;",""],children:(0,n.tZ)(O.Z,{})})]})),(0,n.tZ)(I,P(P({},H.getMenuProps()),{},{css:k,children:H.isOpen&&!r?(0,n.BX)(y.Z,{children:[R?(0,n.tZ)(S,{css:[g.l0.center,g.l0.py(32),"",""],children:(0,n.tZ)(b.Z,{})}):null,N.length||R?null:(0,n.tZ)(S,{css:[g.l0.center,g.l0.py(32),"",""],children:(0,n.BX)(a.x,{color:"dimmer",variant:"small",children:["No ",z.length>0?"more ":null,"repls found"]})}),N.map((function(e,t){return(0,n.tZ)(S,P(P({},H.getItemProps({item:e,index:t})),{},{children:(0,n.tZ)(w.Z,{filter:X,title:e.title,subtitle:(0,p.F)(e.timeUpdated),selected:H.selectedItem===e,highlighted:H.highlightedIndex===t,icon:e.iconUrl?(0,n.tZ)(h.Z,{iconUrl:e.iconUrl,alt:e.title,size:16}):void 0})}),e.id)}))]}):null}))]})}}}]);