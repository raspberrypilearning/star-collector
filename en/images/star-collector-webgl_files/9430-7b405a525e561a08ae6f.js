(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9430],{37253:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(85893),a=r(74047),i=r(52700),o=r(33814),c=r(44102),s=r(20775),u=r(65988),l=r(67294),d=r(94184),p=r.n(d),f=r(18454),h=r.n(f);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var a=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}var v=function(e){(0,o.Z)(r,e);var t=g(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={showSection:e.props.expanded},e.toggleSection=function(){if(e.props.manageOwnState){var t=!e.state.showSection;return e.setState({showSection:t}),void e.props.onChange(t)}e.props.onChange()},e}return(0,i.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.expandable,r=e.title,a=e.staticContent,i=e.children,o=e.expanded,c=e.manageOwnState,s=this.state.showSection,l=c?s:o;return(0,n.jsxs)("div",{className:"jsx-368237033 expandableSection-container",children:[(0,n.jsx)(u.default,{id:"1578082371",children:[".expandableSection-container.jsx-368237033{position:relative;}",".expandableSection-sectionTitle.jsx-368237033{background-color:var(--background-root);color:var(--foreground-default);}",".expandableSection-sectionTitle.jsx-368237033:hover{color:var(--white);}"]}),(0,n.jsx)(u.default,{id:"1742150307",children:[".expandableSection-container.jsx-368237033{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex:1;-ms-flex:1;flex:1;}",".expandableSection-sectionTitle.jsx-368237033{font-size:15px;font-weight:400;margin:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;min-height:35px;}",".expandableSection-sectionTitle.jsx-368237033 svg{margin-right:5px;}",".expandableSection-childrenWrapper.jsx-368237033{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0;overflow-wrap:break-word;-webkit-flex:1;-ms-flex:1;flex:1;}"]}),this.props.scopedStyles,(0,n.jsxs)("div",{style:t?{cursor:"pointer"}:{},onClick:t?this.toggleSection:void 0,className:"jsx-368237033 "+(p()("expandableSection-sectionTitle",this.props.scopedClassName)||""),children:[t&&(0,n.jsx)(h(),{size:this.props.arrowSize,color:this.props.fillArrow?"currentColor":"transparent",direction:l?"bottom":"right",borderWidth:this.props.arrowBorderWidth,borderColor:"currentColor",style:{marginLeft:"".concat(l?"0":"3","px"),marginRight:"".concat(l?"10.5":"14","px")}}),r]}),a,(0,n.jsx)("div",{className:"jsx-368237033 "+(p()("expandableSection-childrenWrapper",this.props.scopedClassName)||""),children:l&&i})]})}}]),r}(l.Component);v.defaultProps={expandable:!0,expanded:!0,onChange:function(){},scopedStyles:null,scopedClassName:"",arrowBorderWidth:1,arrowSize:5,manageOwnState:!0}},42336:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(32292),a=r(67294);function i(){var e=a.useState({}),t=(0,n.Z)(e,2)[1];return a.useCallback((function(){t({})}),[])}},88377:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(55269),a=r(55873),i=r(14692),o=r(14100);function c(){var e,t,r=(0,i.Z)(),c=(0,a.igq)({variables:{replId:r}}).data,s=(null===c||void 0===c||null===(e=c.currentUser)||void 0===e?void 0:e.hasReplConnectionSub)&&"Repl"===c.repl.__typename&&"Team"===(null===(t=c.repl.owner)||void 0===t?void 0:t.__typename),u=(0,n.Z)();(0,a.LSc)({variables:{replId:r},skip:!s||u!==o.e.CONNECTED})}},26878:function(e,t,r){"use strict";function n(e){var t={};return e.lite&&(t.lite=e.lite),e.classroom_template&&(t.classroom_template=e.classroom_template),e.outputonly&&(t.outputonly=e.outputonly),e.fileName&&(t.fileName=e.fileName),e.debug&&(t.debug=e.debug),e.inspector&&(t.inspector=e.inspector),e.fallback&&(t.fallback=e.fallback),e.vcr&&(t.vcr=e.vcr),e.codemirror&&(t.codemirror=e.codemirror),t}r.d(t,{Z:function(){return n}})},97127:function(e,t,r){"use strict";r.d(t,{sF:function(){return o},Bv:function(){return c},X:function(){return s}});var n=r(35944),a=r(65988),i=r(91700),o=32,c={styles:(0,n.tZ)(a.default,{id:"2924610881",children:["div.jsx-2924610881{position:absolute;display:grid;height:".concat(o,"px;top:var(--mobile-header-height,60px);width:100vw;}")]}),className:"jsx-2924610881"},s={styles:(0,n.tZ)(a.default,{id:"3965378038",children:["div.jsx-3965378038{position:absolute;display:grid;height:calc( 100vh - var(--mobile-header-height,60px) - ".concat(o,"px - ").concat(i.w_,"px );top:calc(var(--mobile-header-height,60px) + ").concat(o,"px);width:100vw;-webkit-transition:top 200ms;transition:top 200ms;}")]}),className:"jsx-3965378038"}},71798:function(e,t,r){"use strict";r.d(t,{Z:function(){return R}});var n=r(35944),a=r(32292),i=r(28140),o=r(26265),c=r(809),s=r.n(c),u=r(92447),l=r(65988),d=r(67294),p=r(71371),f=r(32224),h=r(6913),g=r(65718),v=r(3460),b=r(41662),y=r(59137),w=r(51626),m=r(64181),x=r(13112),E=r(51537),O=r(86842),k=r(77935),S=r(67645),j=r(62255),_=r(26427),Z=r(25025),L=r(87644),P=r(74143);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R(e){var t=e.fs,r={};return{reciever:function(e,n,a){return"UPLOAD_FILE"===a.type?function(){var r=(0,u.Z)(s().mark((function r(n){var i,o;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:"CREATE_FILE",wid:e,path:a.path}),r.next=3,t.writeFile(a.path,v.Z.from(a.content));case 3:if(i=r.sent,!(o=i.error)){r.next=8;break}return n({wid:e,type:"FILE_ERROR",path:a.path,error:o}),r.abrupt("return");case 8:n({wid:e,type:"LOAD_FILE",path:a.path});case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}():"OPEN_FILE"===a.type?function(t){a.path&&t({wid:e,type:"LOAD_FILE",path:a.path})}:"LOAD_FILE"===a.type?function(i,o){var c=(0,b.Z)(o(),e,n,"fsreduxbridge"),s=c.files[a.path];if(s&&s.loaded)i({type:"FILE_CACHE_HIT",wid:e,path:a.path,file:{loaded:!0,path:a.path,content:v.Z.from(s.content)}});else if(!r[a.path])if(c.files[a.path]||i({type:"CREATE_FILE",wid:e,path:a.path,changeSource:"containerfs"}),c.filestate[a.path]!==g.t.Loading&&i({type:"FILE_LOADING",wid:e,path:a.path}),(0,w.T3)(a.path)||(0,w.sL)(a.path)){var u=!0,l=t.watchFile(a.path,{onChange:function(t){u?(u=!1,i({type:"FILE_LOADED",wid:e,path:a.path,file:{path:a.path,content:t,loaded:!0}})):i({type:"FILE_CACHE_HIT",wid:e,path:a.path,file:{loaded:!0,path:a.path,content:t}})},onMoveOrDelete:function(t){switch(delete r[a.path],t.eventType){case y.kS.Move:return void i({wid:e,type:"MOVE_FILE",path:a.path,to:t.to,changeSource:"containerfs"});case y.kS.Delete:i({wid:e,type:"DELETE_FILE",path:a.path,changeSource:"containerfs"})}},onError:function(t,n){delete r[a.path],i({wid:e,type:"FILE_ERROR",path:a.path,error:n?Z.default.wrap(t).setExtras(n):t})}});r[a.path]={dispose:l}}else{var d=t.watchOtFile(a.path,{onReady:function(t){var n=t.initialContent,o=t.updateSelections,c=t.writeOps;r[a.path].writeOps=c,r[a.path].updateSelections=o,i({type:"FILE_LOADED",wid:e,path:a.path,file:{path:a.path,content:n,loaded:!0}})},onChange:function(t){var r=t.ops;i({wid:e,type:"OT_FILE_OP",path:a.path,changeSource:"containerfs",op:r})},onCursor:function(t){i({wid:e,type:"ADD_FILE_CURSOR",cursor:t,path:a.path})},onRemoveCursor:function(t){i({wid:e,type:"REMOVE_FILE_CURSOR",id:t,path:a.path})},onStatusChange:function(t){switch(t){case y.KF.Dirty:return void i({wid:e,type:"FILE_DIRTY",path:a.path});case y.KF.Syncing:if((0,b.Z)(o(),e,n,"fsreduxbridge").filestate[a.path]===g.t.Syncing)return;return void i({wid:e,type:"FILE_SYNCING",path:a.path});case y.KF.Clean:i({wid:e,type:"FILE_CLEAN",path:a.path})}},onReconnectFail:function(t){r[a.path].onReconnect=t,i({type:"PROMPT_FILE_RECONNECT",wid:e,path:a.path})},onMoveOrDelete:function(t){switch(delete r[a.path],t.eventType){case y.kS.Move:return void i({wid:e,type:"MOVE_FILE",path:a.path,to:t.to,changeSource:"containerfs"});case y.kS.Delete:i({wid:e,type:"DELETE_FILE",path:a.path,changeSource:"containerfs"})}},onError:function(t,n){delete r[a.path],i({wid:e,type:"FILE_ERROR",path:a.path,error:n?Z.default.wrap(t).setExtras(n):t})}},!0);r[a.path]={dispose:d}}}:"OT_FILE_OP"===a.type?function(t){if("containerfs"!==a.changeSource){var n=r[a.path];if(!n)throw new Error("Expected file to be in watchedFiles");if(!n.writeOps)throw new Error("Expected writeOps function");n.writeOps(a.op),t({type:"FILE_OP_DONE",wid:e,path:a.path})}}:"UPDATE_FILE_CURSORS"===a.type?function(){var e=r[a.path];e&&e.updateSelections&&e.updateSelections(a.selections)}:"PERSIST_FILE"===a.type?function(){var r=(0,u.Z)(s().mark((function r(i){var o,c,u;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.persist({skipDebounce:Boolean(a.flush)});case 2:if(o=r.sent,!o.success){r.next=7;break}return i({type:"FILE_PERSISTED",wid:e}),r.abrupt("return");case 7:return r.next=9,t.persist();case 9:if(!(c=r.sent).success){r.next=13;break}return i({type:"FILE_PERSISTED",wid:e}),r.abrupt("return");case 13:i({type:"BSOD",wid:e,crasherPud:n,originalError:c.error}),u=new Error("snapshot error: "+c.error),p.$e((function(e){e.setTag("source","fsreduxbridge"),e.setTag("bsod","true"),p.Tb(u),(0,m.Q)(u,e)}));case 16:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}():"DOWNLOAD_FILE_CONTENT_REQUEST"===a.type?function(){var r=(0,u.Z)(s().mark((function r(n){var i;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.readFile(a.path);case 2:if(!(i=r.sent).error){r.next=6;break}return n({type:"DOWNLOAD_FILE_CONTENT_FAILURE",wid:e,path:a.path,error:i.error}),r.abrupt("return");case 6:n({type:"DOWNLOAD_FILE_CONTENT_SUCCESS",wid:e,path:a.path,content:i.content});case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}():"FILE_UNLOAD"===a.type?function(){r[a.path]&&(r[a.path].dispose(),delete r[a.path])}:"MOVE_FILE"===a.type||"DELETE_FILE"===a.type?function(t,r){if("containerfs"!==a.changeSource)throw new Error("Move file and delete file should only be dispatched by containerfs, use fs service instead.");if("MOVE_FILE"===a.type){var i,o=(0,b.Z)(r(),e,n,"fsreduxbridge").filestate,c=C(Object.keys(o).includes(a.to)?[a.to]:(0,P.GA)(o,a.to));try{for(c.s();!(i=c.n()).done;){var s=i.value;t({type:"FILE_UNLOAD",wid:e,path:s})}}catch(u){c.e(u)}finally{c.f()}}}:null},reducer:(0,f.$)({primary:function(e,t){switch(t.type){case"FILE_RECONNECT_CHOSEN":return I(I({},e),{},{failedToReconnectFiles:e.failedToReconnectFiles.filter((function(e){return!t.paths.includes(e)}))});case"PROMPT_FILE_RECONNECT":return I(I({},e),{},{failedToReconnectFiles:(0,i.Z)(new Set([].concat((0,i.Z)(e.failedToReconnectFiles),[t.path])))});default:return I({failedToReconnectFiles:[]},e)}},files:h.Z,filestate:g.Z}),Component:function(e){var t=e.wid,i=e.pud,o=(0,b.J)(t,i,"fsreduxbridge"),c=(0,a.Z)(o,1)[0].failedToReconnectFiles,f=d.useState(!1),h=(0,a.Z)(f,2),g=h[0],v=h[1],y=(0,x.I0)(),w=function(){var e=(0,u.Z)(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,L.track)(L.events.FILE_RECONNECT_FALLBACK_CHOSEN,{choice:n}),v(!0),e.prev=2,e.next=5,Promise.all(c.map((function(e){var t=r[e];if(t){if(!t.onReconnect)throw new Error("Could not find onReconnect for failed to reconnect file");return t.onReconnect(n)}})));case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(2),y({type:"BSOD",wid:t,crasherPud:i,originalError:e.t0}),p.$e((function(t){t.setTag("source","fsreduxbridge"),t.setTag("bsod","true"),p.Tb(e.t0),(0,m.Q)(e.t0,t)})),e.abrupt("return");case 12:y({wid:t,type:"FILE_RECONNECT_CHOSEN",paths:c}),v(!1);case 14:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,n.tZ)(O.ZP,{preventClose:!0,isOpen:Boolean(c.length),onRequestClose:function(){},children:(0,n.BX)("div",{className:l.default.dynamic([["1160596551",[E.j.mobileMax]]])+" modal",children:[(0,n.tZ)(k.Z,{level:3,children:"Contents diverged"}),(0,n.tZ)(S.Z,{children:"We had a hard time resolving differences between your content and server content while you were disconnected."}),g?(0,n.tZ)(_.Z,{}):(0,n.BX)(n.HY,{children:[(0,n.tZ)(S.Z,{children:"What would you like to do?"}),(0,n.BX)("div",{className:l.default.dynamic([["1160596551",[E.j.mobileMax]]])+" buttons",children:[(0,n.tZ)(j.Z,{onClick:function(){w("local")},color:"positive",children:"Choose my changes"}),(0,n.tZ)(j.Z,{onClick:function(){w("remote")},color:"negative",children:"Choose server changes"})]})]}),(0,n.tZ)(l.default,{id:"1160596551",dynamic:[E.j.mobileMax],children:[".modal.__jsx-style-dynamic-selector{display:grid;padding:var(--space-32);grid-row-gap:var(--space-16);}",".buttons.__jsx-style-dynamic-selector{display:grid;grid-row-gap:var(--space-16);}","@media screen and (min-width:".concat(E.j.mobileMax,"px){.buttons.__jsx-style-dynamic-selector{grid-column-gap:var(--space-16);grid-auto-flow:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}.buttons.__jsx-style-dynamic-selector button:first-child{-webkit-order:1;-ms-flex-order:1;order:1;}}")]})]})})}}}},83758:function(e,t,r){"use strict";r.d(t,{Z:function(){return o},_:function(){return c}});var n=r(32292),a=r(67294),i=r(79381);function o(e){var t=e.replbox,r=a.useState(t.getRunState()),i=(0,n.Z)(r,2),o=i[0],c=i[1];return a.useEffect((function(){return t.onStateChanged(c)}),[t]),{runState:o,run:a.useCallback(t.run,[t.run]),stopRun:a.useCallback(t.stopRun,[t.stopRun])}}function c(e){switch(e){case i.A.OFFLINE:return"loading";case i.A.IDLE:return"idle";case i.A.RUNNING:return"running";case i.A.STOPPING:return"stopping"}}},87712:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(35944),a=r(32292),i=r(65988),o=(r(67294),r(2974)),c=r(86842),s=r(77935),u=r(25763),l=r(67645),d=r(62255),p=r(54313),f=r(63502);function h(e){var t=e.replId,r=e.isOpen,h=e.isLoggedIn,g=e.onRequestClose,v=(0,p.Z)(),b=(0,a.Z)(v,2),y=b[0],w=b[1].loading;return(0,n.tZ)(c.ZP,{isOpen:r,onRequestClose:g,preventClose:!0,children:h?(0,n.BX)("div",{className:"jsx-3668977194 content",children:[(0,n.BX)(u.gC,{align:"center",spacing:4,children:[(0,n.BX)(u.gC,{align:"center",spacing:1,children:[(0,n.tZ)(s.Z,{align:"center",level:1,children:"Fork & edit this repl"}),(0,n.tZ)(l.Z,{align:"center",size:"large",foreground:2,children:"You can edit this repl by creating your own copy of it"})]}),(0,n.tZ)(d.Z,{color:"primary",size:"large",filled:!0,Icon:f.Z,disabled:w,onClick:function(){w||y({originId:t,trackingData:{forkSource:"forkModal"}})},children:w?"Forking...":"Fork"})]}),(0,n.tZ)(i.default,{id:"3668977194",children:[".content.jsx-3668977194{padding:var(--space-32);}"]})]}):(0,n.tZ)(o.Z,{title:"Sign up or log in to fork this repl",onSuccess:function(e){var r=e.isLogin;y({originId:t,trackingData:{forkSource:"forkModal",isSignup:!r}})},source:"fork"})})}},32224:function(e,t,r){"use strict";r.d(t,{$:function(){return s}});var n=r(26265);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){"function"!==typeof e.primary&&(e.primary=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e});var t=Object.keys(e);return function(r,n){var a,c,s=!1,u={},l=o(t);try{for(l.s();!(a=l.n()).done;){var d=a.value;if("primary"!==d){var p=e[d],f=r?r[d]:void 0,h=p(f,n);u[d]=h,s=s||h!==f}}}catch(v){l.e(v)}finally{l.f()}r&&(c=s?i(i({},r),u):r);var g=e.primary(c,n);return(s=s||g!==c)?i(i({},u),g):r}}},25712:function(e,t,r){"use strict";function n(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(s)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e,r){var a,i=n(t);try{for(i.s();!(a=i.n()).done;){(0,a.value)(e,r)}}catch(o){i.e(o)}finally{i.f()}}}r.d(t,{Z:function(){return i}})},45221:function(e,t,r){"use strict";var n=r(67294),a=r(58525);t.Z=function(e){var t=[],r=null;return{receiver:(0,a.Z)((function(n,a,i,o){var c={wid:n,pud:a,action:i,wait:o};return e&&!e.includes(c.action.type)?null:r?(r(c),null):(t.push(c),null)})),useReceiver:function(e){var a,i;n.useDebugValue("Captured events: ".concat(t.length)),n.useDebugValue("First event: ".concat(null===(a=t[0])||void 0===a?void 0:a.action.type)),n.useDebugValue("Last event: ".concat(null===(i=t[t.length-1])||void 0===i?void 0:i.action.type)),n.useEffect((function(){if(null!==r)throw new Error("Expected callback to be null, please useReceiver once in your plugin, or avoid using multiple instances of the plugin");return t.forEach(e),t=[],r=e,function(){r=null}}),[e])}}}},61241:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(14795);function a(e){for(var t=e.plugins,r=e.filePath,n=e.pluginType,a=0,i=Object.keys(t);a<i.length;a++){var o=i[a],c=t[o],s=c.type,u=c.state;if(s===n&&(null===r||u.filePath===r))return o}return null}function i(e){var t=e.wid;return function(e,r){var i=r(),o=i.workspace?i.workspace[t]:i,c=o.layout,s=o.plugins,u=function(e,t){var r=n.PP(e,t,"fileheader");if(!r)throw new Error("expected to find fileHeader in layout!");return window["flag-windowing"]?n.Il(r):n.J9(r)}(c,s);if(!u)throw new Error("No editor mounted");e({type:"UPDATE_LAYOUT",wid:t,path:u,to:a({plugins:s,filePath:null,pluginType:"blank"}),property:"pud"})}}},62898:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(26265);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};function r(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e(),n=arguments.length>1?arguments[1]:void 0;if("SET_STATE"===n.type){if(!n.pud)throw new Error("SET_STATE action should be namespaced");return i(i({},r),n.state)}return t(r,n)}return{reducer:r,setState:function(e,t,r,n){r({type:"SET_STATE",wid:e,pud:t,state:n})}}}},58525:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(809),a=r.n(n),i=r(92447),o=r(32292),c=r(74047),s=r(26265);function u(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function e(){var t=this;(0,c.Z)(this,e),(0,s.Z)(this,"waits",void 0),(0,s.Z)(this,"rcv",(function(e){var r,n=u(t.waits.entries());try{for(n.s();!(r=n.n()).done;){var a=(0,o.Z)(r.value,2),i=a[0],c=a[1],s=void 0;try{s=i(e)}catch(l){return t.waits.delete(i),void c.reject(l)}if("boolean"!==typeof s){t.waits.delete(i);var l=new Error("Your wait callback must return a boolean");return void c.reject(l)}s&&(t.waits.delete(i),c.resolve(e))}}catch(d){n.e(d)}finally{n.f()}})),(0,s.Z)(this,"wait",function(){var e=(0,i.Z)(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.waits.set(r,{resolve:e,reject:n})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.waits=new Map};function p(e){var t={};return function(r,n,a){return t[r+n]||(t[r+n]=new d),t[r+n].rcv(a),e(r,n,a,t[r+n].wait)}}},82973:function(e,t,r){"use strict";r.r(t),r.d(t,{Component:function(){return u}});var n=r(35944),a=r(65988),i=(r(67294),r(67047)),o=r(45006),c=r(33548),s=r(8346),u=function(){var e=(0,s.Z)().fs;return(0,c.Z)({fs:e,path:o.Q,initialExpanded:!0}).loading?(0,n.tZ)(i.Z,{}):(0,n.tZ)("div",{className:"jsx-3424832388 blank",children:(0,n.tZ)(a.default,{id:"3424832388",children:[".blank.jsx-3424832388{background-color:var(--background-default);height:100%;width:100%;}"]})})}},84092:function(e,t,r){"use strict";r.d(t,{Z:function(){return w}});var n=r(35944),a=r(65988),i=r(67294),o=r(13112),c=r(93096),s=r.n(c),u=r(8346),l=r(28130),d=r(30460),p=r(20943),f=r(11163),h=function(){return Boolean(f.default.query.embed||f.default.query.lite)},g=r(62572),v=r(87644),b=r(63805),y=r(27974);function w(e){var t=e.wid,r=(0,o.I0)(),c=(0,u.Z)().lsp,f=(0,y.Z)(),w=(0,l.Z)();i.useEffect((function(){c.start()}),[c]);var m=i.useMemo((function(){if(null!==f&&void 0!==f&&f.language){var e=f.language;return s()((function(r){(0,v.track)(v.events.WS_TYPED,{wid:t,fileExt:r,language:e,isMobile:(0,b.isMobile)({tablet:!1})})}),6e4)}}),[f,t]);return w?(0,d.V)(w)!==d.D.Code&&(0,d.V)(w)!==d.D.Markdown?null:(0,n.tZ)(g.Z,{filePath:w,autoFocus:!h(),onType:m,onRun:function(){r({type:p.OF,wid:t})}}):(0,n.BX)("div",{className:"jsx-3455551276 empty",children:[(0,n.tZ)("div",{className:"jsx-3455551276",children:"no file opened"}),(0,n.tZ)(a.default,{id:"3455551276",children:[".empty.jsx-3455551276{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]})]})}},29305:function(e,t,r){"use strict";r.r(t),r.d(t,{Component:function(){return n.Z}});var n=r(84092)},59954:function(e,t,r){"use strict";var n=r(35944),a=r(26265);r(67294);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={progress:{base:{position:"absolute",left:"25%",right:"25%",top:"47%",height:"7px",backgroundColor:"transparent",borderStyle:"solid",borderWidth:"1px",borderRadius:"10px",borderColor:"#fff",transition:"opacity 0.5s",zIndex:1},progressFiller:{width:"100%",height:"5px",backgroundColor:"#fff"},progressFill:{animation:"x 3s ease 0s infinite",animationName:"loader-fill-animation"}}};t.Z=function(e){var t=e.loading,r=c.progress;return(0,n.tZ)("div",{style:o(o({},r.base),t?{}:{opacity:0}),children:(0,n.tZ)("div",{style:o(o({},r.progressFiller),t?r.progressFill:{})})})}},58586:function(e,t,r){"use strict";var n=r(35944),a=r(59954);t.Z=function(e){var t=e.messages;return(0,n.BX)("div",{style:{height:"100%",position:"relative",fontSize:"14px",padding:"15px",boxSizing:"border-box"},children:[t.map((function(e,t){return(0,n.tZ)("span",{style:{whiteSpace:"pre-wrap",fontSize:"14px",lineHeight:"1em",wordWrap:"break-word",fontFamily:"monospace",color:"error"===e.type?"#f06":"#fff",position:"relative",left:"error"===e.type?"-8px":"0px"},children:e.data},t)})),(0,n.tZ)("div",{style:{marginLeft:"-8px",background:"url(/public/images/sprite.png) -13px -583px no-repeat",width:"24px",height:"16px"}}),(0,n.tZ)(a.Z,{loading:!0})]})}},97600:function(e,t,r){"use strict";r.r(t),r.d(t,{Component:function(){return Z},checkLineEnd:function(){return _},reducer:function(){return L}});var n=r(26265),a=r(35944),i=r(28140),o=r(32292),c=r(67294),s=r(13112),u=r(20943),l=r(37348),d=r.n(l);function p(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=/"(?:[^"]|\\.)*"|'(?:[^']|\\.)*'|\/(?:[^/]|\\.)*\/|[{}()[\]]/gi,g=function(e){var t,r=0,n=0,a=0,i=p(e.match(h)||[]);try{for(i.s();!(t=i.n()).done;){switch(t.value){case"(":n++;break;case")":n--;break;case"[":a++;break;case"]":a--;break;case"{":r++;break;case"}":r--}}}catch(o){i.e(o)}finally{i.f()}return(n>0||r>0||a>0)&&1},v=function(e){return!e.includes(":}")&&(!!e.includes(":{")&&0)},b=function(e){var t=e.split("\n");if(0===t.length)return 0;var r,n=t[t.length-1].replace(/\s+$/,""),a=n.match(/^\s*/);return r=a?a[0]:"",":"===n[n.length-1]?1:!(!r.length||0===n[n.length-1].length)&&0},y=r(58586),w=r(32224),m=r(61991),x=r(41662),E=r(14692),O=r(55873),k=r(42336);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){if(/\n\s*$/.test(t))r(!1);else switch(d().get(e).key.toLowerCase()){case"html":r(g(t));break;case"haskell":r(v(t));break;case"python_turtle":r(b(t));break;default:r(!1)}}function Z(e){var t=e.wid,n=e.pud,l=e.style,d=(0,E.Z)(),p=(0,s.I0)(),f=c.useRef(null),h=(0,k.Z)();c.useEffect((function(){Promise.all([r.e(571),r.e(7912)]).then(r.bind(r,87912)).then((function(e){f.current=e.default,h()}))}),[]);var g=(0,x.J)(t,n,"console"),v=(0,o.Z)(g,1)[0],b=v.loadingEngine,w=v.consoleMessages,m=v.runstate,S=v.promptValue,Z=(0,O.ba2)({variables:{replId:d}}).data,L="Repl"===(null===Z||void 0===Z?void 0:Z.repl.__typename)?Z.repl:void 0,P=(null===L||void 0===L?void 0:L.language)||"",D=null===L||void 0===L?void 0:L.lang.header,I=c.useCallback((function(e){"stopping"!==m&&p("running"!==m?(0,u.aY)({wid:t,clean:!1,code:e}):{type:"CONSOLE_INPUT",wid:t,input:e})}),[p,m,t]),C=c.useCallback((function(){p((0,u.En)({wid:t,pud:n}))}),[p,t,n]),A=c.useCallback((function(e){p({type:"SET_PROMPT_VALUE",wid:t,pud:n,promptValue:e})}),[p,t,n]),R=c.useCallback((function(e,t){_(P,e,t)}),[P]),N={data:"".concat(D,"\n"),type:""},T=D?[N].concat((0,i.Z)(w)):w;if(!f.current)return(0,a.tZ)(y.Z,{messages:T});var F=f.current;return(0,a.tZ)("div",{style:j(j({},l),{},{backgroundColor:"var(--background-root)",borderRadius:"var(--border-radius-4)"}),children:(0,a.tZ)("div",{style:{height:"100%"},children:(0,a.tZ)(F,{messages:T,showModal:function(){},clearConsole:C,setPromptValue:A,onEval:I,promptState:"idle"!==m?"input":"prompt",checkLineEnd:R,promptValue:S,loading:b})})})}var L=(0,w.$)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{consoleMessages:[],loadingEngine:!1,runstate:"idle",presetStdin:"",promptValue:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.qg:return j(j({},e),t.initialState);case u.hq:return j(j({},e),{},{loadingEngine:!0});case u.FG:return j(j({},e),{},{loadingEngine:!1});case u.wP:return j(j({},e),{},{consoleMessages:e.consoleMessages.concat(t.message)});case u.aq:var r=(0,u.sC)("\nReplit: Stopping... please wait\n","error");return j(j({},e),{},{consoleMessages:e.consoleMessages.concat(r)});case"SET_PROMPT_VALUE":return j(j({},e),{},{promptValue:t.promptValue});case u.fv:return j(j({},e),{},{consoleMessages:[]});default:return e}},runstate:m.Z})},78198:function(e,t,r){"use strict";r.r(t),r.d(t,{Component:function(){return O},reducer:function(){return S},receiver:function(){return x}});var n=r(809),a=r.n(n),i=r(92447),o=r(67294),c=r(11163),s=r(41662),u=r(62898),l=r(72454),d=r(45221),p=r(14692),f=r(61241),h=r(13112),g=r(8346),v=r(82438),b="deeplink";function y(e){var t=e.wid,r=e.path,n=e.line,o=e.col,c=e.wait,s=e.indexStart,u=e.indexEnd;return function(){var e=(0,i.Z)(a().mark((function e(i,l){var d,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=l().services.session,l().workspace[t].activeFile===r){e.next=7;break}return p=c((function(e){return("FILE_LOADED"===e.type||"FILE_CACHE_HIT"===e.type)&&e.path===r})),i({type:"OPEN_FILE",path:r,wid:t}),e.next=7,p;case 7:n&&i({type:"SELECT_EDITOR_POSITION",path:r,wid:t,position:{lineNumber:n,column:(o||0)+1}}),d.updateDeeplink({path:r,line:n,col:o}),s&&i({type:"SELECT_MODEL_INDEX",path:r,wid:t,indexStart:s,indexEnd:u});case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}function w(e){var t=e.wid,r=e.pud,n=e.wait,o=e.fs;return function(){var e=(0,i.Z)(a().mark((function e(i){var c,s,u,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,l.u)()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,l.Z)(o);case 4:if(c=e.sent,s=c.path,u=c.line,d=c.col,s){e.next=10;break}return e.abrupt("return");case 10:i(y({wid:t,pud:r,path:s,line:u,col:d,wait:n}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var m=(0,d.Z)(["WORKSPACE_MOUNTED","WORKSPACE_WILL_UNMOUNT","ACE_EDIT_SESSION_CREATED","OPEN_DEEP_LINK","OPEN_FILE"]),x=m.receiver,E=m.useReceiver;function O(){var e=(0,p.Z)(),t=(0,h.I0)(),r=(0,g.Z)(),n=r.fs,u=r.session,d=r.dotReplit;return o.useEffect((function(){return u.onDeeplinkUpdated((function(e){var t=function(e){var t=e.path,r=e.line,n=e.col,a="#".concat(t);return r?n?"".concat(a,":").concat(r,":").concat(n):"".concat(a,":").concat(r):a}(e);window.location.hash=t}))}),[u]),E((function(r){var o=r.wid,p=r.pud,h=r.action,g=r.wait;switch(h.type){case"WORKSPACE_MOUNTED":t(function(e){var t=e.wid,r=e.pud,n=e.wait,a=e.fs;return function(e,i){var o=function(){(0,s.Z)(i(),t,r,b).isSettingHash?j(t,r,e,{isSettingHash:!1}):e(w({wid:t,pud:r,wait:n,fs:a}))};j(t,r,e,{handleHashChange:o}),window.addEventListener("hashchange",o)}}({wid:o,pud:p,wait:g,fs:n})),(0,l.u)()?t(w({wid:o,pud:p,wait:g,fs:n})):t(function(e){var t=e.wid,r=e.replId,n=e.fs,o=e.dotReplit;return function(){var e=(0,i.Z)(a().mark((function e(i,c){var s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c().workspace[t].activeFile){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,v.W)({replId:r,fs:n,dotReplit:o});case 5:if(s=e.sent,u=s.entrypoint){e.next=10;break}return i((0,f.Z)({wid:t})),e.abrupt("return");case 10:i({type:"OPEN_FILE",wid:t,path:u});case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}({wid:o,replId:e,fs:n,dotReplit:d}));break;case"WORKSPACE_WILL_UNMOUNT":t(function(e,t){return function(r,n){var a=(0,s.Z)(n(),e,t,b).handleHashChange;a&&window.removeEventListener("hashchange",a)}}(o,p));break;case"ACE_EDIT_SESSION_CREATED":t(function(e,t){return function(r){j(e,t,r,{aceEditSessionCreated:!0})}}(o,p));break;case"OPEN_DEEP_LINK":var m=h.path,x=h.line,E=h.col,O=h.indexStart,k=h.indexEnd;t(y({wid:o,pud:p,path:m,line:x,col:E,wait:g,indexStart:O,indexEnd:k}));break;case"OPEN_FILE":var S=h.path||"";t(function(e,t,r,n,o){return function(){var s=(0,i.Z)(a().mark((function i(s){var u;return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,l.Z)(n);case 2:a.sent.path!==r&&(j(e,t,s,{isSettingHash:!0}),window.location.hash.length>0?o.updateDeeplink({path:r}):(u=c.default.asPath.includes("#")?c.default.asPath.slice(0,c.default.asPath.indexOf("#")):c.default.asPath,c.default.replace({pathname:c.default.pathname,query:c.default.query},"".concat(u,"#").concat(r),{shallow:!0})));case 5:case"end":return a.stop()}}),i)})));return function(e){return s.apply(this,arguments)}}()}(o,p,S,n,u))}return null})),null}var k=(0,u.Z)((function(){return{isSettingHash:!1,handleHashChange:void 0,aceEditSessionCreated:!1}})),S=k.reducer,j=k.setState},67047:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(35944),a=r(65988),i=(r(67294),r(24561)),o=r(96187);function c(e){var t=e.preventHighlightBorder,r=(0,o.Z)();return(0,n.BX)("div",{className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])+" loader",children:[(0,n.tZ)("div",{className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])+" wrap",children:(0,n.BX)(i.ZP,{primaryColor:"var(--background-highest)",secondaryColor:"var(--background-higher)",uniquekey:"editorLoader",children:[(0,n.tZ)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"70",height:"10",className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])}),(0,n.tZ)("rect",{x:"80",y:"0",rx:"3",ry:"3",width:"100",height:"10",className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])}),(0,n.tZ)("rect",{x:"190",y:"0",rx:"3",ry:"3",width:"10",height:"10",className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])}),(0,n.tZ)("rect",{x:"15",y:"20",rx:"3",ry:"3",width:"130",height:"10",className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])}),(0,n.tZ)("rect",{x:"155",y:"20",rx:"3",ry:"3",width:"130",height:"10",className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])}),(0,n.tZ)("rect",{x:"15",y:"40",rx:"3",ry:"3",width:"90",height:"10",className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])}),(0,n.tZ)("rect",{x:"115",y:"40",rx:"3",ry:"3",width:"60",height:"10",className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])}),(0,n.tZ)("rect",{x:"185",y:"40",rx:"3",ry:"3",width:"60",height:"10",className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])}),(0,n.tZ)("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"30",height:"10",className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])}),(0,n.tZ)("rect",{x:"15",y:"80",rx:"3",ry:"3",width:"70",height:"10",className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])}),(0,n.tZ)("rect",{x:"95",y:"80",rx:"3",ry:"3",width:"60",height:"10",className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])}),(0,n.tZ)("rect",{x:"165",y:"80",rx:"3",ry:"3",width:"30",height:"10",className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])}),(0,n.tZ)("rect",{x:"15",y:"100",rx:"3",ry:"3",width:"110",height:"10",className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])}),(0,n.tZ)("rect",{x:"135",y:"100",rx:"3",ry:"3",width:"100",height:"10",className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])}),(0,n.tZ)("rect",{x:"0",y:"120",rx:"3",ry:"3",width:"70",height:"10",className:a.default.dynamic([["3681970762",[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"]]])})]})}),(0,n.tZ)(a.default,{id:"3681970762",dynamic:[r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)"],children:[".loader.__jsx-style-dynamic-selector{position:absolute;z-index:3;right:0;top:0;height:100%;width:100%;background-color:var(--background-default);overflow:hidden;padding:var(--space-16);border-bottom-right-radius:var(--border-radius-4);border-bottom-left-radius:var(--border-radius-4);box-shadow:".concat(r&&!t?"0 3px 0 3px ".concat(r):"var(--shadow-1)",";}"),".wrap.__jsx-style-dynamic-selector{overflow:hidden;}",".wrap.__jsx-style-dynamic-selector>svg{max-width:640px;min-width:500px;height:auto;}","@media screen and (min-width:900px){.loader.__jsx-style-dynamic-selector{padding:30px;}}"]})]})}},33178:function(e,t,r){"use strict";r.r(t),r.d(t,{Component:function(){return p}});var n=r(35944),a=r(65988),i=(r(67294),r(25763)),o=r(77935),c=r(67645),s=r(5230),u=r(8346),l={styles:(0,n.tZ)(a.default,{id:"2980229614",children:["*.jsx-2980229614{max-width:100%;}"]}),className:"jsx-2980229614"};function d(e){var t=e.children;return(0,n.BX)("div",{className:"jsx-75754313 enveditor",children:[(0,n.BX)(i.gC,{spacing:2,align:"stretch",justify:"center",className:l.className,children:[(0,n.BX)(i.gC,{spacing:1,align:"stretch",justify:"center",className:l.className,children:[(0,n.tZ)(o.Z,{truncate:!0,level:4,children:"Secrets"}),(0,n.tZ)(c.Z,{truncate:!0,size:"small",foreground:"2",children:"System environment variables"})]}),t]}),l.styles,(0,n.tZ)(a.default,{id:"75754313",children:[".enveditor.jsx-75754313{height:100%;width:100%;border-top-right-radius:var(--border-radius-4);background-color:var(--background-default);padding:var(--space-8);overflow:auto;}"]})]})}function p(){var e=(0,u.Z)().fs;return(0,n.tZ)(d,{children:(0,n.tZ)(s.Z,{fs:e})})}},67483:function(e,t,r){"use strict";r.r(t),r.d(t,{Component:function(){return n.Z}});var n=r(35574)},85854:function(e,t,r){"use strict";r.r(t),r.d(t,{Component:function(){return g},reducer:function(){return m}});var n=r(26265),a=r(35944),i=r(65988),o=(r(67294),r(13112)),c=r(55873),s=r(14692),u=r(20943),l=r(83758),d=r(8346),p=r(79381),f=r(87644),h=r(89715),g=(0,o.$j)((function(e,t){return e.workspace[t.wid].plugins[t.pud].state}),{evalProject:u.mT,stopEval:u.Rl})((function(e){var t=e.wid,r=e.loading,n=e.runstate,o=e.maxWidthBreakpoint,u=e.evalProject,g=e.stopEval,v=(0,s.Z)(),b=(0,c.Iz6)({variables:{id:v}}).data,y=(0,d.Z)().replbox,w=(0,l.Z)({replbox:y}),m=(0,h.Fg)(),x="floating-run",E=function(){};if(b)if("Repl"===b.repl.__typename&&"replbox"===b.repl.lang.engine){var O=b.repl;w.runState===p.A.OFFLINE||w.runState===p.A.STOPPING?x+=" floating-run-loading":w.runState===p.A.RUNNING?(x+=" floating-run-stop",E=function(){w.stopRun()}):w.runState===p.A.IDLE&&(E=function(){w.run(),(0,f.track)(f.events.PROJECT_RAN,{wid:t,language:O.language,replId:v,replTitle:O.title})})}else r||"stopping"===n?x+=" floating-run-loading":"running"===n?(x+=" floating-run-stop",E=function(){g({wid:t})}):E=function(){u({wid:t})};else x+=" floating-run-loading";return(0,a.tZ)("div",{onClick:E,className:i.default.dynamic([["1448111686",[m===h.V2.replitSpooky?"url(/public/images/run_orange.svg)":"url(/public/images/run_green.svg)",o]]])+" "+(x||""),children:(0,a.tZ)(i.default,{id:"1448111686",dynamic:[m===h.V2.replitSpooky?"url(/public/images/run_orange.svg)":"url(/public/images/run_green.svg)",o],children:[".floating-run.__jsx-style-dynamic-selector{display:none;position:absolute;bottom:24px;right:24px;height:50px;width:50px;border-radius:100%;border:solid 2px var(--accent-positive-dimmer);cursor:pointer;background-image:".concat(m===h.V2.replitSpooky?"url(/public/images/run_orange.svg)":"url(/public/images/run_green.svg)",";background-size:20px 20px;background-position:center;background-repeat:no-repeat;background-color:var(--accent-positive-dimmest);z-index:1000;opacity:0.5;}"),".floating-run-loading.__jsx-style-dynamic-selector{background-image:url(/public/images/loading_dots.gif);}",".floating-run-stop.__jsx-style-dynamic-selector{background-image:url(/public/images/stop_green.svg);}",".run-cta.__jsx-style-dynamic-selector{background:var(--accent-primary-default);padding:var(--space-16);color:var(--white);border-radius:var(--border-radius-4);}","@media screen and (max-width:".concat(o,"px){.floating-run.__jsx-style-dynamic-selector{display:block;}}")]})})})),v=r(32224),b=r(61991);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=(0,v.$)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,maxWidthBreakpoint:500},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.qg:return w(w({},e),t.initialState);case u.hq:return w(w({},e),{},{loading:!0});case u.FG:return w(w({},e),{},{loading:!1});default:return e}},runstate:b.Z})},90389:function(e,t,r){"use strict";r.r(t),r.d(t,{receiver:function(){return d},reducer:function(){return l}});var n=r(32224),a=r(51928),i=r(41662),o=r(4433),c=r(6913),s=r(23752),u=r(61991),l=(0,n.$)({preferences:a.c,repl:o.E,files:c.Z,workingDirectory:s.Y,runstate:u.Z});function d(e,t,r){return"LOAD_PLUGIN"===r.type?function(n,l){var d=(0,i.Z)(l(),e,t,"infoprovider"),p=d.preferences,f=d.repl,h=d.files,g=d.workingDirectory,v=d.runstate;p!==a.U&&n({type:"UPDATE_WORKSPACE_PREFERENCES",wid:e,pud:r.pluginPud,updates:p}),f!==o.N&&n({type:"REPL_UPDATED",wid:e,pud:r.pluginPud,updates:f}),g!==s.E&&n({type:"UPDATE_WORKING_DIRECTORY",wid:e,pud:r.pluginPud,path:g}),h!==c.L&&Object.keys(h).forEach((function(t){n({type:"CREATE_FILE",wid:e,pud:r.pluginPud,path:t,file:h[t]})})),v!==u.Q&&n({type:"SET_RUN_STATE",wid:e,pud:t,runstate:v})}:null}},16523:function(e,t,r){"use strict";r.r(t),r.d(t,{Component:function(){return We},receiver:function(){return ze},reducer:function(){return qe}});var n={};r.r(n),r.d(n,{install:function(){return A},instructions:function(){return R},search:function(){return N}});var a={};r.r(a),r.d(a,{install:function(){return G},instructions:function(){return V},search:function(){return H}});var i={};r.r(i),r.d(i,{install:function(){return X},instructions:function(){return J},search:function(){return H}});var o={};r.r(o),r.d(o,{install:function(){return re},instructions:function(){return ne},search:function(){return ae}});var c={};r.r(c),r.d(c,{install:function(){return oe},instructions:function(){return ce},search:function(){return se}});var s={};r.r(s),r.d(s,{install:function(){return ge},instructions:function(){return ve},search:function(){return H}});var u=r(85893),l=r(809),d=r.n(l),p=r(92447),f=r(74047),h=r(52700),g=r(33814),v=r(44102),b=r(20775),y=r(26265),w=r(65988),m=r(67294),x=r(13112),E=r(14890),O=r(91296),k=r.n(O),S=r(77935),j=r(20943),_=r(75237),Z=r(37348),L=r.n(Z),P=r(87644),D=r(3460),I=r(53016),C="requirements.txt";function A(e){var t=e.wid,r=e.pud,n=e.lib,a=e.getFile;return function(){var e=(0,p.Z)(d().mark((function e(i,o){var c,s,u,l,p,f,h,g;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=o().workspace[t].activeFile,s=o().workspace[t].plugins[r].state.files,u="".concat(n.name,"==").concat(n.version),Object.keys(s).includes(C)){e.next=7;break}return i({type:"UPLOAD_FILE",wid:t,path:C,content:D.Z.from(u+"\n")}),i((0,j.ZB)({wid:t,path:C})),e.abrupt("return");case 7:return c!==C&&i((0,j.ZB)({wid:t,path:C})),e.next=10,a(C);case 10:if(l=e.sent,p=D.Z.from(l.content).toString(),f=null,!p.split("\n").find((function(e,t){return f=t+1,e.trim()===u}))){e.next=17;break}return i((0,j.$S)({wid:t,line:f||0})),i((0,_.P)({content:"Package already included",type:"notice",time:3e3})),e.abrupt("return");case 17:h=p.length,g=p.endsWith("\n")?"":"\n",i({type:"OT_FILE_OP",wid:t,path:C,op:[h,g+u+"\n"],changeSource:"libsearch"}),i((0,j.$S)({wid:t,line:p.split("\n").length}));case 21:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}function R(e){return(0,u.jsxs)(m.Fragment,{children:[(0,u.jsxs)("ol",{children:[(0,u.jsxs)("li",{children:["Create a ",(0,u.jsx)("code",{children:"requirements.txt"})," file, (we'll do it for you if you click the add button)."]}),(0,u.jsxs)("li",{children:["Then add ",(0,u.jsx)("code",{children:e.name})," to ",(0,u.jsx)("code",{children:"requirements.txt"})," on it's own line. If you want to specify a version, then add"," ",(0,u.jsx)("code",{children:e.name})," followed by a version of your choosing."]}),(0,u.jsxs)("li",{children:["After that you'd want to check the"," ",(0,u.jsx)("a",{href:e.link,rel:"external",target:"_blank",children:"documentation"})," ","for usage"]})]}),(0,u.jsx)("br",{}),"(typically you'd want to add an ",(0,u.jsx)("code",{children:"import"})," to the file where you want to use the module"]})}function N(e){return(0,I.LK)("/data/pythonlibraries/search?q=".concat(e))}var T=r(76884),F=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],M=/^[$A-Z_][0-9A-Z_$]*$/i;function U(e){return!F.includes(e)&&M.test(e)}var B=function(e){var t=e.replace(/^@\w+\//,"");if(!U(t=T(t))){var r=t.match(/[$A-Z_][0-9A-Z_$]*/i);if(r&&r[0]&&(t=r[0],r.index>0&&(t=t[0].toLowerCase()+t.slice(1))),!U(t))return"require('".concat(t,"');")}return"let ".concat(t," = require('").concat(e,"');")},H=function(e){return(0,I.LK)("/data/npm/search/".concat(encodeURIComponent(e))).then((function(e){return e.map((function(e){return{name:e.package.name,description:e.package.description,link:e.package.links.homepage,version:e.package.version}}))}))};function G(e){var t=e.wid,r=e.lib;return function(e,n){var a=n().workspace[t].activeFile,i=B(r.name);e({type:"OT_FILE_OP",wid:t,path:a,op:[i+"\n"],changeSource:"libsearch"})}}function V(e){return(0,u.jsxs)(m.Fragment,{children:["Just ",(0,u.jsx)("code",{children:"require"})," the"," ",(0,u.jsx)("a",{href:"https://npmjs.com",rel:"external",target:"_blank",children:"npm"})," ","module name like so"," ",(0,u.jsxs)("code",{children:["require('",e.name,"')"]})," ","and we'll fetch it for you.",(0,u.jsx)("br",{}),"Check the module's"," ",(0,u.jsx)("a",{href:e.link,target:"_blank",children:"documentation"})," ","for usage."]})}function W(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){(0,y.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $="package.json",Y={main:"index.js",dependencies:{}};function X(e){var t=e.wid,r=e.pud,n=e.lib,a=e.getFile;return function(){var e=(0,p.Z)(d().mark((function e(i,o){var c,s,u,l,p,f,h,g,v,b,w,m,x,E,O,k;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=o().workspace[t].activeFile,s=o().workspace[t].plugins[r].state.files,Object.keys(s).includes($)){e.next=7;break}return u=K(K({},Y),{},{dependencies:K(K({},Y.dependencies),{},(0,y.Z)({},n.name,n.version))}),i({type:"UPLOAD_FILE",wid:t,path:$,content:D.Z.from(JSON.stringify(u,null,"  "))}),i((0,j.ZB)({wid:t,path:$})),e.abrupt("return");case 7:return c!==$&&i((0,j.ZB)({wid:t,path:$})),e.next=10,a($);case 10:l=e.sent,p=D.Z.from(l.content).toString(),e.prev=12,f=JSON.parse(p),e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(12),i((0,_.P)({content:"Cannot parse package.json. Make sure it's valid JSON",type:"error",time:3e3})),e.abrupt("return");case 20:if(f.dependencies){e.next=29;break}return h=p.lastIndexOf("}")||0,'  \n"dependencies": {}\n',i({type:"OT_FILE_OP",wid:t,path:$,op:[h,'  \n"dependencies": {}\n'],changeSource:"libsearch"}),e.t1=D.Z,e.next=27,a($);case 27:e.t2=e.sent.content,p=e.t1.from.call(e.t1,e.t2).toString();case 29:e.t3=d().keys(f.dependencies);case 30:if((e.t4=e.t3()).done){e.next=40;break}if((g=e.t4.value).trim()!==n.name){e.next=38;break}i((0,_.P)({content:"Package already included",type:"notice",time:3e3})),v=0,b=W(p.split("\n"));try{for(b.s();!(w=b.n()).done;)m=w.value,v+=1,m.trim().startsWith('"'+g+'"')&&i((0,j.$S)({wid:t,line:v}))}catch(S){b.e(S)}finally{b.f()}return e.abrupt("return");case 38:e.next=30;break;case 40:if(x=/"dependencies"\s*:\s*{/.exec(p)){e.next=43;break}throw new Error('Expected "dependencies" in package.json');case 43:E=x[0].length+x.index,O=f.dependencies&&Object.keys(f.dependencies),k='    \n"'.concat(n.name,'": "^').concat(n.version,'"').concat(O?",":"","\n"),i({type:"OT_FILE_OP",wid:t,path:$,op:[E,k],changeSource:"libsearch"});case 47:case"end":return e.stop()}}),e,null,[[12,16]])})));return function(t,r){return e.apply(this,arguments)}}()}function J(e){return(0,u.jsxs)(m.Fragment,{children:[(0,u.jsxs)("ol",{children:[(0,u.jsxs)("li",{children:["If you don't have a ",(0,u.jsx)("code",{children:"package.json"})," file, create one (we'll do it for you if you click the add button)."]}),(0,u.jsxs)("li",{children:["Then add"," ",(0,u.jsxs)("code",{children:['"',e.name,'": "',e.version,'"']})," ","under the ",(0,u.jsx)("code",{children:"dependencies"})," JSON field."]}),(0,u.jsxs)("li",{children:["After that you'd want to check the package's"," ",(0,u.jsx)("a",{href:e.link,target:"_blank",children:"documentation"})," ","for usage"]})]}),(0,u.jsx)("br",{}),"Typically you would add a ",(0,u.jsx)("code",{children:"require"})," to the file where you want to use ",(0,u.jsx)("code",{children:e.name})]})}function Q(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ee(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var te="index.html";function re(e){var t=e.wid,r=e.pud,n=e.lib,a=e.getFile;return function(){var e=(0,p.Z)(d().mark((function e(i,o){var c,s,u,l,p,f,h,g,v,b,y,w,m,x;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=o().workspace[t].activeFile,s=o().workspace[t].plugins[r].state.files,Object.keys(s).includes(te)){e.next=5;break}return i((0,_.P)({content:"There is no index.html file to add the script to",type:"error",time:3e3})),e.abrupt("return");case 5:return c!==te&&i((0,j.ZB)({wid:t,path:te})),u='<script src="'.concat(n.include||"",'"><\/script>'),e.next=9,a(te);case 9:l=e.sent,p=D.Z.from(l.content).toString("utf8"),f=0,h=Q(p.split("\n")),e.prev=13,h.s();case 15:if((g=h.n()).done){e.next=24;break}if(v=g.value,f+=1,!v.includes(u)){e.next=22;break}return i((0,_.P)({content:"Package already installed.",type:"notice",time:3e3})),i((0,j.$S)({wid:t,line:f})),e.abrupt("return");case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:return-1===(b=p.indexOf("<script"))&&(b=p.indexOf("</body>")),i({type:"OT_FILE_OP",wid:t,path:te,op:[-1===b?p.length:b,u+"\n"],changeSource:"libsearch"}),e.next=37,a(te);case 37:y=e.sent,p=D.Z.from(y.content).toString(),f=0,w=Q(p.split("\n")),e.prev=41,w.s();case 43:if((m=w.n()).done){e.next=50;break}if(x=m.value,f+=1,!x.includes(u)){e.next=48;break}return e.abrupt("break",50);case 48:e.next=43;break;case 50:e.next=55;break;case 52:e.prev=52,e.t1=e.catch(41),w.e(e.t1);case 55:return e.prev=55,w.f(),e.finish(55);case 58:i((0,j.$S)({wid:t,line:f}));case 59:case"end":return e.stop()}}),e,null,[[13,26,29,32],[41,52,55,58]])})));return function(t,r){return e.apply(this,arguments)}}()}function ne(e){return(0,u.jsxs)(m.Fragment,{children:["To install a JavaScript package add a"," ",(0,u.jsx)("code",{children:'<script src="'.concat(e.include||"",'"><\/script>')})," to your html file (typically that's ",(0,u.jsx)("code",{children:"index.html"}),").",(0,u.jsx)("br",{}),"After that you'd want to check the ",(0,u.jsx)("a",{href:e.link,children:"documentation"})," ","for usage"]})}function ae(e){return(0,I.LK)("/data/cdnjs/search/".concat(encodeURIComponent(e)))}var ie="Gemfile";function oe(e){var t=e.wid,r=e.pud,n=e.lib,a=e.getFile;return function(){var e=(0,p.Z)(d().mark((function e(i,o){var c,s,u,l,p,f,h,g;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=o().workspace[t].activeFile,s=o().workspace[t].plugins[r].state.files,u="gem '".concat(n.name,"', '").concat(n.version,"'"),Object.keys(s).includes(ie)){e.next=7;break}return i({type:"UPLOAD_FILE",wid:t,path:ie,content:D.Z.from("source 'https://rubygems.org'\n"+u+"\n")}),i((0,j.ZB)({wid:t,path:ie})),e.abrupt("return");case 7:return c!==ie&&i((0,j.ZB)({wid:t,path:ie})),e.next=10,a(ie);case 10:if(l=e.sent,p=D.Z.from(l.content).toString(),f=null,!p.split("\n").find((function(e,t){return f=t+1,e.trim()===u}))){e.next=17;break}return i((0,j.$S)({wid:t,line:f||0})),i((0,_.P)({content:"Package already included",type:"notice",time:3e3})),e.abrupt("return");case 17:h=p.length,g=p.endsWith("\n")?"":"\n",i({type:"OT_FILE_OP",wid:t,path:ie,op:[h,g+u+"\n"],changeSource:"libsearch"}),i((0,j.$S)({wid:t,line:p.split("\n").length}));case 21:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}function ce(e){return(0,u.jsx)(m.Fragment,{children:(0,u.jsxs)("ol",{children:[(0,u.jsxs)("li",{children:["Create a ",(0,u.jsx)("code",{children:"Gemfile"})," file, (we'll do it for you if you click the add button)."]}),(0,u.jsxs)("li",{children:["Then add ",(0,u.jsx)("code",{children:e.name})," to ",(0,u.jsx)("code",{children:"Gemfile"})," on it's own line. If you want to specify a version, then add"," ",(0,u.jsx)("code",{children:e.name})," followed by a version of your choosing."]}),(0,u.jsxs)("li",{children:["After that you'd want to check the"," ",(0,u.jsx)("a",{href:e.link,rel:"external",target:"_blank",children:"documentation"})," ","for usage"]})]})})}function se(e){return(0,I.LK)("/data/rubygems/search/".concat(e))}function ue(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return le(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){(0,y.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fe="package.json",he={name:"reason-nodejs-template",version:"0.1.0",private:!0,files:["src/","bsconfig.json"],dependencies:{},devDependencies:{"bs-platform":"4.0.18"}};function ge(e){var t=e.wid,r=e.pud,n=e.lib,a=e.getFile;return function(){var e=(0,p.Z)(d().mark((function e(i,o){var c,s,u,l,p,f,h,g,v,b,w,m,x,E,O,k;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=o().workspace[t].activeFile,s=o().workspace[t].plugins[r].state.files,Object.keys(s).includes(fe)){e.next=7;break}return u=pe(pe({},he),{},{dependencies:pe(pe({},he.dependencies),{},(0,y.Z)({},n.name,n.version))}),i({type:"UPLOAD_FILE",wid:t,path:fe,content:D.Z.from(JSON.stringify(u,null,"  "))}),i((0,j.ZB)({wid:t,path:fe})),e.abrupt("return");case 7:return c!==fe&&i((0,j.ZB)({wid:t,path:fe})),e.next=10,a(fe);case 10:l=e.sent,p=D.Z.from(l.content).toString(),e.prev=12,f=JSON.parse(p),e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(12),i((0,_.P)({content:"Cannot parse package.json. Make sure it's valid JSON",type:"error",time:3e3})),e.abrupt("return");case 20:if(f.dependencies){e.next=29;break}return h=p.lastIndexOf("}")||0,'  \n"dependencies": {}\n',i({type:"OT_FILE_OP",wid:t,path:fe,op:[h,'  \n"dependencies": {}\n'],changeSource:"libsearch"}),e.t1=D.Z,e.next=27,a(fe);case 27:e.t2=e.sent.content,p=e.t1.from.call(e.t1,e.t2).toString();case 29:e.t3=d().keys(f.dependencies);case 30:if((e.t4=e.t3()).done){e.next=40;break}if((g=e.t4.value).trim()!==n.name){e.next=38;break}i((0,_.P)({content:"Package already included",type:"notice",time:3e3})),v=0,b=ue(p.split("\n"));try{for(b.s();!(w=b.n()).done;)m=w.value,v+=1,m.trim().startsWith('"'+g+'"')&&i((0,j.$S)({wid:t,line:v}))}catch(S){b.e(S)}finally{b.f()}return e.abrupt("return");case 38:e.next=30;break;case 40:if(x=/"dependencies"\s*:\s*{/.exec(p)){e.next=43;break}throw new Error('Expected "dependencies" in package.json');case 43:E=x[0].length+x.index,O=f.dependencies&&Object.keys(f.dependencies),k='    \n"'.concat(n.name,'": "').concat(n.version,'"').concat(O?",":"","\n"),i({type:"OT_FILE_OP",wid:t,path:fe,op:[E,k],changeSource:"libsearch"});case 47:case"end":return e.stop()}}),e,null,[[12,16]])})));return function(t,r){return e.apply(this,arguments)}}()}function ve(e){return(0,u.jsxs)(m.Fragment,{children:[(0,u.jsxs)("ol",{children:[(0,u.jsxs)("li",{children:["If you don't have a ",(0,u.jsx)("code",{children:"package.json"})," file, create one (we'll do it for you if you click the add button)."]}),(0,u.jsxs)("li",{children:["Then add"," ",(0,u.jsxs)("code",{children:['"',e.name,'": "',e.version,'"']})," ","under the ",(0,u.jsx)("code",{children:"dependencies"})," JSON field."]}),(0,u.jsxs)("li",{children:["After that you'd want to check the package's"," ",(0,u.jsx)("a",{href:e.link,target:"_blank",children:"documentation"})," ","for usage"]})]}),(0,u.jsx)("br",{}),"Typically you would add a ",(0,u.jsx)("code",{children:"require"})," to the file where you want to use ",(0,u.jsx)("code",{children:e.name})]})}var be=r(94184),ye=r.n(be);function we(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,b.Z)(e);if(t){var a=(0,b.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,v.Z)(this,r)}}var me,xe,Ee,Oe=function(e){(0,g.Z)(r,e);var t=we(r);function r(){var e;(0,f.Z)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={loading:!1,query:e.props.query,hovered:null},e.handleQueryChange=function(t){var r=t.currentTarget.value;e.setState({query:r}),e.updateLibraries(r)},e.listHoverChange=function(t){var r;r=t.currentTarget instanceof window.HTMLUListElement&&t.target instanceof window.HTMLLIElement?parseInt(t.target.dataset.index,10):null,e.setState({hovered:r})},e.moveSelector=function(t){var r;if(40===t.keyCode)r=1;else{if(38!==t.keyCode)return 13===t.keyCode&&null!==e.state.hovered?void e.props.onSelectLibrary(e.props.libraries[e.state.hovered]):void 0;r=-1}null===e.state.hovered?e.setState({hovered:0}):e.state.hovered+r>=0&&e.state.hovered+r<e.props.libraries.length&&e.setState({hovered:e.state.hovered+r}),t.preventDefault()},e.updateLibraries=function(t){if(!t)return e.props.resetSearchState(),void e.setState({loading:!1});e.setState({loading:!0}),e.props.onSearch(t)},e}return(0,h.Z)(r,[{key:"componentDidMount",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.libraries!==e.libraries&&this.setState({loading:!1,hovered:null})}},{key:"render",value:function(){var e=this;return(0,u.jsxs)("div",{onKeyDown:this.moveSelector,className:"jsx-3475785219 libsearch-search",children:[(0,u.jsxs)("div",{className:"jsx-3475785219 libsearch-search-input",children:[(0,u.jsx)("input",{type:"text",placeholder:"search for a package",ref:function(t){return e.inputRef=t},value:this.state.query,onChange:this.handleQueryChange,autoFocus:!0,className:"jsx-3475785219"}),this.state.loading&&(0,u.jsx)("div",{title:"loading",className:"jsx-3475785219 libsearch-search-loading"})]}),0===this.props.libraries.length&&0!==this.props.query.length&&!this.state.loading&&(0,u.jsx)("div",{className:"jsx-3475785219 libsearch-search-no-results",children:"Sorry, no packages found"}),this.props.libraries.length>0&&(0,u.jsx)("ul",{onMouseOver:this.listHoverChange,className:"jsx-3475785219 libsearch-search-result",children:this.props.libraries.map((function(t,r){return(0,u.jsxs)("li",{"data-index":r,onClick:function(){return e.props.onSelectLibrary(t)},className:"jsx-3475785219 "+(ye()("libsearch-search-item",{"libsearch-search-item-hover":e.state.hovered===r})||""),children:[t.name,": ",t.description||"(No description)"]},t.name)}))}),(0,u.jsx)(w.default,{id:"3475785219",children:[".libsearch-search.jsx-3475785219{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;width:100%;overflow:auto;color:var(--foreground-default);}",".libsearch-search-input.jsx-3475785219{width:100%;position:relative;}",".libsearch-search-input.jsx-3475785219 input.jsx-3475785219::-webkit-input-placeholder{color:var(--foreground-dimmer);}",".libsearch-search-input.jsx-3475785219 input.jsx-3475785219::-moz-placeholder{color:var(--foreground-dimmer);}",".libsearch-search-input.jsx-3475785219 input.jsx-3475785219:-ms-input-placeholder{color:var(--foreground-dimmer);}",".libsearch-search-input.jsx-3475785219 input.jsx-3475785219::placeholder{color:var(--foreground-dimmer);}",".libsearch-search-input.jsx-3475785219 input.jsx-3475785219{padding:12px ".concat(30,"px 15px 12px;font-size:15px;width:100%;border-top:none;border-right:none;border-left:none;outline:none;background:var(--background-default);border-bottom:solid 1px var(--foreground-dimmest);color:var(--foreground-default);}"),".libsearch-search-input.jsx-3475785219 input.jsx-3475785219:focus{border-color:var(--accent-primary-default);}",".libsearch-search-loading.jsx-3475785219{position:absolute;top:8.5px;right:0px;width:".concat(30,"px;height:23px;background-image:url(/public/images/loading_dots.gif);background-position:center center;background-repeat:no-repeat;background-size:contain;}"),".libsearch-search-no-results.jsx-3475785219{font-size:15px;margin-top:20px;text-align:center;}",".libsearch-search-result.jsx-3475785219{list-style:none;}",".libsearch-search-item.jsx-3475785219{cursor:pointer;font-size:15px;padding:12px 15px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--foreground-default);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}",".libsearch-search-item-hover.jsx-3475785219{background-color:var(--accent-primary-dimmest);}"]})]})}}]),r}(m.Component),ke=r(18454),Se=r.n(ke),je=r(37253),_e=r(88244),Ze=function(e){var t=e.lib,r=e.packageInstructions,n=e.onBack,a=e.onInstall;return(0,u.jsxs)("div",{className:"jsx-1133481176 libsearch-details",children:[(0,u.jsxs)("div",{onClick:n,className:"jsx-1133481176 libsearch-details-back",children:[(0,u.jsx)(Se(),{size:4.5,direction:"left",color:"currentColor"})," back to search"," "]}),(0,u.jsxs)("div",{className:"jsx-1133481176 libsearch-details-header",children:[(0,u.jsx)("div",{className:"jsx-1133481176 libsearch-details-libname",children:t.name}),(0,u.jsx)("div",{onClick:a,title:"Add package",className:"jsx-1133481176 libsearch-details-cta",children:(0,u.jsx)(_e.Z,{backgroundColor:"var(--background-default)",foregroundColor:"var(--foreground-default)",borderColor:"var(--accent-positive-dimmer)"})})]}),(0,u.jsx)("div",{className:"jsx-1133481176 libsearch-details-description",children:t.description||"This package has no description."}),(0,u.jsx)("div",{className:"jsx-1133481176 libsearch-details-link",children:(0,u.jsx)("a",{href:t.link,rel:"external",target:"_blank",className:"jsx-1133481176",children:"Package homepage"})}),(0,u.jsx)("div",{className:"jsx-1133481176 libsearch-details-seperator"}),(0,u.jsx)(je.Z,{title:"Manual installation",expanded:!1,arrowSize:3.25,arrowBorderWidth:1.25,children:(0,u.jsx)("div",{className:"jsx-1133481176 libsearch-details-instructions",children:r})}),(0,u.jsx)(w.default,{id:"1133481176",children:[".libsearch-details.jsx-1133481176{padding:12px 15px;height:calc(100% - 43px);overflow-y:auto;overflow-x:hidden;color:var(--foreground-default);}",".libsearch-details-back.jsx-1133481176{cursor:pointer;margin-bottom:20px;}",".libsearch-details-back.jsx-1133481176:hover{color:var(--accent-primary-default);}",".libsearch-details-header.jsx-1133481176{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:20px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}",".libsearch-details-cta.jsx-1133481176{height:22px;width:22px;cursor:pointer;}",".libsearch-details-title.jsx-1133481176{font-size:16px;}",".libsearch-details-description.jsx-1133481176{margin-bottom:20px;line-height:1.25;}",".libsearch-details-link.jsx-1133481176{margin-bottom:20px;}",".libsearch-details-seperator.jsx-1133481176{background-color:var(--background-root);margin-left:-15px;padding-right:30px;width:100%;height:1px;box-sizing:content-box;margin-bottom:20px;}",".libsearch-details-instructions.jsx-1133481176{max-width:100%;margin-top:10px;font-size:15px;line-height:1.5;}",".libsearch-details-instructions.jsx-1133481176 code{max-width:100%;font-size:80%;background-color:var(--background-root);color:var(--foreground-dimmer);}",".libsearch-details-instructions.jsx-1133481176>div.jsx-1133481176{margin-bottom:10px;}",".libsearch-details-instructions.jsx-1133481176 ol{list-style-position:inside;}",".libsearch-details-instructions.jsx-1133481176 li{margin-bottom:10px;}"]})]})},Le=r(32224),Pe=r(4433),De=r(58525),Ie=r(6913);function Ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,b.Z)(e);if(t){var a=(0,b.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,v.Z)(this,r)}}function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){(0,y.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ne="LIBSEARCH_RESULTS",Te="LIBSEARCH_QUERY",Fe="LIBSEARCH_SELECT_LIB",Me="LIBSEARCH_INSTALL_SELECTED";function Ue(e){var t=e.libraries,r=e.wid;return{type:Ne,libraries:t,wid:r}}function Be(e){var t=e.query,r=e.wid;return{type:Te,query:t,wid:r}}function He(e){var t=e.lib,r=e.wid;return{type:Fe,lib:t,wid:r}}function Ge(e){var t=e.wid;return{type:Me,wid:t}}function Ve(e){switch(e){case"python":case"python_beta":case"python3":case"python3_beta":case"django":case"pygame":case"tkinter":return n;case"ruby":case"ruby_beta":case"rails":case"sinatra":return c;case"javascript":return a;case"html":return o;case"reactre":case"reactts":case"reactjs":case"gatsbyjs":case"nodejs":case"nodejs_beta":case"nodejs_prybar":case"nextjs":case"express":case"typescript":return i;case"reason_nodejs":return s;default:throw new Error("Unrecognized lang: "+e)}}var We=(0,x.$j)((function(e,t){var r=e.workspace[t.wid].plugins[t.pud].state,n=L().getCanonicalName(r.repl.language);return Re(Re({},r),{},{packman:Ve(n),language:n})}),(function(e){return Re(Re({},(0,E.DE)({installSelected:Ge,showMessage:_.P,setSearchQuery:Be,setSearchResults:Ue,setSelectedLib:He},e)),{},{dispatch:e})}))((Ee=xe=function(e){(0,g.Z)(r,e);var t=Ce(r);function r(){var e;(0,f.Z)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onSearch=function(t){(0,P.track)(P.events.PACKAGES_SEARCHED,{query:e.props.query}),e.props.setSearchQuery({query:t,wid:e.props.wid}),e.search(t)},e.search=k()(function(){var t=(0,p.Z)(d().mark((function t(r){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.packman.search(r);case 3:n=t.sent,t.next=10;break;case 6:throw t.prev=6,t.t0=t.catch(0),e.props.showMessage({type:"error",content:"Failed to search: ".concat(t.t0.message),time:2e3}),t.t0;case 10:e.props.setSearchResults({libraries:n,wid:e.props.wid});case 11:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),200),e.resetSearchState=function(){e.props.setSearchQuery({query:"",wid:e.props.wid}),e.props.setSearchResults({libraries:[],wid:e.props.wid})},e}return(0,h.Z)(r,[{key:"componentDidMount",value:function(){(0,P.track)(P.events.LIBRARIES_SEARCHED,{wid:this.props.wid,language:this.props.language})}},{key:"render",value:function(){var e=this,t=this.props,r=t.selectedLib,n=t.wid;return(0,u.jsxs)("div",{style:this.props.style,className:"jsx-11303655 libsearch",children:[(0,u.jsx)("div",{className:"jsx-11303655 libsearch-header",children:(0,u.jsx)(S.Z,{level:4,children:"Packages"})}),r?(0,u.jsx)(Ze,{lib:r,onInstall:function(){return e.props.installSelected({wid:n})},packageInstructions:this.props.packman.instructions(r),onBack:function(){return e.props.setSelectedLib({lib:null,wid:n})}}):(0,u.jsx)(Oe,{resetSearchState:this.resetSearchState,onSearch:this.onSearch,onSelectLibrary:function(t){return e.props.setSelectedLib({lib:t,wid:n})},query:this.props.query,libraries:this.props.libraries}),(0,u.jsx)(w.default,{id:"11303655",children:[".libsearch.jsx-11303655{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;background-color:var(--background-default);border-top-right-radius:var(--border-radius-4);border-bottom-right-radius:var(--border-radius-4);box-shadow:var(--shadow-1);}",".libsearch-header.jsx-11303655{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--space-48);padding:var(--space-8) 0;position:relative;color:var(--foreground-default);width:100%;}"]})]})}}]),r}(m.Component),xe.defaultProps={style:{}},me=Ee))||me,qe=(0,Le.$)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{libraries:[],query:"",selectedLib:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.qg:return Re(Re({},e),t.initialState);case Ne:return Re(Re({},e),{},{libraries:t.libraries});case Te:return Re(Re({},e),{},{query:t.query});case Fe:return Re(Re({},e),{},{selectedLib:t.lib})}return e},repl:Pe.E,files:Ie.Z}),ze=(0,De.Z)((function(e,t,r,n){return r.type===Me?function(){var r=(0,p.Z)(d().mark((function r(a,i){var o,c,s;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=i().workspace[e].plugins[t].state,c=o.repl,s=o.selectedLib){r.next=3;break}throw new Error("Expected library");case 3:return(0,P.track)(P.events.PACKAGES_SELECTED,{package:s.name}),r.next=6,a(Ve(c.language).install({wid:e,pud:t,lib:s,getFile:function(r){return a(Ke({wid:e,pud:t,wait:n,path:r}))}}));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}():null}));function Ke(e){var t=e.wid,r=e.pud,n=e.wait,a=e.path;return function(){var e=(0,p.Z)(d().mark((function e(i,o){var c,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=o().workspace[t].plugins[r].state.files,(s=c[a])&&!1!==s.loaded){e.next=7;break}return setTimeout(i({type:"LOAD_FILE",wid:t,path:a}),0),e.next=6,n((function(e){return("FILE_LOADED"===e.type||"FILE_CACHE_HIT"===e.type)&&e.path===a}));case 6:s=o().workspace[t].plugins[r].state.files[a];case 7:return e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}},28147:function(e,t,r){"use strict";r.r(t),r.d(t,{Component:function(){return d}});var n=r(35944),a=r(65988),i=r(67294),o=r(77935),c=r(87644),s=r(27974),u=r(80136),l=r(8438);function d(e){var t=e.style,r=e.wid,d=(0,s.Z)(),p=null!==d?(0,u.P)(d.language):null,f=null!==d&&null!==p?u.z[p]:[];return i.useEffect((function(){var e=null===d||void 0===d?void 0:d.language;(0,c.track)(c.events.LIBRARIES_SEARCHED,{wid:r,language:e})}),[null===d||void 0===d?void 0:d.language,r]),(0,n.BX)("div",{style:t,className:"jsx-566354438 pkgsearch",children:[(0,n.tZ)("div",{className:"jsx-566354438 pkgsearch-header",children:(0,n.tZ)(o.Z,{level:4,children:"Packages"})}),(0,n.tZ)(l.Z,{filesAffected:f}),(0,n.tZ)(a.default,{id:"566354438",children:[".pkgsearch.jsx-566354438{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;background-color:var(--background-default);border-top-right-radius:var(--border-radius-4);border-bottom-right-radius:var(--border-radius-4);}",".pkgsearch-header.jsx-566354438{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--space-48);padding:var(--space-16) var(--space-8);position:relative;color:var(--foreground-default);width:100%;}"]})]})}},71821:function(e,t,r){"use strict";r.r(t),r.d(t,{Component:function(){return f}});var n=r(35944),a=r(65988),i=r(67294),o=r(87644),c=r(20943),s=r(14795),u=r(25263),l=r(27974),d=r(13112),p=r(77935);function f(e){var t=e.wid,r=e.style,f=(0,l.Z)(),h=(0,d.I0)();return i.useEffect((function(){f&&(0,o.track)(o.events.PREFERENCES_OPENED,{wid:t,language:f.language})}),[t,f]),(0,n.BX)("div",{style:r,className:"jsx-275685224 workspace-preferences",children:[(0,n.tZ)("div",{className:"jsx-275685224 preferences-header",children:(0,n.tZ)(p.Z,{level:4,children:"Settings"})}),(0,n.tZ)(u.Z,{onBeforePreferencesUpdate:function(e){void 0!==e.isLayoutStacked&&h(function(e,t){return function(r,n){var a=n().workspace[e],i=a.layout,o=a.plugins,u=s.PP(i,o,"editor")||s.PP(i,o,"blank")||s.PP(i,o,"markdownviewer")||s.PP(i,o,"mediaview"),l=s.PP(i,o,"console")||s.PP(i,o,"terminal2");if(l&&u){var d=s.i3(u,l);if(d){r((0,c.fc)({wid:e,path:d,property:"stacked",to:t}));var p=s.PP(i,o,"webview")||s.PP(i,o,"replboxdisplay");if(p){var f=s.i3(p,l);f&&r((0,c.fc)({wid:e,path:f,property:"stacked",to:!t}))}}}}}(t,e.isLayoutStacked)),h({type:c.Dq,wid:t,updates:e})}}),(0,n.tZ)(a.default,{id:"275685224",children:[".workspace-preferences.jsx-275685224{background:var(--background-default);border-top-right-radius:var(--border-radius-4);border-bottom-right-radius:var(--border-radius-4);overflow-y:auto;}",".preferences-header.jsx-275685224{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--space-48);padding:var(--space-16) var(--space-8);color:var(--foreground-default);width:100%;}"]})]})}},27703:function(e,t,r){"use strict";r.r(t),r.d(t,{Component:function(){return v}});var n=r(35944),a=r(28140),i=r(32292),o=r(65988),c=r(67294),s=r(8346),u=r(14692),l=r(79381),d=r(55873),p=r(58586),f=r(5152),h=r(97600),g=(0,f.default)((function(){return Promise.all([r.e(571),r.e(7912)]).then(r.bind(r,87912))}),{loading:function(){return(0,n.tZ)(p.Z,{messages:[]})},loadableGenerated:{webpack:function(){return[87912]},modules:["../console/Console"]}});function v(){var e=function(e){var t,r=e.replbox,n=e.replId,o=c.useState([]),s=(0,i.Z)(o,2),u=s[0],p=s[1],f=c.useState(""),g=(0,i.Z)(f,2),v=g[0],b=g[1],y=c.useState(l.A.OFFLINE),w=(0,i.Z)(y,2),m=w[0],x=w[1],E=(0,d.wkf)({variables:{replId:n}}),O="Repl"===(null===(t=E.data)||void 0===t?void 0:t.repl.__typename)?E.data.repl:null;if(c.useEffect((function(){if(O){O.lang.hasReplboxWebview||r.load({replId:O.id,language:O.lang.id});var e=O.lang.header?{data:"".concat(O.lang.header,"\n"),type:""}:null,t=[r.onStateChanged(x),r.onOutput((function(e){p((function(t){return[].concat((0,a.Z)(t),[{data:e,type:""}])}))})),r.onResult((function(e){p((function(t){return[].concat((0,a.Z)(t),[{data:e,type:"result"}])}))})),r.onError((function(e){p((function(t){return[].concat((0,a.Z)(t),[{data:e,type:"error"}])}))})),r.onReset((function(){p(e?[e]:[])}))];return function(){t.forEach((function(e){return e()}))}}}),[r,O]),!O)return null;var k=null!==O&&void 0!==O&&O.lang.header?{data:"".concat(O.lang.header,"\n"),type:""}:null;return{messages:k?[k].concat((0,a.Z)(u)):u,setConsoleMessages:p,setPromptValue:b,onConsoleInput:function(e){r.getRunState()!==l.A.STOPPING&&(m!==l.A.RUNNING?m===l.A.IDLE&&r.evalCode(e):r.write(e))},onCheckLineEnd:function(e,t){(0,h.checkLineEnd)(O.lang.id,e,t)},promptValue:v,runState:m}}({replId:(0,u.Z)(),replbox:(0,s.Z)().replbox});return e?(0,n.BX)("div",{className:"jsx-685207399 console",children:[e?(0,n.tZ)(g,{messages:e.messages,clearConsole:function(){return e.setConsoleMessages([])},setPromptValue:e.setPromptValue,onEval:e.onConsoleInput,promptState:e.runState!==l.A.IDLE?"input":"prompt",checkLineEnd:e.onCheckLineEnd,promptValue:e.promptValue,loading:e.runState===l.A.OFFLINE}):(0,n.tZ)(p.Z,{messages:[]}),(0,n.tZ)(o.default,{id:"685207399",children:[".console.jsx-685207399{width:100%;height:100%;background-color:var(--background-root);border-radius:var(--border-radius-4);}"]})]}):(0,n.tZ)(p.Z,{messages:[]})}},73633:function(e,t,r){"use strict";r.r(t),r.d(t,{Component:function(){return f}});var n=r(35944),a=r(32292),i=r(65988),o=r(67294),c=r(8346),s=r(14692),u=r(79381),l=r(55873),d=r(30414),p=r(87644);function f(){var e=(0,s.Z)(),t=(0,c.Z)().replbox,r=function(e){var t=e.replbox,r=e.replId,n=o.useState(null),i=(0,a.Z)(n,2),c=i[0],s=i[1],d=(0,l.mPx)({variables:{replId:r}}).data,p="Repl"===(null===d||void 0===d?void 0:d.repl.__typename)?d.repl:null;return o.useEffect((function(){if(p&&c)return t.load({iframeParent:c,replId:p.id,language:p.lang.id,hostedUrl:p.devUrl}),function(){t.getRunState()!==u.A.OFFLINE&&t.destroy()}}),[t,p,c]),{ref:s,repl:p}}({replId:e,replbox:t}),f=r.ref,h=r.repl;return(0,n.BX)("div",{className:"jsx-340596916 root",children:[null!==h&&void 0!==h&&h.lang.hasReplboxUrlBar?(0,n.tZ)(d.Z,{canEditDomain:h.currentUserPermissions.linkDomain,anon:h.devUrl.includes("--five-nine.repl.co"),url:h.config.domain?"https://".concat(h.config.domain):h.prodUrl,trackUrlSelect:function(){(0,p.trackOnce)(p.events.WEB_HOSTING_URL_SELECTED,{url:h.devUrl})},replId:e,onRefresh:t.refreshWebview,canBeClosed:!1,closeCallback:function(){}}):null,(0,n.tZ)("div",{ref:f,className:"jsx-340596916 iframe-wrapper"}),(0,n.tZ)(i.default,{id:"340596916",children:[".root.jsx-340596916{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".iframe-wrapper.jsx-340596916{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}",".iframe-wrapper.jsx-340596916 iframe{width:100%;height:100%;border:none;display:block;background-color:var(--white);border-bottom-left-radius:var(--border-radius-4);border-bottom-right-radius:var(--border-radius-4);}"]})]})}},17165:function(e,t,r){"use strict";r.r(t),r.d(t,{Component:function(){return G},receiver:function(){return q},reducer:function(){return W}});var n=r(26265),a=r(35944),i=r(809),o=r.n(i),c=r(92447),s=r(32292),u=r(67294),l=r(13112),d=r(46944),p=r(41662),f=r(65988),h=r(50055);var g,v=r(23541),b=r(41422),y=r(25763),w=r(89715),m=r(49822),x=r(38699),E=function(e){var t=e.style,r=e.clearConsole,n=e.findPrevious,i=e.findNext,o=e.refCallback,c=e.wid,l=e.pud,d=(0,w.Fg)(),p=u.useState(!1),h=(0,s.Z)(p,2),g=h[0],E=h[1];return(0,a.tZ)(m.xW,{stepId:x.H.Output,children:(0,a.BX)("div",{style:t,onKeyDown:function(e){"f"===e.key&&(0,b.jh)(e)&&!e.shiftKey&&(E(!0),e.preventDefault())},className:"jsx-3705234327 "+"".concat(w.RJ," ").concat(d===w.V2.replitSpooky?"spooky":"dark"),children:[(0,a.BX)("div",{style:{},className:"jsx-3705234327 console",children:[(0,a.tZ)("div",{className:"jsx-3705234327 controls",children:(0,a.BX)(y.Ug,{align:"center",wrap:"nowrap",children:[g?(0,a.tZ)(v.Rh,{findPrevious:n,findNext:i,exit:function(){return E(!1)}}):(0,a.tZ)(v.lD,{onClick:function(){return E(!0)}}),(0,a.tZ)(v.Zr,{onClick:r})]})}),(0,a.tZ)("div",{ref:o,className:"jsx-3705234327 xterm-container"}),(0,a.tZ)(k,{wid:c,pud:l})]}),(0,a.tZ)(f.default,{id:"664855680",children:[".xterm .xterm-viewport{overflow-y:auto !important;}"]}),(0,a.tZ)(f.default,{id:"1758466174",children:[".console.jsx-3705234327{height:100%;position:relative;background-color:var(--background-default);border-radius:var(--border-radius-4);overflow:hidden;padding-left:1em;padding-top:10px;z-index:1;}",".controls.jsx-3705234327{position:absolute;top:var(--space-8);right:var(--space-16);z-index:5;}",".xterm-container.jsx-3705234327{width:100%;box-sizing:border-box;height:100%;}"]})]})})},O=(g={},(0,n.Z)(g,-1,"Loading..."),(0,n.Z)(g,-2,"Fetching token"),(0,n.Z)(g,h.api.BootStatus.Stage.ACQUIRING,"Booting Repl"),(0,n.Z)(g,h.api.BootStatus.Stage.PULL_FILES,"Downloading files"),(0,n.Z)(g,h.api.BootStatus.Stage.LOAD_BLOCK,"Downloading files"),(0,n.Z)(g,h.api.BootStatus.Stage.COMPLETE,"Ready"),g),k=function(e){var t=e.wid,r=e.pud,n=(0,p.J)(t,r,"terminal2"),i=(0,s.Z)(n,1)[0],o=i.connectionLoadingStatus,c=i.loadingEngine,l=u.useState(!c),d=(0,s.Z)(l,2),g=d[0],v=d[1],b=u.useState(null),y=(0,s.Z)(b,2),w=y[0],m=y[1],x=u.useState(o.stage in O?o:{stage:-1}),E=(0,s.Z)(x,2),k=E[0],S=E[1],j=u.useState(k.progress||0),_=(0,s.Z)(j,2),Z=_[0],L=_[1],P=u.useRef(k.progress||0),D=u.useRef(null);u.useEffect((function(){o.stage in O&&(k.stage!==o.stage&&(m(k),L(0),D.current=null),S(o))}),[o]),u.useEffect((function(){if(k.progress&&k.total)if(k.stage===h.api.BootStatus.Stage.LOAD_BLOCK){if(!(Z>k.progress)){var e=Date.now(),t=0;if(D.current){var r=e-D.current,n=k.progress-P.current;t=n/r*50}else{t=5e4}D.current=e,P.current=k.progress;var a=k.total,i=setInterval((function(){L((function(e){var r=e+t;return r>a?a:r}))}),50);return function(){return clearInterval(i)}}}else L(k.progress)}),[k.progress]);var I=k.stage===h.api.BootStatus.Stage.COMPLETE;if(u.useEffect((function(){if(I){var e=setTimeout((function(){v(!0)}),1e3);return function(){return clearTimeout(e)}}}),[I]),g)return(0,a.tZ)(a.HY,{});var C=0;switch(k.stage){case-2:C=0;break;case-1:C=10;break;case h.api.BootStatus.Stage.ACQUIRING:C=20;break;case h.api.BootStatus.Stage.PULL_FILES:case h.api.BootStatus.Stage.LOAD_BLOCK:C=20+70*(k.total?Z/k.total:1);break;case h.api.BootStatus.Stage.COMPLETE:C=100;break;default:!function(e){throw new Error("Unhandled discriminated union member: ".concat(JSON.stringify(e)))}(k.stage)}return(0,a.BX)("div",{style:{opacity:I?0:1},className:"jsx-3665755028 loader-container",children:[(0,a.BX)("div",{className:"jsx-3665755028",children:[w&&(0,a.BX)("div",{className:"jsx-3665755028 prev-status status",children:[O[w.stage],w.total&&" 100%"]},O[w.stage]),(0,a.BX)("div",{className:"jsx-3665755028 current-status status",children:[O[k.stage],k.total&&" ".concat(Math.floor(Z/k.total*100),"%")]},O[k.stage])]}),(0,a.tZ)("div",{className:"jsx-3665755028 loader-bar",children:(0,a.tZ)("div",{style:{width:C+"%"},className:"jsx-3665755028 loader-filler"})}),(0,a.tZ)(f.default,{id:"3665755028",children:[".loader-container.jsx-3665755028{position:absolute;left:25%;right:25%;top:47%;background-color:transparent;color:white;-webkit-transition:opacity 0.5s 2s;transition:opacity 0.5s 2s;}",".loader-bar.jsx-3665755028{background:none;border:solid white 1px;border-radius:10px;}",".loader-filler.jsx-3665755028{height:5px;background-color:#fff;-webkit-transition:width cubic-bezier(0.28,0.26,0.33,1) 2s;transition:width cubic-bezier(0.28,0.26,0.33,1) 2s;}",".status.jsx-3665755028{text-align:center;position:absolute;width:100%;top:-2em;opacity:1;}",".current-status.jsx-3665755028{-webkit-animation:fade-in-jsx-3665755028 0.6s;animation:fade-in-jsx-3665755028 0.6s;}",".prev-status.jsx-3665755028{top:-6em;opacity:0;-webkit-transition:top 0.4s,opacity 0.4s;transition:top 0.4s,opacity 0.4s;}","@-webkit-keyframes fade-in-jsx-3665755028{0%{opacity:0;top:0em;}100%{opacity:1;top:-2em;}}","@keyframes fade-in-jsx-3665755028{0%{opacity:0;top:0em;}100%{opacity:1;top:-2em;}}"]})]})},S=r(1641);function j(e){return _.apply(this,arguments)}function _(){return(_=(0,c.Z)(o().mark((function e(t){var r,n,a,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.Z)(t);case 2:return r=e.sent,n=r.xterm,a=r.fitAddon,i=r.searchAddon,c=r.setTheme,n.fit=function(){return a.fit()},n.searchAddon=i,n.setTheme=c,e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=r(20943),L=r(87644),P=r(93096),D=r.n(P),I=r(14692),C=r(55873),A=r(74141),R=r(8346),N=r(37321),T=r(16578);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H(e){return!!e&&!(0===e.h.px&&0===e.h.pc||0===e.w.px&&0===e.w.pc)}function G(e){var t=e.wid,r=e.pud,n=e.style,i=e.dimensions,d=(0,I.Z)(),f=(0,p.J)(t,r,"terminal2"),h=(0,s.Z)(f,1)[0],g=h.lite,v=h.preventFocus,b=h.enabled,y=(0,R.Z)(),m=y.fs,x=y.debuggest,O=(0,N.Z)("flag-xterm-file-parser"),k=u.useState(null),S=(0,s.Z)(k,2),_=S[0],L=S[1],P=u.useRef(null),F=(0,l.I0)(),M=u.useCallback((function(){F((0,Z.En)({wid:t,pud:r}))}),[F,t,r]),U=u.useCallback((function(e){_&&_.searchAddon.findNext(e)}),[_]),B=u.useCallback((function(e){_&&_.searchAddon.findPrevious(e)}),[_]),G=u.useCallback((function(){W.current&&W.current.fit()}),[]),W=u.useRef(null);u.useEffect((function(){W.current=_,G()}),[_,G]);var q=u.useRef(D()(G,50)).current,z=u.useCallback((function(){_&&(window.removeEventListener("resize",q),_.dispose())}),[_,q]);u.useEffect((function(){return function(){z()}}),[z]),u.useEffect((function(){H(i)&&q()}),[i,q]);var K=u.useCallback(function(){var e=(0,c.Z)(o().mark((function e(n){var a,c,s,u,l,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&P.current!==n&&(!i||H(i))){e.next=3;break}return!_||g||v||_.focus(),e.abrupt("return");case 3:return P.current=n,_&&z(),e.next=7,A.l.query({query:C.DkS,variables:{replId:d}});case 7:return a=e.sent,c="Repl"===a.data.repl.__typename?a.data.repl:void 0,e.next=11,j({loadFileParserAddon:O,onFileLinkClick:function(e,r,n){return F({wid:t,type:"OPEN_DEEP_LINK",path:e,line:r,col:n})},listFiles:m.listFiles,replSlug:null===c||void 0===c?void 0:c.slug});case 11:s=e.sent,L(s),s.open(n),u=null===c||void 0===c?void 0:c.lang.header,s.clear=function(){s.reset(),u&&s.write("".concat(u.replace(/\n/g,"\n\r"),"\n\r"))},s.clear(),l=s.rows,p=s.cols,F((0,Z.H2)({rows:l,cols:p,wid:t})),s.onData((function(e){if(b){var r=x.mainClient.current;r&&"terminated"!==r.state.current?r.sendInput(e):F({type:"CONSOLE_INPUT",wid:t,input:e})}})),s.onResize((function(){F((0,Z.H2)({rows:l,cols:p,wid:t}))})),s.attachCustomKeyEventHandler((function(e){return(0,T.h)(s,e)})),g||v||s.focus(),window.addEventListener("resize",q),F(V({wid:t,pud:r,term:s}));case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[F,z,i,q,g,v,d,r,_,t,b,m,x,O]),$=(0,w.Fg)();return u.useEffect((function(){_&&_.setTheme($)}),[_,$]),(0,a.tZ)(E,{wid:t,pud:r,style:n,clearConsole:M,refCallback:K,findNext:U,findPrevious:B},"".concat(t).concat(r,"terminal2"))}function V(e){var t=e.wid,r=e.pud,n=e.term;return function(e,a){var i=(0,p.Z)(a(),t,r,"terminal2").bufferedTermData;e({type:"CLEAR_BUFFERED_DATA",wid:t,pud:r});var o,c=U(i);try{for(c.s();!(o=c.n()).done;){var s=o.value;n.write(s)}}catch(u){c.e(u)}finally{c.f()}e({type:"SET_TERM",wid:t,pud:r,termHandle:d.Z.getHandle(n)})}}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{termHandle:null,loadingEngine:!0,bufferedTermData:[],lite:!1,connectionLoadingStatus:{stage:-2},enabled:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.qg:return M(M({},e),t.initialState);case Z.zT:return M(M({},e),{},{termHandle:null,connectionLoadingStatus:{stage:-2}});case Z.hq:return M(M({},e),{},{loadingEngine:!0,bufferedTermData:[],connectionLoadingStatus:{stage:-1}});case Z.FG:return M(M({},e),{},{loadingEngine:!1});case"DISABLE_CONSOLE":return M(M({},e),{},{enabled:!1});case"ENABLE_CONSOLE":return M(M({},e),{},{enabled:!0});case"SET_TERM":return M(M({},e),{},{termHandle:t.termHandle});case"BUFFER_TERM_DATA":return M(M({},e),{},{bufferedTermData:e.bufferedTermData.concat(t.data)});case"CLEAR_BUFFERED_DATA":return M(M({},e),{},{bufferedTermData:[]});case"UPDATE_ENGINE_LOAD_STATUS":return M(M({},e),{},{connectionLoadingStatus:{stage:t.stage,progress:t.progress,total:t.total}});default:return e}}function q(e,t,r){switch(r.type){case"EVAL_SETUP":return function(e){var t=e.wid,r=e.pud;return function(e,n){var a=(0,p.Z)(n(),t,r,"terminal2"),i=a.termHandle,o=a.preventFocus;if(i&&!o&&i){var c=d.Z.get(i);c&&c.focus()}}}({wid:e,pud:t});case Z.fv:return function(e){var t=e.wid,r=e.pud;return function(e,n){var a=(0,p.Z)(n(),t,r,"terminal2").termHandle;if(a){var i=d.Z.get(a);i&&i.clear()}}}({wid:e,pud:t});case Z.wP:return function(e){var t=e.wid,r=e.pud,n=e.message;return function(e,a){var i=(0,p.Z)(a(),t,r,"terminal2"),o=i.termHandle;if(i.enabled){var c=n.data;if(n.raw||(c=c.replace(/\n/g,"\n\r"),"error"===n.type&&(c="\x1b[31m".concat(c,"\x1b[00m"))),o){var s=d.Z.get(o);s?s.write(c):e({type:"BUFFER_TERM_DATA",wid:t,pud:r,data:c})}else e({type:"BUFFER_TERM_DATA",wid:t,pud:r,data:c})}}}({wid:e,pud:t,message:r.message});case Z.FG:return function(e){var t=e.wid,r=e.pud;return function(e,n){var a=(0,p.Z)(n(),t,r,"terminal2").termHandle;if(a){var i=d.Z.get(a);i&&(e((0,Z.H2)({rows:i.rows,cols:i.cols,wid:t})),(0,L.track)(L.events.NEW_TERMINAL_SPLIT_TEST,{}))}}}({wid:e,pud:t});case"FIT_TERMINAL":return function(e){var t=e.wid,r=e.pud;return function(e,n){var a=(0,p.Z)(n(),t,r,"terminal2").termHandle;if(a){var i=d.Z.get(a);i&&i.fit()}}}({wid:e,pud:t});default:return null}}},68702:function(e,t,r){"use strict";r.r(t),r.d(t,{Component:function(){return w},reducer:function(){return y}});var n=r(35944),a=r(32292),i=r(26265),o=r(65988),c=r(67294),s=r(41662),u=r(95151),l=r(67645),d=r(8346),p=r(71614);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g="CONNECT_VNC",v="SET_VNC_URL",b="LOADING_GOVAL_STARTED";function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vncUrl:"",connectCalled:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return h(h({},e),{},{vncUrl:t.vncUrl});case g:return h(h({},e),{},{connectCalled:!0,vncUrl:t.vncUrl});case b:return h(h({},e),{},{connectCalled:!1});default:return e}}var w=function(e){var t=e.wid,r=e.pud,i=(0,s.J)(t,r,"vnc"),f=(0,a.Z)(i,1)[0].connectCalled,h=(0,d.Z)(),g=h.fs,v=h.container;return c.useContext(p.F)?(0,n.tZ)(p.Y,{}):f?(0,n.BX)("div",{className:"jsx-1356276128",children:[(0,n.tZ)(u.Z,{container:v,fs:g}),(0,n.tZ)(o.default,{id:"1356276128",children:["div.jsx-1356276128{background:var(--background-root);height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]})]}):(0,n.BX)("div",{className:"jsx-2244211679",children:[(0,n.BX)(l.Z,{children:[(0,n.tZ)(l.Z,{style:{color:"var(--accent-positive-default)"},children:"Run "}),"your repl to see output"]}),(0,n.tZ)(o.default,{id:"2244211679",children:["div.jsx-2244211679{background:var(--background-root);height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]})]})}},60298:function(e,t,r){"use strict";r.r(t),r.d(t,{Component:function(){return O},reducer:function(){return w},receiver:function(){return x}});var n=r(35944),a=r(32292),i=r(26265),o=r(14795),c=r(67294),s=r(45221),u=r(55873),l=r(20943),d=r(13112),p=r(41662),f=r(90093),h=r(14692),g=r(8346),v=r(32035);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{canBeClosed:!1,autoReload:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.qg:return y(y({},e),t.initialState);default:return e}}var m=(0,s.Z)(["REFRESH_WEBVIEW","EVAL_ENDED","FILE_CLEAN"]),x=m.receiver,E=m.useReceiver;function O(e){var t=e.wid,r=e.pud,i=(0,d.I0)(),s=(0,h.Z)(),b=(0,p.J)(t,r,"webview"),y=(0,a.Z)(b,1)[0],w=y.canBeClosed,m=y.autoReload,x=(0,u.Qte)(),O=(0,a.Z)(x,2),k=O[0],S=O[1],j=(0,f.Z)().showError;c.useEffect((function(){S.error&&j(S.error)}),[S.error,j]),c.useEffect((function(){if(S.data){var e=S.data.updateRepl.repl.config;i({wid:t,type:"REPL_UPDATED",updates:{config:e}})}}),[S.data,i,t]);var _=c.useRef(null),Z=(0,g.Z)().fs;return E((function(e){var t;switch(e.action.type){case"EVAL_ENDED":case"REFRESH_WEBVIEW":null===(t=_.current)||void 0===t||t.refresh();break;case"FILE_CLEAN":var r;if(m)null===(r=_.current)||void 0===r||r.refresh()}return null})),(0,n.tZ)(v.Z,{ref:_,fs:Z,trackUrlSelect:function(e){i((0,l.R$)({wid:t,eventKey:"WEB_HOSTING_URL_SELECTED",properties:{url:e},trackOnce:!0}))},canBeClosed:w,onClose:function(){k({variables:{input:{id:s,isServer:!1}}}),i(function(e){var t=e.wid,r=e.pud;return function(e,n){var a=n().workspace[t].layout,i=o.Od(a,r),c=i.path,s=i.to;e((0,l.fc)({wid:t,path:c,to:s,property:null})),e({type:"UNLOAD_PLUGIN",wid:t,pud:r})}}({wid:t,pud:r}))}})}},9302:function(e,t,r){"use strict";r.d(t,{Z:function(){return St}});var n={};r.r(n),r.d(n,{reciever:function(){return de},reducer:function(){return le}});var a={};r.r(a),r.d(a,{Component:function(){return Te},receiver:function(){return Ce}});var i={};r.r(i),r.d(i,{Component:function(){return ze},receiver:function(){return Ge}});var o={};r.r(o),r.d(o,{Component:function(){return lt},receiver:function(){return st}});var c={};r.r(c),r.d(c,{reciever:function(){return gt},reducer:function(){return ht}});var s={};r.r(s),r.d(s,{Component:function(){return kt}});var u=r(26265),l=r(809),d=r.n(l),p=r(92447),f=r(57171),h=r(37348),g=r.n(h),v=r(20943),b=r(32224),y=r(25712),w=r(46944),m=r(58525),x=r(4433),E=r(71371),O=r(50055),k=r(75237),S=r(27646),j=r(64181),_=r(41662),Z=r(11163),L=r(54919);function P(e){var t=e.wid,r=e.pud,n=e.code,a=e.clean;return function(){var e=(0,p.Z)(d().mark((function e(i,o){var c,s,u,l,p,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=(0,_.Z)(o(),t,r,"goval"),s=c.repl,"goval"===g().get(s.language).engine){e.next=3;break}return e.abrupt("return");case 3:if(n){e.next=12;break}return u=o().services.fs,e.next=7,u.flush();case 7:return l=g().getMainFileName(s.language),e.next=10,u.readFile(l);case 10:(p=e.sent).error||(n=p.content.toString());case 12:f=i(ne({wid:t,pud:r,name:"evaler",service:"eval"})),a&&f.send({clear:{}}),i({type:W,wid:t}),f.send({eval:n});case 16:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}function D(e){var t=e.wid,r=e.pud,n=e.cmd;return function(){var e=(0,p.Z)(d().mark((function e(a){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n.body,e.next="output"===e.t0?3:"error"===e.t0?5:"result"===e.t0?8:"eval"===e.t0?11:"hint"===e.t0?13:"input"===e.t0?17:19;break;case 3:return a((0,v.yY)({wid:t,message:n.output,type:"",raw:void 0})),e.abrupt("return");case 5:return a((0,v.yY)({wid:t,message:n.error,type:"error",raw:void 0})),a({type:q,wid:t,pud:r}),e.abrupt("return");case 8:return a((0,v.yY)({wid:t,message:n.result,type:"result",raw:void 0})),a({type:q,wid:t,pud:r}),e.abrupt("return");case 11:return a({type:W,wid:t}),e.abrupt("return");case 13:if(n.hint&&n.hint.text){e.next=15;break}return e.abrupt("return");case 15:return a((0,v.yY)({wid:t,message:"\x1b[0m\x1b[33m".concat(n.hint.text,"\x1b[0m\r\n"),type:"",raw:!0})),e.abrupt("return");case 17:return a((0,v.yY)({wid:t,message:n.output,type:"",raw:void 0})),e.abrupt("return");case 19:E.Tb(new Error("Unknown eval command ".concat(n.body,". Expected output, error, state or result")));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function I(e,t){return C.apply(this,arguments)}function C(){return(C=(0,p.Z)(d().mark((function e(t,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.on("command",(function n(a){r(a)&&(t.off("command",n),e(a))}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){var t=e.wid,r=e.pud;return function(){var e=(0,p.Z)(d().mark((function e(n,a){var i,o,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(0,_.Z)(a(),t,r,"goval"),o=i.govalRunState,c=n(ne({wid:t,pud:r,name:"shellrunner",service:"shellrun2"})),!o.shellrunner){e.next=6;break}return c.send({clear:{}}),e.next=6,I(c,(function(e){return"state"===e.body}));case 6:return c.send({runMain:{}}),e.next=9,I(c,(function(e){return"state"===e.body}));case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}function R(e){var t=e.wid,r=e.pud,n=e.input;return function(e){e(ne({wid:t,pud:r,name:"shellrunner",service:"shellrun2"})).send({input:n})}}function N(e){var t=e.wid,r=e.pud,n=e.cmd;return function(e){switch(n.body){case"input":return void e((0,v.yY)({wid:t,message:n.input,type:"output",raw:!0}));case"output":return void e((0,v.yY)({wid:t,message:n.output,type:"output",raw:!0}));case"state":return void(n.state===O.api.State.Stopped?e({type:K,wid:t,pud:r}):(e({type:"CLEAR_CONSOLE",wid:t,pud:r}),e({type:z,wid:t})));default:E.Tb(new Error("Unknown run command ".concat(n.body,". Expected output or state")))}}}var T=r(75215),F=r(87644),M=r(92515),U=r(53456);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G="REGISTER_GOVAL_CHANNEL_HANDLE",V="REGISTER_CLEAR_NETWORK_LISTENERS_HANDLE",W="EVALER_STARTED",q="EVALER_ENDED",z="SHELLRUNNER_STARTED",K="SHELLRUNNER_ENDED",$="PACKAGER_STARTED",Y="PACKAGER_ENDED",X="OPTIMISTIC_RUN_STARTED",J="OPTIMISTIC_RUN_ENDED";function Q(e){var t=e.wid,r=e.pud,n=e.prefetchedConnectionMetadata;return function(){var e=(0,p.Z)(d().mark((function e(a,i){var o,c,s,u,l,p,h,v,b,y,m,x,Z,L;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(0,_.Z)(i(),t,r,"goval"),c=o.clientHandle,s=o.repl,u=o.workspaceMounted,o.didDispatchLoadingStarted||a({type:"LOADING_GOVAL_STARTED",wid:t}),u){e.next=4;break}return e.abrupt("return");case 4:return a(re({wid:t,pud:r})),l=w.Z.safeGet(c),p=null,h=function(e){1===e&&(p=a((0,k.P)({content:"Failed to connect, retrying",type:"error",time:null})))},l.getChannel(0).on("command",(function(e){switch(e.body){case"bootStatus":if(!e.bootStatus)return;return e.bootStatus.stage||(e.bootStatus.stage=O.api.BootStatus.Stage.HANDSHAKE),void a(H({type:"UPDATE_ENGINE_LOAD_STATUS",wid:t},e.bootStatus));case"portOpen":if(!e.portOpen)throw new Error("portOpen only handles portOpen commands");var n=e.portOpen,i=n.forwarded,o=n.port;if(!i)return;if(5901===o)return;return void a({type:"PORT_OPEN",wid:t,port:o});case"protocolError":var c,s=(null===(c=e.protocolError)||void 0===c?void 0:c.text)||"protocol error";a({type:"BSOD",wid:t,crasherPud:r,originalError:s});var u=new Error("protocol error");E.$e((function(e){e.setTag("pluginType","goval"),e.setTag("bsod","true"),e.setExtra("message",s),E.Tb(u),(0,j.Q)(u,e)}));break;case"toast":if(!e.toast)return;var l,d=e.toast.text;if(d&&d.startsWith("PANIC:"))return l=/tried to attach(.*)multiple times/.test(d)?new Error("tried to attach to ot multiple times"):new Error(d?"goval panic":"goval panic with no message"),E.$e((function(e){e.setTag("source","goval"),d&&e.setExtra("message",d),E.Tb(l)})),void a((0,k.P)({content:"We ran into an internal error, reloading your connection.",type:"error",time:5e3}));a((0,k.P)({content:d||"The server tried to say something but had no words",type:"error",time:1e4}))}})),v=(0,_.Z)(i(),t,r,"goval"),b=v.gurl,y=(0,S.t)(b),m=Boolean(i().user.userInfo.isLoggedIn),x=function(){var e=(0,_.Z)(i(),t,r,"goval").clientHandle;return w.Z.safeGet(e)!==l},e.next=16,(0,M.u)();case 16:return e.next=18,(0,S.Z)({client:l,repl:s,shouldAbort:x,onRetry:h,overrideClusterMetadata:y,prefetchedConnectionMetadata:n,isLoggedIn:m});case 18:if(p&&a((0,k.S)(p)),!x()){e.next=21;break}return e.abrupt("return");case 21:a((0,k.P)({content:"Connected!",time:1500,type:"confirm"})),Math.random()>.99&&l.startPing(),"goval"===g().get(s.language).engine&&a(ne(H({wid:t,pud:r},(0,T.UM)({language:s.language})))),a(te({wid:t,pud:r})),a({type:"LOADING_GOVAL_COMPLETE",wid:t}),Z=l.getToken(),L=(0,T.dp)(Z),a({type:"SET_VNC_URL",wid:t,vncUrl:L}),window.lastGovalTokenMeta=(0,T.he)(Z),a({wid:t,type:"GOVAL_TOKEN",token:Z}),l.on("close",(function(e){var n=e.closeReason;window.disconnectedTaint=!0,n===f.KU.ClientCloseReason.Disconnected&&(window.unexpecteddisconnectTaint=!0,a(ee({wid:t,pud:r})),a(Q({wid:t,pud:r})))}));case 32:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}function ee(e){var t=e.wid,r=e.pud,n=e.keepNetworkHandler,a=void 0!==n&&n;return function(e,n){var i=(0,_.Z)(n(),t,r,"goval"),o=i.clientHandle,c=i.clearNetworkListenersHandle,s=i.didDispatchLoadingStarted;if(e({type:"RESET_GOVAL",wid:t,pud:r}),e(ie({wid:t,pud:r})),s||e({type:"LOADING_GOVAL_STARTED",wid:t}),null!=o){var u=w.Z.get(o);null!=u&&(u.close(),!a&&c&&w.Z.safeGet(c)())}}}function te(e){var t=e.wid,r=e.pud;return function(e){var n=null,a=function(){o(),E.n_({category:"redux",message:"onlineHandler fired. starting connection"}),e(Q({wid:t,pud:r})),null!=n&&(e((0,k.S)(n)),n=null)},i=function(){n=e((0,k.P)({content:"Offline: trying to connect",type:"error",time:null})),E.n_({category:"redux",message:"offlineHandler fired. closing connection"}),e(ee({wid:t,pud:r,keepNetworkHandler:!0}))};window.addEventListener("online",a),window.addEventListener("offline",i);var o=function(){window.removeEventListener("online",a),window.removeEventListener("offline",i)};e({type:V,wid:t,clearNetworkListenersHandle:w.Z.getHandle(o)})}}function re(e){var t=e.wid,r=e.pud;return function(e,n){var a=(0,_.Z)(n(),t,r,"goval").clientHandle;if(a){var i=w.Z.get(a);if(i){var o=!0;if(i.setDebugFunc((function(a){switch(a.type){case"breadcrumb":return void E.n_({category:"crosis",message:a.message,data:a.data});case"ping":var i=F.events.GOVAL2_PING;return o&&(i=F.events.GOVAL2_FIRST_PING,o=!1),void(0,F.track)(i,{latency:a.latency});case"log":if(!(0,_.Z)(n(),t,r,"goval").adminLogs)return;e({type:"CROSIS_ADMIN_LOG",wid:t,dir:a.log.direction,cmd:a.log.cmd,timestamp:window.performance.now()})}})),(0,_.Z)(n(),t,r,"goval").adminLogs&&(window.crosisclient=i),Z.default.query.vcr){var c,s=i.getChannel(0);s.on("command",(function(e){"VCRLog"===e.body&&c&&e.VCRLog&&c(e.VCRLog)})),s.send({startVCR:{}});var u=function(){var e=(0,p.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.send({readVCR:{}}),e.abrupt("return",new Promise((function(e){return c=e})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,p.Z)(d().mark((function e(){var t,r,n,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:if(t=e.sent,(r=t.logfile)&&r.content&&r.path){e.next=6;break}return e.abrupt("return");case 6:n=JSON.stringify({timestamp:"0",direction:"IN",command:{auth:{token:i.getToken()}}}),(a=document.createElement("a")).setAttribute("href","data:text/plain;charset=utf-8,"+encodeURI(n+"\n"+new TextDecoder("utf-8").decode(r.content))),a.setAttribute("download",r.path),document.body.appendChild(a),a.click(),document.body.removeChild(a);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();window.vcr={read:u,download:l}}}}}}function ne(e){var t=e.wid,r=e.pud,n=e.name,a=e.service;return function(e,i){var o=(0,_.Z)(i(),t,r,"goval").channels[a];return null==o?e(function(e){var t=e.wid,r=e.pud,n=e.name,a=e.service;return function(e,i){var o=(0,_.Z)(i(),t,r,"goval").clientHandle,c=w.Z.safeGet(o).openChannel({name:n,service:a});void 0!==n&&e({type:G,wid:t,channelHandle:w.Z.getHandle(c),service:a});var s=ae(a);return c.on("command",(function(n){"toast"===n.body&&n.toast?e((0,k.P)({content:n.toast.text||"The server tried to say something but had no words",type:"error",time:1e4})):e(s({wid:t,pud:r,cmd:n}))})),c}}({wid:t,pud:r,name:n,service:a})):w.Z.safeGet(o)}}var ae=function(e){switch(e){case"eval":return D;case"shellrun2":return N;default:throw new Error("Can't handle command. Unknown service: ".concat(e))}};function ie(e){var t=e.wid,r=e.pud;return function(e,n){var a=(0,_.Z)(n(),t,r,"goval"),i=a.govalRunState,o=a.runstate,c=Object.values(i).includes(!0);"idle"===o&&c?e({type:"EVAL_STARTED",wid:t}):"idle"===o||c||e({type:"EVAL_ENDED",wid:t})}}var oe=r(61991);function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ue(){return{clientHandle:w.Z.getHandle(new f.KU),didDispatchLoadingStarted:!1,workspaceMounted:!1,filerHandle:null,shellerHandle:null,channels:{},clearNetworkListenersHandle:null,govalRunState:{evaler:!1,shellrunner:!1,packager:!1,optimisticState:!1},adminLogs:!1,gurl:"wss://eval.replit.com"}}var le=(0,b.$)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.qg:return se(se({},e),t.initialState);case"GOVAL_CONNECT":return se(se({},ue()),{},{workspaceMounted:!0,gurl:e.gurl,adminLogs:e.adminLogs});case"RESET_GOVAL":return se(se({},ue()),{},{workspaceMounted:e.workspaceMounted,gurl:e.gurl,adminLogs:e.adminLogs});case"LOADING_GOVAL_STARTED":return se(se({},e),{},{didDispatchLoadingStarted:!0});case"LOADING_GOVAL_COMPLETED":return se(se({},e),{},{didDispatchLoadingStarted:!1});case v.zT:return se(se({},e),{},{workspaceMounted:!1});case V:return se(se({},e),{},{clearNetworkListenersHandle:t.clearNetworkListenersHandle});case G:return se(se({},e),{},{channels:se(se({},e.channels),{},(0,u.Z)({},t.service,t.channelHandle))});case"SET_CUSTOM_GURL":return se(se({},e),{},{gurl:t.gurl});case W:return se(se({},e),{},{govalRunState:se(se({},e.govalRunState),{},{evaler:!0})});case q:return se(se({},e),{},{govalRunState:se(se({},e.govalRunState),{},{evaler:!1})});case z:return se(se({},e),{},{govalRunState:se(se({},e.govalRunState),{},{shellrunner:!0})});case K:return se(se({},e),{},{govalRunState:se(se({},e.govalRunState),{},{shellrunner:!1})});case $:return se(se({},e),{},{govalRunState:se(se({},e.govalRunState),{},{packager:!0})});case Y:return se(se({},e),{},{govalRunState:se(se({},e.govalRunState),{},{packager:!1})});case X:return se(se({},e),{},{govalRunState:se(se({},e.govalRunState),{},{optimisticState:!0})});case J:return se(se({},e),{},{govalRunState:se(se({},e.govalRunState),{},{optimisticState:!1})});case"SET_FILER_HANDLE":return se(se({},e),{},{filerHandle:t.handle});case"SET_SHELLER_HANDLE":return se(se({},e),{},{shellerHandle:t.handle});case"START_CROSIS_ADMIN_LOGS":return se(se({},e),{},{adminLogs:!0});default:return e}},repl:x.E,runstate:oe.Z}),de=(0,m.Z)((function(e,t,r,n){switch(r.type){case v.zT:return ee({wid:e,pud:t});case"GOVAL_CONNECT":case"USE_CUSTOM_TOKEN":case"SET_CUSTOM_GURL":return(0,y.Z)(ee({wid:e,pud:t}),Q({wid:e,pud:t,prefetchedConnectionMetadata:r.customConnectionMetadata}));case"REPL_UPDATED":return function(n){r.updates&&0!==Object.keys(r.updates).length&&(r.updates.id||r.updates.title||r.updates.isOwner||r.updates.slug||r.updates.userId||r.updates.language)&&(n(ee({wid:e,pud:t})),n(Q({wid:e,pud:t})))};case v.eJ:return function(e){var t=e.wid,r=e.pud,n=e.rows,a=e.cols;return function(e){e(ne({wid:t,pud:r,name:"shellrunner",service:"shellrun2"})).send({resizeTerm:{cols:a,rows:n}})}}({wid:e,pud:t,rows:r.rows,cols:r.cols});case"RUN_REPL":return function(e){var t=e.wid,r=e.pud,n=e.wait;return function(){var e=(0,p.Z)(d().mark((function e(a,i){var o,c,s,u,l,p,f,h,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i(),c=o.services,s=(0,_.Z)(i(),t,r,"goval"),u=s.repl,l=U.kg.timeStart({language:u.language}),"goval"===g().get(u.language).engine){e.next=5;break}return e.abrupt("return");case 5:return p=(0,T.UM)({language:u.language}),"eval"!==(f=p.service)&&"shellrun2"!==f||a({type:"CLEAR_CONSOLE",wid:t,pud:r}),a({type:"EVAL_SETUP",wid:t}),a({type:X,wid:t}),h=function(){return!(0,_.Z)(i(),t,r,"goval").govalRunState.optimisticState},e.next=12,c.fs.flush();case 12:if(l("prerun flush finished"),!h()){e.next=15;break}return e.abrupt("return");case 15:return e.next=17,(0,L.Z)(c.container,c.dotReplit);case 17:if(!e.sent){e.next=26;break}return e.next=20,c.packager.installPackages();case 20:if((v=e.sent)&&c.fs.persist(),l("prerun packager install finished",{success:v}),v){e.next=26;break}return a({type:J,wid:t}),e.abrupt("return");case 26:if(!h()){e.next=28;break}return e.abrupt("return");case 28:e.t0=f,e.next="eval"===e.t0?31:"shellrun2"===e.t0?34:37;break;case 31:return e.next=33,a(P({wid:t,pud:r,clean:!0,wait:n}));case 33:return e.abrupt("break",37);case 34:return e.next=36,a(A({wid:t,pud:r}));case 36:return e.abrupt("break",37);case 37:a({type:J,wid:t}),l("run finished");case 39:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}({wid:e,pud:t,wait:n});case v.yB:return P({wid:e,pud:t,code:r.code,clean:r.clean,wait:n});case v.aq:return function(e){var t=e.wid,r=e.pud;return function(){var e=(0,p.Z)(d().mark((function e(n,a){var i,o,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(0,_.Z)(a(),t,r,"goval"),o=i.repl,c=i.govalRunState,"goval"===g().get(o.language).engine){e.next=3;break}return e.abrupt("return");case 3:c.packager&&n((0,v.yY)({wid:t,message:"\n\nReplit: Packaging cannot be stopped, please wait...\n\n",type:"error",raw:!1})),n({type:J,wid:t}),["evaler","shellrunner"].forEach((function(e){c[e]&&n(ne(H({wid:t,pud:r},(0,T.rE)(e)))).send({clear:{}})})),c.evaler&&n({type:q,wid:t});case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}({wid:e,pud:t});case"CONSOLE_INPUT":return function(){var n=(0,p.Z)(d().mark((function n(a,i){var o,c;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=(0,_.Z)(i(),e,t,"goval"),c=o.repl,"goval"===g().get(c.language).engine){n.next=3;break}return n.abrupt("return");case 3:a(R({wid:e,pud:t,input:r.input}));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();case W:case q:case z:case K:case $:case Y:case X:case J:return ie({wid:e,pud:t});case"ENABLE_PIPE_MODE":return function(e){var t=e.wid,r=e.pud;return function(){var e=(0,p.Z)(d().mark((function e(n,a){var i,o,c,s,u,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(0,_.Z)(a(),t,r,"goval"),o=i.repl,"goval"===g().get(o.language).engine){e.next=3;break}return e.abrupt("return");case 3:c=(0,T.UM)({language:o.language}),s=c.service,e.t0=s,e.next="shellrun2"===e.t0?7:"eval"===e.t0?9:11;break;case 7:return u=n(ne({wid:t,pud:r,name:"shellrunner",service:"shellrun2"})),e.abrupt("break",12);case 9:return u=n(ne({wid:t,pud:r,name:"evaler",service:"eval"})),e.abrupt("break",12);case 11:return e.abrupt("return");case 12:u.send({PTYConfig:{pipeMode:!0}}),l=function e(r){r.ok&&(u.removeListener("command",e),n({type:"PIPE_MODE_ENABLED",wid:t}))},u.addListener("command",l);case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}({wid:e,pud:t});case"DISABLE_PIPE_MODE":return function(e){var t=e.wid,r=e.pud;return function(){var e=(0,p.Z)(d().mark((function e(n,a){var i,o,c,s,u,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(0,_.Z)(a(),t,r,"goval"),o=i.repl,"goval"===g().get(o.language).engine){e.next=3;break}return e.abrupt("return");case 3:c=(0,T.UM)({language:o.language}),s=c.service,e.t0=s,e.next="shellrun2"===e.t0?7:"eval"===e.t0?9:11;break;case 7:return u=n(ne({wid:t,pud:r,name:"shellrunner",service:"shellrun2"})),e.abrupt("break",12);case 9:return u=n(ne({wid:t,pud:r,name:"evaler",service:"eval"})),e.abrupt("break",12);case 11:return e.abrupt("return");case 12:u.send({PTYConfig:{pipeMode:!1}}),l=function e(r){r.ok&&(u.removeListener("command",e),n({type:"PIPE_MODE_DISABLED",wid:t}))},u.addListener("command",l);case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}({wid:e,pud:t});default:return null}})),pe=r(74047),fe=r(32292),he=r(67294),ge=r(45221),ve=r(8346),be=r(14814),ye=r(52700),we=r(4706),me=r(33814),xe=r(44102),Ee=r(20775),Oe=r(59725),ke=r(48764).Buffer;function Se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,Ee.Z)(e);if(t){var a=(0,Ee.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,xe.Z)(this,r)}}var je=function(e){(0,me.Z)(r,e);var t=Se(r);function r(e){var n;return(0,pe.Z)(this,r),n=t.call(this),(0,u.Z)((0,we.Z)(n),"send",void 0),n.send=e,n}return(0,ye.Z)(r,[{key:"write",value:function(e){"initialize"===e.method&&(void 0===e.params&&(e.params={}),e.params.processId=null);var t=JSON.stringify(e),r=ke.byteLength(t,"utf8"),n="Content-Length: ".concat(r,"\r\n\r\n").concat(t);this.send(n)}}]),r}(Oe.AbstractMessageWriter),_e=r(90765),Ze=r(26386),Le=r(61171);function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,Ee.Z)(e);if(t){var a=(0,Ee.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,xe.Z)(this,r)}}var De=function(e){(0,me.Z)(r,e);var t=Pe(r);function r(){var e;(0,pe.Z)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,we.Z)(e),"callback",void 0),(0,u.Z)((0,we.Z)(e),"buffer",void 0),(0,u.Z)((0,we.Z)(e),"events",[]),(0,u.Z)((0,we.Z)(e),"nextMessageLength",void 0),e}return(0,ye.Z)(r,[{key:"listen",value:function(e){this.callback=e,this.buffer=new Le.Z,this.nextMessageLength=-1}},{key:"fireClose",value:function(){(0,_e.Z)((0,Ee.Z)(r.prototype),"fireClose",this).call(this)}},{key:"readMessage",value:function(e){if(!this.buffer||!this.nextMessageLength||!this.callback)return E.Tb(new Error("Expected listen to be called before readMessage")),!1;this.buffer.append(e);for(;;){if(-1===this.nextMessageLength){var t=this.buffer.tryReadHeaders();if(!t)return!0;var r=t["Content-Length"];if(!r)return E.Tb(new Error("Header must provide a Content-Length property.")),!1;var n=parseInt(r,10);if(isNaN(n))return E.Tb(new Error("Content-Length value must be a number.")),!1;this.nextMessageLength=n}var a=this.buffer.tryReadContent(this.nextMessageLength);if(null===a)return!0;this.nextMessageLength=-1;try{var i=JSON.parse(a);this.callback(i)}catch(o){return E.Tb(o),!1}}return!0}}]),r}(Ze.AbstractMessageReader);Promise.all([r.e(8231),r.e(6874),r.e(3722)]).then(r.t.bind(r,73722,23)).then((function(e){return e})),r.e(8231).then(r.t.bind(r,8231,23)).then((function(e){return e}));var Ie=(0,ge.Z)(["REGISTER_MONACO_EDITOR_HANDLE"]),Ce=Ie.receiver,Ae=Ie.useReceiver;function Re(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,p.Z)(d().mark((function e(t){var r,n,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:0,e.next=3,t.exec("pwd");case 3:if(null===(n=e.sent).error){e.next=8;break}if(!(r>5)){e.next=7;break}return e.abrupt("return",{error:new Error("Could not get cwd "+n.error),workingDirectory:null});case 7:return e.abrupt("return",Re(t,r+1));case 8:return e.abrupt("return",{error:null,workingDirectory:n.output.replace("\n","")});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e){var t,n=he.useState(),a=(0,fe.Z)(n,2),i=a[0],o=a[1],c=(0,ve.Z)().container,s=null===(t=c.getContext())||void 0===t?void 0:t.repl.language,l=(0,be.Z)().preferences.codeIntelligence,f=he.useState(0),h=(0,fe.Z)(f,2),v=h[0],b=h[1];return Ae((function(e){var t=e.action;return"REGISTER_MONACO_EDITOR_HANDLE"!==t.type||i||o(t.editorHandle),null})),he.useEffect((function(){if(i&&l&&s){var e=w.Z.get(i);if(e){var t=!1,n=[];return function(){a.apply(this,arguments)}(),function(){t=!0,(0,F.track)(F.events.LSP_CONNECTION_ENDED,{language:s}),n.forEach((function(e){e()}))}}}function a(){return(a=(0,p.Z)(d().mark((function a(){var i,o,l,f,h,y,w,m,x,E,k,S,j,_,Z;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s){a.next=2;break}throw new Error("expected language");case 2:return a.next=4,Promise.all([Promise.all([r.e(8231),r.e(6874)]).then(r.t.bind(r,96874,23)).then((function(e){return e.default})),r.e(8231).then(r.t.bind(r,8231,23)).then((function(e){return e})),Promise.all([r.e(8231),r.e(6874),r.e(3722)]).then(r.t.bind(r,73722,23)).then((function(e){return e})),Re(c)]);case 4:if(i=a.sent,o=(0,fe.Z)(i,4),l=o[0],f=o[1],h=f.createMessageConnection,y=f.NullLogger,w=o[2],m=w.MonacoLanguageClient,x=w.createConnection,E=w.CloseAction,k=w.ErrorAction,S=w.MonacoServices,j=w.MonacoLanguages,_=o[3],l.Disposable=function e(t){var r=this;(0,pe.Z)(this,e),(0,u.Z)(this,"callOnDispose",void 0),(0,u.Z)(this,"dispose",(function(){r.callOnDispose()})),this.callOnDispose=t},!t){a.next=21;break}return a.abrupt("return");case 21:if(!_.error){a.next=23;break}throw _.error;case 23:Z=c.openChannel({service:"lsp"},(function(r){var a=r.channel;if(a&&!t){j.prototype.registerCodeLensProvider=void 0,S.install(e,{rootUri:"file://".concat(_.workingDirectory)});var i=new je((function(e){"open"===a.status&&a.send({input:e})})),o=new De,c=h(o,i,y),u=g().get(s).ext;"js"!==u&&"ts"!==u||(u="{ts,js,tsx,jsx,mjs}");var l=new m({name:"repl.it language client",clientOptions:{documentSelector:[{pattern:"**/*.".concat(u)}],errorHandler:{error:function(){return k.Continue},closed:function(){return E.DoNotRestart}}},connectionProvider:{get:function(e,t){return Promise.resolve(x(c,e,t))}}});l.warn=function(){},l.info=function(){},l.error=function(){},l.log=function(){};var f=l.start().dispose;c.onClose((function(){f.call(l)})),n.push((function(){l.sendRequest=(0,p.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),o.fireClose.call(o)})),(0,F.track)(F.events.LSP_CONNECTION_STARTED,{language:s});var w=a.onCommand((function(e){"output"!==e.body?"state"===e.body&&e.state===O.api.State.Stopped&&((0,F.track)(F.events.LSP_SERVER_DIED,{language:s,disconnects:v,isService:!1}),b((function(e){return e+1}))):"string"===typeof e.output&&o.readMessage(e.output)}));n.push(w)}})),n.push(Z);case 25:case"end":return a.stop()}}),a)})))).apply(this,arguments)}}),[i,c,l,s,v]),null}var Fe=r(41446),Me=r(25108);function Ue(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Be(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var He=(0,ge.Z)(["REGISTER_MONACO_EDITOR_HANDLE"]),Ge=He.receiver,Ve=He.useReceiver;function We(e){return qe.apply(this,arguments)}function qe(){return(qe=(0,p.Z)(d().mark((function e(t){var r,n,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:0,e.next=3,t.exec("pwd");case 3:if(null===(n=e.sent).error){e.next=8;break}if(!(r>5)){e.next=7;break}return e.abrupt("return",{error:new Error("Could not get cwd "+n.error),workingDirectory:null});case 7:return e.abrupt("return",We(t,r+1));case 8:return e.abrupt("return",{error:null,workingDirectory:n.output.replace("\n","")});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(){var e=function(){var e=(0,ve.Z)().dotReplit,t=(0,he.useState)([]),r=t[0],n=t[1];return(0,he.useEffect)((function(){return e.watch((function(e){if(e.error)e.error===Fe.Y.NotFound&&n([]);else if(e.config.languages){var t=Object.entries(e.config.languages).map((function(e){var t=(0,fe.Z)(e,2),r=t[0],n=t[1];return n.pattern&&n.languageServer&&n.languageServer.startCommand?{languageId:r,globPattern:n.pattern}:null})).filter((function(e){return null!=e}));n(t)}else n([])}))}),[e]),r}(),t=(0,he.useState)(),n=t[0],a=t[1],i=(0,ve.Z)(),o=i.container,c=i.session,s=i.fs,l=(0,be.Z)().preferences;Ve((function(e){var t=e.action;return"REGISTER_MONACO_EDITOR_HANDLE"!==t.type||n||a(t.editorHandle),null}));var f=e&&l.codeIntelligence;return(0,he.useEffect)((function(){if(n&&f){var t=w.Z.get(n);if(t){var a,i=!1,l=[],h=Ue(e);try{for(h.s();!(a=h.n()).done;){g(a.value)}}catch(b){h.e(b)}finally{h.f()}return function(){i=!0,l.forEach((function(e){e()}))}}}function g(e){return v.apply(this,arguments)}function v(){return(v=(0,p.Z)(d().mark((function e(n){var a,f,h,g,v,b,y,w,m,x,k,S,j,_,Z,L;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Promise.all([r.e(8231),r.e(6874)]).then(r.t.bind(r,96874,23)).then((function(e){return e.default})),r.e(8231).then(r.t.bind(r,8231,23)).then((function(e){return e})),Promise.all([r.e(8231),r.e(6874),r.e(3722)]).then(r.t.bind(r,73722,23)).then((function(e){return e})),We(o)]);case 2:if(a=e.sent,f=(0,fe.Z)(a,4),h=f[0],g=f[1],v=g.createMessageConnection,b=g.NullLogger,y=f[2],w=y.MonacoLanguageClient,m=y.createConnection,x=y.CloseAction,k=y.ErrorAction,S=y.MonacoServices,j=y.MonacoLanguages,_=y.testGlob,Z=f[3],h.Disposable=function e(t){var r=this;(0,pe.Z)(this,e),(0,u.Z)(this,"callOnDispose",void 0),(0,u.Z)(this,"dispose",(function(){r.callOnDispose()})),this.callOnDispose=t},!i){e.next=20;break}return e.abrupt("return");case 20:if(!Z.error){e.next=22;break}throw Z.error;case 22:L=o.openChannel({service:"lsp2"},(function(e){var r=e.channel;if(r&&!i){r.send({startLSP:{language:n.languageId}}),j.prototype.registerCodeLensProvider=void 0;var a="file://".concat(Z.workingDirectory);S.install(t,{rootUri:a});var o=new je((function(e){"open"===r.status&&r.send({input:e})})),u=new De,f=v(u,o,b),h=new w({name:"repl.it language client",clientOptions:{documentSelector:[{pattern:n.globPattern}],errorHandler:{error:function(){return k.Continue},closed:function(){return x.DoNotRestart}}},connectionProvider:{get:function(e,t){return Promise.resolve(m(f,e,t))}}});h.onReady().then((function(){if(h.initializeResult){var e=h.initializeResult.capabilities.textDocumentSync;if(e&&"object"===typeof e&&e.save){var t=new Set,r=function(){var e=c.getActiveFile();if(e&&_(n.globPattern,e)&&!t.has(e)){t.add(e);var r=s.watchOtFile(e,{onMoveOrDelete:function(){t.delete(e);var n=l.indexOf(r);-1!==n&&l.splice(n,1)},onFlush:function(){h.sendNotification("textDocument/didSave",{textDocument:{uri:"".concat(a,"/").concat(e)}})}});l.push(r)}};l.push(c.onSessionStateChanged(r)),r()}}else E.Tb(new Error("Expected initialize result after lsp client ready"))})).catch((function(){})),h.warn=function(){},h.info=function(){},h.error=function(){},h.log=function(){};var g=h.start().dispose;f.onClose((function(){g.call(h)})),l.push((function(){h.sendRequest=(0,p.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),u.fireClose.call(u)}));var y=r.onCommand((function(e){"output"!==e.body?"state"===e.body&&e.state===O.api.State.Stopped&&Me.log("Language server for",n.languageId,"died"):"string"===typeof e.output&&u.readMessage(e.output)}));l.push(y)}})),l.push(L);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),[n,o,f,e,c]),null}var Ke=r(63805),$e=function(){function e(){(0,pe.Z)(this,e)}return(0,ye.Z)(e,null,[{key:"get",value:function(e){var t,r;try{t=window.sessionStorage.getItem(e)}catch(n){return null}if(null==t)return null;try{r=JSON.parse(t)}catch(n){return null}return r}},{key:"set",value:function(e,t){try{window.sessionStorage.setItem(e,JSON.stringify(t))}catch(r){}}}]),e}(),Ye=r(51626),Xe=r(55873),Je=r(74141),Qe=r(37321),et=r(13112),tt=r(14692);function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var nt="session_id_achv_track";function at(){return(at=(0,p.Z)(d().mark((function e(t){var r,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je.l.query({query:Xe.koB,variables:{replId:t}});case 2:return r=e.sent,n=r.data,e.abrupt("return","Repl"===n.repl.__typename?{language:n.repl.language,title:n.repl.title}:{language:"",title:""});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(){return(it=(0,p.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je.l.mutate({mutation:Xe.v79,variables:{userId:t.id,event:"WS_TYPED"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e,t,r,n,a){var i="string"===typeof e.path?(0,Ye.r6)(e.path):null;switch(e.type){case"TRACK_WS_EVENT":var o=F.track;e.trackOnce&&(o=F.trackOnce),o(F.events[e.eventKey],function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({wid:t,language:r,isMobile:(0,Ke.isMobile)({tablet:!1})},e.properties));break;case"WORKSPACE_MOUNTED":(0,F.track)(F.events.WS_WORKSPACE_MOUNTED,{wid:t,language:r});break;case"LOADING_ENGINE_COMPLETE":var c,s=w.Z.get(e.engineHandle);if(!s)break;c=s.goval?"goval":"replbox",(0,F.track)(F.events.WS_ENGINE_LOADED,{wid:t,language:r,engineType:c});break;case"RUN_REPL":g().supportsFiles(r)?(0,F.track)(F.events.PROJECT_RAN,{wid:t,language:r,replId:n,replTitle:a}):(0,F.track)(F.events.CODE_RAN,{wid:t,language:r});break;case"CONSOLE_INPUT":"\r"===e.input&&(0,F.track)(F.events.CONSOLE_EVALED,{wid:t,language:r});break;case"STOP_EVAL":(0,F.track)(F.events.WS_EVAL_STOPPED,{wid:t,language:r});break;case"CREATE_FILE":e.isRecreation||(0,F.track)(F.events.PROJECT_MODE_FILE_CREATED,{wid:t,language:r,extension:i});break;case"OPEN_FILE":e.newTab&&(0,F.track)(F.events.FILE_HEADER_TAB_OPENED,{wid:t,language:r,newTab:e.newTab,extension:i}),e.tabIndex&&(0,F.track)(F.events.FILE_HEADER_TAB_REPLACED,{wid:t,language:r,tabIndex:e.tabIndex});break;case"MOVE_FILE":(0,F.track)(F.events.WS_FILE_RENAMED,{wid:t,language:r,extension:i});break;case"DELETE_FILE":(0,F.track)(F.events.WS_FILE_DELETED,{wid:t,language:r,extension:i});break;case"UPLOAD_FILE":if(!e.path||"readme.md"!==e.path.toLowerCase())break;(0,F.track)(F.events.README_CREATED,{wid:t,language:r});break;case"CLOSE_HEADER_TAB":(0,F.track)(F.events.FILE_HEADER_TAB_CLOSED,{wid:t,language:r});break;case"SET_SPLIT_POSITION":(0,F.track)(F.events.WS_LAYOUT_CHANGED,{wid:t,language:r});break;case"DEBUG_CODE":(0,F.track)(F.events.DEBUGGED,{wid:t,language:r});break;case"SHOW_LIBRARY_SEARCH":(0,F.track)(F.events.LIBRARIES_SEARCHED,{wid:t,language:r});break;case"CLOSE_CHAT_CLICKED":(0,F.track)(F.events.MP2_MINIMIZED_CHAT,{wid:t,language:r,replId:e.replId});break;case"OPENED_MP_ROSTER":(0,F.track)(F.events.MP2_VIEWED_ROSTER,{wid:t,language:r,replId:e.replId});break;case"MP2_VISITED_PROFILE":(0,F.track)(F.events.MP2_VISITED_PROFILE,{wid:t,language:r,replId:e.replId,from:e.from});break;case"MP2_CHAT_CHANGED_SIDES":(0,F.track)(F.events.MP2_CHAT_CHANGED_SIDES,{wid:t,language:r,replId:e.replId,newSide:e.newSide});break;case"SET_GIT_SIDEBAR_VISIBILITY":e.isSidebarVisible&&(0,F.track)(F.events.GIT_CLIENT_SIDEBAR_OPENED,{language:r,wid:t});break;case"HELP_OPENED":(0,F.track)(F.events.HELP_OPENED,{language:r,wid:t})}}var ct=(0,ge.Z)(),st=ct.receiver,ut=ct.useReceiver;function lt(){var e=(0,tt.Z)(),t=(0,he.useRef)(!1),r=(0,Qe.Z)("flag-achievements-v0"),n=(0,et.v9)((function(e){return e.user.userInfo}));return ut((function(a){var i=a.action,o=a.wid;if("WS_TYPED"===i.eventKey&&r){var c=(new Date).toJSON().substring(0,10),s="".concat(n.id,"_").concat(c);$e.get(nt)!==s&&($e.set(nt,s),function(e){it.apply(this,arguments)}(n))}switch(i.type){case"FILE_LOADED":if(t.current)return null;t.current=!0;var u=Boolean(window.performance.getEntriesByName(U.Iy.pageNavStart,"mark").length),l="time to code";window.performance.measure(l,u?U.Iy.pageNavStart:void 0);var d=window.performance.getEntriesByName(l,"measure")[0];if(!d)return U.kg.info("Could not obtain measure for time to code"),null;var p="page invisible fetch connection metadata",f=d.duration;if(Boolean(window.performance.getEntriesByName(U.Iy.fetchConnectionMetadataPageInvisibleStart,"mark").length))window.performance.measure(p,U.Iy.fetchConnectionMetadataPageInvisibleStart,U.Iy.fetchConnectionMetadataPageInvisibleEnd),f-=window.performance.getEntriesByName(p,"measure")[0].duration,window.performance.clearMeasures(p),window.performance.clearMarks(U.Iy.fetchConnectionMetadataPageInvisibleStart),window.performance.clearMarks(U.Iy.fetchConnectionMetadataPageInvisibleEnd);return U.kg.time("time to code minus page invisible",f,{ssr:!u}),U.kg.time("time to code with page invisible",d.duration,{ssr:!u}),window.performance.clearMeasures(l),null;default:(function(e){return at.apply(this,arguments)})(e).then((function(t){ot(i,o,t.language,e,t.title)}))}return null})),null}var dt=r(90389);function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ht(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loadingReplbox:!1,loadingGoval:!1,loadingEngine:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.qg:return ft(ft({},e),t.initialState);case v.FG:return ft(ft({},e),{},{loadingEngine:!1});case v.hq:return ft(ft({},e),{},{loadingEngine:!0});case"LOADING_REPLBOX_STARTED":return ft(ft({},e),{},{loadingReplbox:!0});case"LOADING_REPLBOX_ENDED":return ft(ft({},e),{},{loadingReplbox:!1});case"LOADING_GOVAL_STARTED":return ft(ft({},e),{},{loadingGoval:!0});case"LOADING_GOVAL_COMPLETE":return ft(ft({},e),{},{loadingGoval:!1});default:return e}}function gt(e,t,r){switch(r.type){case"LOADING_REPLBOX_STARTED":case"LOADING_GOVAL_STARTED":return function(r,n){(0,_.Z)(n(),e,t,"loadingresolver").loadingEngine||r({type:v.hq,wid:e})};case"LOADING_REPLBOX_ENDED":case"LOADING_GOVAL_COMPLETE":return function(r,n){var a=(0,_.Z)(n(),e,t,"loadingresolver"),i=a.loadingEngine,o=a.loadingGoval,c=a.loadingReplbox;i&&!1===o&&!1===c&&r({type:v.FG,wid:e})};default:return null}}var vt=r(35944),bt=r(65988),yt=r(94184),wt=r.n(yt),mt=r(28130),xt=r(2771),Et=r(91700),Ot=r(97127);function kt(){var e=(0,Ke.isMobile)({tablet:!1}),t=(0,ve.Z)(),r=t.fs,n=t.broadcast,a=t.presence,i=(0,mt.Z)();return i?(0,vt.BX)("div",{className:bt.default.dynamic([["1303493603",[Ot.sF,Et.w_]]])+" "+(wt()("draw",{"is-mobile":e})||""),children:[(0,vt.tZ)(xt.Z,{fs:r,broadcast:n,presence:a,filePath:i}),(0,vt.tZ)(bt.default,{id:"1303493603",dynamic:[Ot.sF,Et.w_],children:[".draw.__jsx-style-dynamic-selector{position:relative;height:100%;width:100%;z-index:3;}",".draw.is-mobile.__jsx-style-dynamic-selector{--mobile-offset:calc( var(--mobile-header-height,60px) + ".concat(Ot.sF,"px );position:absolute;top:var(--mobile-offset);padding-bottom:calc(var(--mobile-offset) + ").concat(Et.w_,"px);}"),".draw.is-mobile.hidden-modal.__jsx-style-dynamic-selector .excalidraw{display:none;}",".floating-run{display:none !important;}",".excalidraw canvas{border-radius:var(--border-radius-4) !important;}"]})]}):null}function St(e){e.register("goval",n),e.register("langserver",a),e.register("langserver2",i),e.register("analytics",o),e.register("infoprovider",dt),e.register("loadingresolver",c),e.register("draw",s)}},65718:function(e,t,r){"use strict";r.d(t,{t:function(){return a},Z:function(){return f}});var n,a,i=r(32292),o=r(26265),c=r(74143),s=r(51339),u=r(25025);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.Unloaded="UNLOADED",e.Loading="LOADING",e.Clean="CLEAN",e.Dirty="DIRTY",e.Syncing="SYNCING",e.Err="ERR"}(a||(a={}));var p=(n={},(0,o.Z)(n,a.Unloaded,{FILE_UNLOAD:a.Unloaded,FILE_LOADING:a.Loading}),(0,o.Z)(n,a.Loading,{FILE_UNLOAD:a.Unloaded,FILE_LOADED:a.Clean,FILE_ERROR:a.Err}),(0,o.Z)(n,a.Clean,{FILE_UNLOAD:a.Unloaded,FILE_DIRTY:a.Dirty}),(0,o.Z)(n,a.Dirty,{FILE_UNLOAD:a.Unloaded,FILE_SYNCING:a.Syncing,FILE_DIRTY:a.Dirty}),(0,o.Z)(n,a.Syncing,{FILE_UNLOAD:a.Unloaded,FILE_CLEAN:a.Clean,FILE_DIRTY:a.Dirty,FILE_ERROR:a.Err}),(0,o.Z)(n,a.Err,{FILE_UNLOAD:a.Unloaded}),n);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.path&&(0,s.isHiddenFile)(t.path))return e;switch(t.type){case"FILE_UNLOAD":case"FILE_LOADING":case"FILE_LOADED":case"FILE_SYNCING":case"FILE_DIRTY":case"FILE_CLEAN":case"FILE_ERROR":if((0,c.GA)(e,t.path).length)return e;var r=e[t.path];if(!r)throw new u.default("unable to perform file state transition: unknown file").setExtras({currentState:r,action:t});if(!p[r])throw new u.default("unable to perform file state transition: file is in an unknown state").setExtras({currentState:r,action:t});var n=p[r][t.type];if(!n)throw new u.default("unable to perform file state transition: invalid state transition").setExtras({currentState:r,action:t});return n===r?e:d(d({},e),{},(0,o.Z)({},t.path,n));case"DELETE_FILE":var l=(0,c.GA)(e,t.path),f=d({},e);return l.length?l.forEach((function(e){delete f[e]})):delete f[t.path],f;case"MOVE_FILE":var h=(0,c.vk)(e,t.path,t.to);if(!h.length)return e;var g=d({},e);return h.forEach((function(t){var r=(0,i.Z)(t,2),n=r[0],a=r[1];delete g[n],g[a]=e[n]})),g;case"CREATE_FILE":if(e[t.path])throw new u.default("unable to perform file state transition: invalid state transition").setExtras({currentState:e[t.path],action:t});return d(d({},e),{},(0,o.Z)({},t.path,t.file&&t.file.loaded?a.Clean:a.Unloaded));default:return e}}},6913:function(e,t,r){"use strict";r.d(t,{L:function(){return f},Z:function(){return h}});var n=r(32292),a=r(26265),i=r(71371),o=r(3460),c=r(74143),s=r(25025);function u(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={};function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,r=function(){switch(t.type){case"FILE_UNLOAD":return p(p({},e),{},(0,a.Z)({},t.path,{path:t.path,loaded:!1}));case"FILE_LOADED":case"FILE_CACHE_HIT":return p(p({},e),{},(0,a.Z)({},t.path,p(p({},e[t.path]),t.file)));case"CREATE_FILE":return p(p({},e),{},(0,a.Z)({},t.path,t.file||{path:t.path,loaded:!1}));case"MOVE_FILE":var r=(0,c.vk)(e,t.path,t.to);if(!r.length)return e;var i=p({},e);return r.forEach((function(t){var r=(0,n.Z)(t,2),a=r[0],o=r[1];delete i[a];var c=e[a];if(!c)throw new Error("No source file!");i[o]=p(p({},c),{},{path:o})})),i;case"DELETE_FILE":var u=(0,c.GA)(e,t.path);if(u.length&&e[t.path])throw new s.default("matched children and node while deleting").setExtras({path:t.path,fileState:e});var l=p({},e);return u.length?u.forEach((function(e){delete l[e]})):delete l[t.path],l;case"OT_FILE_OP":if(!t.changeSource)throw new Error("Expected changeSource on action OT_FILE_OP got "+JSON.stringify(t));var d=e[t.path];if(!d)throw new Error("tried to perform an OT op on "+t.path+" but we don't know about that file.");if(!d.loaded)return e;var f=g(o.Z.from(d.content).toString("utf8"),t.op);return p(p({},e),{},(0,a.Z)({},t.path,p(p({},d),{},{content:o.Z.from(f)})));default:return e}}();return t.path&&r!==e&&!e[t.path]&&r[t.path]&&"CREATE_FILE"!==t.type&&i.$e((function(r){r.setExtra("action",t),r.setExtra("prevstate",e),i.Tb(new Error("created file without using CREATE_FILE or FILE_CACHE_HIT"))})),r}function g(e,t){var r,n=e,a=0,i=u(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;if("string"===typeof o)n=n.slice(0,a)+o+n.slice(a),a+=o.length;else if("object"===typeof o&&"number"===typeof o.d)n=n.slice(0,a)+n.slice(a+o.d);else{if("number"!==typeof o)throw new Error("bad ot op: "+o);a+=o}}}catch(c){i.e(c)}finally{i.f()}return n}},51928:function(e,t,r){"use strict";r.d(t,{U:function(){return o},c:function(){return c}});var n=r(26265);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o=r(13940).L;function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_WORKSPACE_PREFERENCES":return i(i({},e),t.updates);default:return e}}},4433:function(e,t,r){"use strict";r.d(t,{N:function(){return o},E:function(){return c}});var n=r(26265);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o={};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPL_UPDATED":return i(i(i({},e),t.updates),{},{config:i(i({},e.config),t.updates.config)});default:return e}}},61991:function(e,t,r){"use strict";r.d(t,{Q:function(){return n},Z:function(){return a}});var n="idle";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EVAL_STARTED":case"EVAL_SETUP":return"running";case"STOP_EVAL":return"stopping";case"EVAL_ENDED":return"idle";case"SET_RUN_STATE":return t.runstate;default:return e}}},23752:function(e,t,r){"use strict";r.d(t,{E:function(){return n},Y:function(){return a}});var n="";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_WORKING_DIRECTORY":return t.path;default:return e}}},92825:function(){}}]);