(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2973],{57221:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(19013),i=r(13882);function o(e,t){(0,i.Z)(2,arguments);var r=(0,n.Z)(e),o=(0,n.Z)(t);return r.getTime()-o.getTime()}function s(e,t){(0,i.Z)(2,arguments);var r=o(e,t)/1e3;return r>0?Math.floor(r):Math.ceil(r)}},36502:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(49474),i=r(19013),o=r(13882);function s(e,t){(0,o.Z)(2,arguments);var r=(0,i.Z)(e),n=(0,i.Z)(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return 12*s+a}function a(e){(0,o.Z)(1,arguments);var t=(0,i.Z)(e);return t.setHours(23,59,59,999),t}function u(e){(0,o.Z)(1,arguments);var t=(0,i.Z)(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function c(e){(0,o.Z)(1,arguments);var t=(0,i.Z)(e);return a(t).getTime()===u(t).getTime()}function f(e,t){(0,o.Z)(2,arguments);var r,a=(0,i.Z)(e),u=(0,i.Z)(t),f=(0,n.Z)(a,u),l=Math.abs(s(a,u));if(l<1)r=0;else{1===a.getMonth()&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-f*l);var h=(0,n.Z)(a,u)===-f;c((0,i.Z)(e))&&1===l&&1===(0,n.Z)(e,u)&&(h=!1),r=f*(l-h)}return 0===r?0:r}var l=r(57221),h=r(4958),p=r(74385),d=r(24262),g=1440,b=43200;function v(e,t,r){(0,o.Z)(2,arguments);var s=r||{},a=s.locale||h.Z;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var u=(0,n.Z)(e,t);if(isNaN(u))throw new RangeError("Invalid time value");var c,v,m=(0,p.Z)(s);m.addSuffix=Boolean(s.addSuffix),m.comparison=u,u>0?(c=(0,i.Z)(t),v=(0,i.Z)(e)):(c=(0,i.Z)(e),v=(0,i.Z)(t));var y,E=(0,l.Z)(v,c),x=((0,d.Z)(v)-(0,d.Z)(c))/1e3,M=Math.round((E-x)/60);if(M<2)return s.includeSeconds?E<5?a.formatDistance("lessThanXSeconds",5,m):E<10?a.formatDistance("lessThanXSeconds",10,m):E<20?a.formatDistance("lessThanXSeconds",20,m):E<40?a.formatDistance("halfAMinute",null,m):E<60?a.formatDistance("lessThanXMinutes",1,m):a.formatDistance("xMinutes",1,m):0===M?a.formatDistance("lessThanXMinutes",1,m):a.formatDistance("xMinutes",M,m);if(M<45)return a.formatDistance("xMinutes",M,m);if(M<90)return a.formatDistance("aboutXHours",1,m);if(M<g){var _=Math.round(M/60);return a.formatDistance("aboutXHours",_,m)}if(M<2520)return a.formatDistance("xDays",1,m);if(M<b){var w=Math.round(M/g);return a.formatDistance("xDays",w,m)}if(M<86400)return y=Math.round(M/b),a.formatDistance("aboutXMonths",y,m);if((y=f(v,c))<12){var k=Math.round(M/b);return a.formatDistance("xMonths",k,m)}var O=y%12,j=Math.floor(y/12);return O<3?a.formatDistance("aboutXYears",j,m):O<9?a.formatDistance("overXYears",j,m):a.formatDistance("almostXYears",j+1,m)}},76884:function(e,t,r){var n="[object Symbol]",i=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s="\\u0300-\\u036f\\ufe20-\\ufe23",a="\\u2700-\\u27bf",u="a-z\\xdf-\\xf6\\xf8-\\xff",c="A-Z\\xc0-\\xd6\\xd8-\\xde",f="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",l="['\u2019]",h="[\\ud800-\\udfff]",p="["+f+"]",d="["+s+"\\u20d0-\\u20f0]",g="\\d+",b="[\\u2700-\\u27bf]",v="["+u+"]",m="[^\\ud800-\\udfff"+f+g+a+u+c+"]",y="\\ud83c[\\udffb-\\udfff]",E="[^\\ud800-\\udfff]",x="(?:\\ud83c[\\udde6-\\uddff]){2}",M="[\\ud800-\\udbff][\\udc00-\\udfff]",_="["+c+"]",w="(?:"+v+"|"+m+")",k="(?:"+_+"|"+m+")",O="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",j="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",C="(?:"+d+"|"+y+")"+"?",Z="[\\ufe0e\\ufe0f]?",T=Z+C+("(?:\\u200d(?:"+[E,x,M].join("|")+")"+Z+C+")*"),D="(?:"+[b,x,M].join("|")+")"+T,A="(?:"+[E+d+"?",d,x,M,h].join("|")+")",L=RegExp(l,"g"),P=RegExp(d,"g"),R=RegExp(y+"(?="+y+")|"+A+T,"g"),S=RegExp([_+"?"+v+"+"+O+"(?="+[p,_,"$"].join("|")+")",k+"+"+j+"(?="+[p,_+w,"$"].join("|")+")",_+"?"+w+"+"+O,_+"+"+j,g,D].join("|"),"g"),W=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),N=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,q="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,I="object"==typeof self&&self&&self.Object===Object&&self,z=q||I||Function("return this")();var U,X=(U={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"ss"},function(e){return null==U?void 0:U[e]});function Y(e){return W.test(e)}function H(e){return Y(e)?function(e){return e.match(R)||[]}(e):function(e){return e.split("")}(e)}var F=Object.prototype.toString,J=z.Symbol,B=J?J.prototype:void 0,G=B?B.toString:void 0;function $(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&F.call(e)==n}(e))return G?G.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function K(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}(e,t,r)}function V(e){return null==e?"":$(e)}var Q,ee=(Q=function(e,t,r){return t=t.toLowerCase(),e+(r?re(V(t).toLowerCase()):t)},function(e){return function(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}(function(e,t,r){return e=V(e),void 0===(t=r?void 0:t)?function(e){return N.test(e)}(e)?function(e){return e.match(S)||[]}(e):function(e){return e.match(i)||[]}(e):e.match(t)||[]}(function(e){return(e=V(e))&&e.replace(o,X).replace(P,"")}(e).replace(L,"")),Q,"")});var te,re=(te="toUpperCase",function(e){var t=Y(e=V(e))?H(e):void 0,r=t?t[0]:e.charAt(0),n=t?K(t,1).join(""):e.slice(1);return r[te]()+n});e.exports=ee},91229:function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,{Z:function(){return n}})},90765:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(20775);function i(e,t,r){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,n.Z)(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}},18454:function(e,t,r){"use strict";var n=r(67294),i=r(45697),o=Math.sqrt(2);function s(e){var t="top"===e.direction||"bottom"===e.direction,r="left"===e.direction||"top"===e.direction,i=e.borderWidth*o,s=i/2,a=2*e.size+2*i,u=e.size+i,c=r?u:0,f=r?s:u-s,l=a/2,h=a-s,p=t?["M",s,c,"L",l,f,"L",h,c]:["M",c,s,"L",f,l,"L",c,h];return n.createElement("svg",{xmlns:"http://www.w3.org/svg/2000",width:t?a:u,height:t?u:a,style:e.style,className:e.className},n.createElement("path",{d:p.join(" "),fill:e.color,stroke:e.borderColor,strokeWidth:e.borderWidth,strokeLinecap:"square"}))}s.propTypes={color:i.string.isRequired,size:i.number.isRequired,direction:i.oneOf(["top","right","bottom","left"]).isRequired,borderWidth:i.number,borderColor:i.string,style:i.object,className:i.string},s.defaultProps={borderWidth:0,borderColor:"transparent"},e.exports=s},23680:function(e,t,r){"use strict";var n=r(25108);Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={})),function(e){var t={dispose:function(){}};e.None=function(){return t}}(t.Event||(t.Event={}));var i=function(){function e(){}return e.prototype.add=function(e,t,r){var n=this;void 0===t&&(t=null),this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:function(){return n.remove(e,t)}})},e.prototype.remove=function(e,t){if(void 0===t&&(t=null),this._callbacks){for(var r=!1,n=0,i=this._callbacks.length;n<i;n++)if(this._callbacks[n]===e){if(this._contexts[n]===t)return this._callbacks.splice(n,1),void this._contexts.splice(n,1);r=!0}if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this._callbacks)return[];for(var r=[],i=this._callbacks.slice(0),o=this._contexts.slice(0),s=0,a=i.length;s<a;s++)try{r.push(i[s].apply(o[s],e))}catch(u){n.error(u)}return r},e.prototype.isEmpty=function(){return!this._callbacks||0===this._callbacks.length},e.prototype.dispose=function(){this._callbacks=void 0,this._contexts=void 0},e}(),o=function(){function e(e){this._options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var t=this;return this._event||(this._event=function(r,n,o){var s;return t._callbacks||(t._callbacks=new i),t._options&&t._options.onFirstListenerAdd&&t._callbacks.isEmpty()&&t._options.onFirstListenerAdd(t),t._callbacks.add(r,n),s={dispose:function(){t._callbacks.remove(r,n),s.dispose=e._noop,t._options&&t._options.onLastListenerRemove&&t._callbacks.isEmpty()&&t._options.onLastListenerRemove(t)}},Array.isArray(o)&&o.push(s),s}),this._event},enumerable:!0,configurable:!0}),e.prototype.fire=function(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)},e.prototype.dispose=function(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)},e._noop=function(){},e}();t.Emitter=o},62593:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.prototype.toString;function n(e){return"[object String]"===r.call(e)}function i(e){return Array.isArray(e)}t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"[object Number]"===r.call(e)},t.error=function(e){return"[object Error]"===r.call(e)},t.func=function(e){return"[object Function]"===r.call(e)},t.array=i,t.stringArray=function(e){return i(e)&&e.every((function(e){return n(e)}))}},26386:function(e,t,r){"use strict";var n=r(48764).Buffer,i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(23680),s=r(62593),a=8192,u=new n("\r","ascii")[0],c=new n("\n","ascii")[0],f=function(){function e(e){void 0===e&&(e="utf8"),this.encoding=e,this.index=0,this.buffer=new n(a)}return e.prototype.append=function(e){var t=e;if("string"===typeof e){var r=e,i=n.byteLength(r,this.encoding);(t=new n(i)).write(r,0,i,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var o=(Math.ceil((this.index+t.length)/a)+1)*a;0===this.index?(this.buffer=new n(o),t.copy(this.buffer,0,0,t.length)):this.buffer=n.concat([this.buffer.slice(0,this.index),t],o)}this.index+=t.length},e.prototype.tryReadHeaders=function(){for(var e=void 0,t=0;t+3<this.index&&(this.buffer[t]!==u||this.buffer[t+1]!==c||this.buffer[t+2]!==u||this.buffer[t+3]!==c);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split("\r\n").forEach((function(t){var r=t.indexOf(":");if(-1===r)throw new Error("Message header must separate key and value using :");var n=t.substr(0,r),i=t.substr(r+1).trim();e[n]=i}));var r=t+4;return this.buffer=this.buffer.slice(r),this.index=this.index-r,e},e.prototype.tryReadContent=function(e){if(this.index<e)return null;var t=this.buffer.toString(this.encoding,0,e),r=e;return this.buffer.copy(this.buffer,0,r),this.index=this.index-r,t},Object.defineProperty(e.prototype,"numberOfBytes",{get:function(){return this.index},enumerable:!0,configurable:!0}),e}();!function(e){e.is=function(e){var t=e;return t&&s.func(t.listen)&&s.func(t.dispose)&&s.func(t.onError)&&s.func(t.onClose)&&s.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));var l=function(){function e(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter,this.partialMessageEmitter=new o.Emitter}return e.prototype.dispose=function(){this.errorEmitter.dispose(),this.closeEmitter.dispose()},Object.defineProperty(e.prototype,"onError",{get:function(){return this.errorEmitter.event},enumerable:!0,configurable:!0}),e.prototype.fireError=function(e){this.errorEmitter.fire(this.asError(e))},Object.defineProperty(e.prototype,"onClose",{get:function(){return this.closeEmitter.event},enumerable:!0,configurable:!0}),e.prototype.fireClose=function(){this.closeEmitter.fire(void 0)},Object.defineProperty(e.prototype,"onPartialMessage",{get:function(){return this.partialMessageEmitter.event},enumerable:!0,configurable:!0}),e.prototype.firePartialMessage=function(e){this.partialMessageEmitter.fire(e)},e.prototype.asError=function(e){return e instanceof Error?e:new Error("Reader recevied error. Reason: "+(s.string(e.message)?e.message:"unknown"))},e}();t.AbstractMessageReader=l;var h=function(e){function t(t,r){void 0===r&&(r="utf8");var n=e.call(this)||this;return n.readable=t,n.buffer=new f(r),n._partialMessageTimeout=1e4,n}return i(t,e),Object.defineProperty(t.prototype,"partialMessageTimeout",{get:function(){return this._partialMessageTimeout},set:function(e){this._partialMessageTimeout=e},enumerable:!0,configurable:!0}),t.prototype.listen=function(e){var t=this;this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",(function(e){t.onData(e)})),this.readable.on("error",(function(e){return t.fireError(e)})),this.readable.on("close",(function(){return t.fireClose()}))},t.prototype.onData=function(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){var t=this.buffer.tryReadHeaders();if(!t)return;var r=t["Content-Length"];if(!r)throw new Error("Header must provide a Content-Length property.");var n=parseInt(r);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}var i=this.buffer.tryReadContent(this.nextMessageLength);if(null===i)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var o=JSON.parse(i);this.callback(o)}},t.prototype.clearPartialMessageTimer=function(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)},t.prototype.setPartialMessageTimer=function(){var e=this;this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout((function(t,r){e.partialMessageTimer=void 0,t===e.messageToken&&(e.firePartialMessage({messageToken:t,waitingTime:r}),e.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))},t}(l);t.StreamMessageReader=h;var p=function(e){function t(t){var r=e.call(this)||this;r.process=t;var n=r.process;return n.on("error",(function(e){return r.fireError(e)})),n.on("close",(function(){return r.fireClose()})),r}return i(t,e),t.prototype.listen=function(e){this.process.on("message",e)},t}(l);t.IPCMessageReader=p;var d=function(e){function t(t,r){return void 0===r&&(r="utf-8"),e.call(this,t,r)||this}return i(t,e),t}(h);t.SocketMessageReader=d},59725:function(e,t,r){"use strict";var n=r(48764).Buffer,i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(23680),s=r(62593),a="Content-Length: ",u="\r\n";!function(e){e.is=function(e){var t=e;return t&&s.func(t.dispose)&&s.func(t.onClose)&&s.func(t.onError)&&s.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));var c=function(){function e(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter}return e.prototype.dispose=function(){this.errorEmitter.dispose(),this.closeEmitter.dispose()},Object.defineProperty(e.prototype,"onError",{get:function(){return this.errorEmitter.event},enumerable:!0,configurable:!0}),e.prototype.fireError=function(e,t,r){this.errorEmitter.fire([this.asError(e),t,r])},Object.defineProperty(e.prototype,"onClose",{get:function(){return this.closeEmitter.event},enumerable:!0,configurable:!0}),e.prototype.fireClose=function(){this.closeEmitter.fire(void 0)},e.prototype.asError=function(e){return e instanceof Error?e:new Error("Writer recevied error. Reason: "+(s.string(e.message)?e.message:"unknown"))},e}();t.AbstractMessageWriter=c;var f=function(e){function t(t,r){void 0===r&&(r="utf8");var n=e.call(this)||this;return n.writable=t,n.encoding=r,n.errorCount=0,n.writable.on("error",(function(e){return n.fireError(e)})),n.writable.on("close",(function(){return n.fireClose()})),n}return i(t,e),t.prototype.write=function(e){var t=JSON.stringify(e),r=n.byteLength(t,this.encoding),i=[a,r.toString(),u,u];try{this.writable.write(i.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(o){this.errorCount++,this.fireError(o,e,this.errorCount)}},t}(c);t.StreamMessageWriter=f;var l=function(e){function t(t){var r=e.call(this)||this;r.process=t,r.errorCount=0,r.queue=[],r.sending=!1;var n=r.process;return n.on("error",(function(e){return r.fireError(e)})),n.on("close",(function(){return r.fireClose})),r}return i(t,e),t.prototype.write=function(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)},t.prototype.doWriteMessage=function(e){var t=this;try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,(function(r){t.sending=!1,r?(t.errorCount++,t.fireError(r,e,t.errorCount)):t.errorCount=0,t.queue.length>0&&t.doWriteMessage(t.queue.shift())})))}catch(r){this.errorCount++,this.fireError(r,e,this.errorCount)}},t}(c);t.IPCMessageWriter=l;var h=function(e){function t(t,r){void 0===r&&(r="utf8");var n=e.call(this)||this;return n.socket=t,n.queue=[],n.sending=!1,n.encoding=r,n.errorCount=0,n.socket.on("error",(function(e){return n.fireError(e)})),n.socket.on("close",(function(){return n.fireClose()})),n}return i(t,e),t.prototype.write=function(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)},t.prototype.doWriteMessage=function(e){var t=this,r=JSON.stringify(e),i=n.byteLength(r,this.encoding),o=[a,i.toString(),u,u];try{this.sending=!0,this.socket.write(o.join(""),"ascii",(function(n){n&&t.handleError(n,e);try{t.socket.write(r,t.encoding,(function(r){t.sending=!1,r?t.handleError(r,e):t.errorCount=0,t.queue.length>0&&t.doWriteMessage(t.queue.shift())}))}catch(n){t.handleError(n,e)}}))}catch(s){this.handleError(s,e)}},t.prototype.handleError=function(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)},t}(c);t.SocketMessageWriter=h}}]);