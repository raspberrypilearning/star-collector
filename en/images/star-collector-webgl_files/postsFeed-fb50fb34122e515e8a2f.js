(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7428],{79367:function(e,t){var r,n,o;n=[e,t],void 0===(o="function"===typeof(r=function(e,t){"use strict";var r="function"===typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(r){return t[e.indexOf(r)]},set:function(r,n){-1===e.indexOf(r)&&(e.push(r),t.push(n))},delete:function(r){var n=e.indexOf(r);n>-1&&(e.splice(n,1),t.splice(n,1))}}}(),n=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(c){n=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function o(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!r.has(e)){var t=null,o=null,i=null,a=function(){e.clientWidth!==o&&p()},l=function(t){window.removeEventListener("resize",a,!1),e.removeEventListener("input",p,!1),e.removeEventListener("keyup",p,!1),e.removeEventListener("autosize:destroy",l,!1),e.removeEventListener("autosize:update",p,!1),Object.keys(t).forEach((function(r){e.style[r]=t[r]})),r.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",l,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",p,!1),window.addEventListener("resize",a,!1),e.addEventListener("input",p,!1),e.addEventListener("autosize:update",p,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",r.set(e,{destroy:l,update:p}),c()}function c(){var r=window.getComputedStyle(e,null);"vertical"===r.resize?e.style.resize="none":"both"===r.resize&&(e.style.resize="horizontal"),t="content-box"===r.boxSizing?-(parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)):parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),isNaN(t)&&(t=0),p()}function s(t){var r=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=r,e.style.overflowY=t}function u(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function d(){if(0!==e.scrollHeight){var r=u(e),n=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",o=e.clientWidth,r.forEach((function(e){e.node.scrollTop=e.scrollTop})),n&&(document.documentElement.scrollTop=n)}}function p(){d();var t=Math.round(parseFloat(e.style.height)),r=window.getComputedStyle(e,null),o="content-box"===r.boxSizing?Math.round(parseFloat(r.height)):e.offsetHeight;if(o<t?"hidden"===r.overflowY&&(s("scroll"),d(),o="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==r.overflowY&&(s("hidden"),d(),o="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),i!==o){i=o;var a=n("autosize:resized");try{e.dispatchEvent(a)}catch(l){}}}}function i(e){var t=r.get(e);t&&t.destroy()}function a(e){var t=r.get(e);t&&t.update()}var l=null;"undefined"===typeof window||"function"!==typeof window.getComputedStyle?((l=function(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return o(e,t)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e}),t.default=l,e.exports=t.default})?r.apply(t,n):r)||(e.exports=o)},2466:function(e){"use strict";e.exports=function(e,t){if("string"!==typeof e)throw new TypeError("Expected a string");return t="undefined"===typeof t?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()}},12375:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(35944),o=r(65988),i=(r(67294),r(94184)),a=r.n(i);function l(e){var t=e.unreadDot,r=e.size,i=void 0===r?12:r,l=e.count,c=void 0===l?null:l,s=c&&c>99,u=s?"99+":null===c||void 0===c?void 0:c.toString();return(0,n.BX)("span",{className:"jsx-2595643267",children:[(0,n.tZ)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",style:{color:"currentColor"},xmlns:"http://www.w3.org/2000/svg",className:"jsx-2595643267",children:(0,n.tZ)("path",{d:"M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-2595643267"})}),t&&(0,n.tZ)("div",{className:"jsx-2595643267 unread-indicator"}),Boolean(c)&&(0,n.tZ)("div",{className:"jsx-2595643267 "+(a()("count",{overflow:s})||""),children:u}),(0,n.tZ)(o.default,{id:"2595643267",children:["span.jsx-2595643267{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".unread-indicator.jsx-2595643267{width:5px;height:5px;border-radius:10px;background-color:var(--accent-red-default);-webkit-transform:translate(8px,-1px);-ms-transform:translate(8px,-1px);transform:translate(8px,-1px);position:absolute;}",".count.jsx-2595643267{border-radius:10px;background-color:var(--accent-negative-default);-webkit-transform:translate(50%,-50%);-ms-transform:translate(50%,-50%);transform:translate(50%,-50%);position:absolute;min-width:16px;padding:2px 3px;height:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:white;font-size:var(--font-size-small);}",".overflow.jsx-2595643267{-webkit-transform:translate(25%,-50%);-ms-transform:translate(25%,-50%);transform:translate(25%,-50%);}"]})]})}},2974:function(e,t,r){"use strict";var n=r(35944),o=r(26265),i=r(32292),a=r(65988),l=r(67294),c=r(25763),s=r(4654);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.title,r=void 0===t?"Sign up":t,o=e.description,u=void 0===o?"Code, create, and learn together on Replit":o,p=e.onSuccess,f=void 0===p?function(){}:p,h=e.onFailure,b=void 0===h?function(){}:h,m=e.onAnonSuccess,g=void 0===m?function(){}:m,v=e.showLoginFirst,y=void 0!==v&&v,x=e.isTeacher,Z=void 0!==x&&x,w=e.toggleTeacher,j=void 0===w?function(){}:w,O=e.allowAnon,k=void 0!==O&&O,P=e.source,S=l.useState(y),C=(0,i.Z)(S,2),E=C[0],D=C[1];return(0,n.BX)("div",{className:"jsx-845344649 auth-modal",children:[(0,n.BX)(c.gC,{align:"center",spacing:2,children:[(0,n.tZ)("div",{className:"jsx-845344649 auth-modal-title",children:r}),(0,n.tZ)("div",{className:"jsx-845344649 auth-modal-description",children:u}),(0,n.tZ)(s.Z,{onChangeAuth:function(){D(!E)},isTeacher:Z,isLogin:E,onSubmit:function(e){"error"in e?b(e):"user"in e&&f(d(d({},e),{},{isLogin:E}))},toggleTeacher:j,source:P}),k&&(0,n.tZ)("div",{className:"jsx-845344649 auth-modal-anon",children:(0,n.tZ)("a",{onClick:g,className:"jsx-845344649",children:"continue as Anonymous"})})]}),(0,n.tZ)(a.default,{id:"845344649",children:[".auth-modal.jsx-845344649{max-width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:var(--space-32) var(--space-16);}",".title-container.jsx-845344649{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-bottom:var(--space-16);}",".auth-modal-title.jsx-845344649{text-align:center;color:var(--foreground-default);font-size:var(--font-size-header-big);font-weight:var(--font-weight-medium);}",".auth-modal-description.jsx-845344649{text-align:center;color:var(--foreground-dimmer);font-size:var(--font-size-subhead-default);}",".auth-modal-anon.jsx-845344649{margin-top:14px;font-size:14px;}",".auth-modal-anon.jsx-845344649 a.jsx-845344649{color:var(--accent-primary-default);-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}"]})]})}},22885:function(e,t,r){"use strict";var n=r(35944),o=r(26265),i=r(38347),a=r(65988),l=(r(67294),r(94184)),c=r.n(l);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.children,r=e.Component,o=e.className,l=e.style,s=e.onClick,d=e.href,p=(0,i.Z)(e,["children","Component","className","style","onClick","href"]),f=r||"div";return(0,n.BX)(f,{onClick:s,style:l,href:d,className:"jsx-1200660262 "+(c()("paper",o,u({},p))||""),children:[t,(0,n.tZ)(a.default,{id:"1200660262",children:[".paper.jsx-1200660262{background-color:var(--background-default);border:1px solid var(--background-highest);color:var(--foreground-default);border-radius:var(--border-radius-4);}",".active.jsx-1200660262,.interactive.jsx-1200660262:hover{border-color:var(--foreground-dimmest);cursor:pointer;}",".responsive.jsx-1200660262{border-left:0 none;border-right:0 none;border-radius:0px;}",".responsive.listItem.jsx-1200660262{border-bottom:0 none;}",".fullWidth.jsx-1200660262{border-left:0 none;border-right:0 none;}",".inline.jsx-1200660262{display:inline;}",".inlineBlock.jsx-1200660262{display:inline-block;}"]})]})}},27547:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(32292),o=r(67294),i=r(79367),a=r.n(i);function l(){var e=o.useState(null),t=(0,n.Z)(e,2),r=t[0],i=t[1];return o.useLayoutEffect((function(){if(r)return a()(r),function(){a().destroy(r)}}),[r]),{ref:i,update:function(){r&&a().update(r)}}}},22796:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(67294);function o(e){var t=(0,n.useState)(!1),r=t[0],o=t[1],i=(0,n.useRef)(0);return[r,(0,n.useMemo)((function(){return{onDragEnter:function(e){e.preventDefault(),i.current++,o(!0)},onDragLeave:function(e){e.preventDefault(),i.current--,0===i.current&&o(!1)},onDrop:function(t){var r,n;t.preventDefault(),i.current=0,o(!1),t.persist();var a=Array.from(null!==(r=null===t||void 0===t||null===(n=t.dataTransfer)||void 0===n?void 0:n.files)&&void 0!==r?r:[]);0!==a.length?e(a):e(null)},onDragOver:function(e){e.preventDefault()}}}),[e])]}},31949:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(32292),o=r(67294),i=r(27547),a=r(16496),l=r.n(a),c=r(14289),s=r(41756);var u=r(22796),d=r(809),p=r.n(d),f=r(28140),h=r(92447),b=r(75633),m=r(91340),g=r(53016);function v(e){var t=e.initialValue,r=e.textTriggers,a=(0,o.useState)(t||""),d=a[0],v=a[1],y=(0,o.useRef)(null),x=(0,i.Z)().ref,Z=function(e){var t=e.textTriggers,r=e.applySuggestion,i=(0,o.useRef)(null),a=(0,c.Z)(t),u=(0,n.Z)(a,2),d=u[0].suggestions,p=u[1],f=(0,s.Kb)({items:(null===d||void 0===d?void 0:d.results)||[],defaultHighlightedIndex:0,isOpen:Boolean(d),onSelectedItemChange:function(e){var t=e.selectedItem;if(d&&t){var n=i.current;if(n){var o=d.applySuggestion({targetValue:n.value,suggestionValue:t.value}),a=o.fullValue,l=o.cursorIndex;r({fullValue:a,cursorIndex:l})}}}}),h=(0,o.useMemo)((function(){if(d&&i.current)return l()(i.current,d.textTrigger.index)}),[d]);return{ref:(0,o.useCallback)((function(e){i.current=e,p(e)}),[p]),suggestions:null===d||void 0===d?void 0:d.results,caretCoordinates:h,combobox:f}}({textTriggers:r,applySuggestion:function(e){var t=e.cursorIndex,r=e.fullValue;v(r),setTimeout((function(){y.current&&y.current.setSelectionRange(t,t)}))}}),w=Z.combobox,j=Z.caretCoordinates,O=Z.suggestions,k=Z.ref,P=function(e){var t=(0,o.useRef)(null),r=(0,m.Z)(e.onChange),n=(0,m.Z)(e.onError),i=(0,o.useCallback)((function(e){t.current=e}),[]),a=(0,o.useCallback)(function(){var e=(0,h.Z)(p().mark((function e(o){var i,a,l,c,s,u,d,h,m,v;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.current){e.next=3;break}return e.abrupt("return");case 3:return a=i.value,l=i.selectionStart?i.selectionStart:a.length,c=o.map((function(e){return"![Uploading ".concat(e.name,"...]()")})),s=a.substr(0,l),u=a.substr(l),d=(0,f.Z)(c),s&&d.unshift(s),u&&d.push(u),r.current(d.join("\n")),h=[],e.prev=13,e.next=16,(0,b.Z)(o);case 16:h=e.sent,e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(13),n.current(e.t0),e.abrupt("return");case 23:return m=[],e.prev=24,e.next=27,Promise.all(h.map((function(e){return null==e?new Error("Could not read file"):(0,g.uz)("/data/images/upload",{image:e.result})})));case 27:m=e.sent,e.next=34;break;case 30:return e.prev=30,e.t1=e.catch(24),n.current(e.t1),e.abrupt("return");case 34:if(t.current){e.next=36;break}return e.abrupt("return");case 36:v=c.reduce((function(e,t,r){var n=o[r].name.replace(/\.[^/.]+$/,""),i=m[r],a=i instanceof Error?"Error uploading":i.url;return e.replace(t,"![".concat(n,"](").concat(a,")"))}),t.current.value),r.current(v);case 38:case"end":return e.stop()}}),e,null,[[13,19],[24,30]])})));return function(t){return e.apply(this,arguments)}}(),[r,n]),l=(0,o.useCallback)((function(e){var t=Array.from(e.clipboardData.items).filter((function(e){return"file"===e.kind})).map((function(e){return e.getAsFile()})).filter((function(e){return null!==e}));t.length&&a(t)}),[a]);return{ref:i,handleFiles:a,handlePaste:l}}({onChange:v,onError:function(){}}),S=P.handleFiles,C=P.handlePaste,E=P.ref,D=(0,u.Z)((function(e){null!==e&&S(e)})),T=(0,n.Z)(D,2)[1];return{ref:(0,o.useCallback)((function(e){y.current=e,k(e),E(e),x(e)}),[k,E,x]),value:d,setValue:v,dropZoneHanlders:T,handlePaste:C,combobox:w,caretCoordinates:j,suggestions:O}}},14289:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(28140),o=r(32292),i=r(67294),a=r(61159),l=r(26265);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(e){return/\s/.test(e)};function d(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=i.useState(null),a=(0,o.Z)(n,2),l=a[0],c=a[1],d=i.useCallback(c,[c]),p=i.useRef(t);i.useEffect((function(){p.current=t}),[t]);var f=i.useState(null),h=(0,o.Z)(f,2),b=h[0],m=h[1];return i.useEffect((function(){if(l){var e=function(){var e=l.value,t=l.selectionStart;if(t){var r=1===t||u(e[t-2]||""),n=e.length?e[t-1]:null;m((function(o){if(o&&(t<o.index||0===t))return null;if(!n)return o;if(!o&&!r)return o;var i=p.current.includes(n);return o||i?o?u(n)?null:s(s({},o),{},{text:e.slice(o.index,t)}):{index:t,text:"",match:n}:o}))}else m(null)},t=function(){m(null)};return l.addEventListener("focus",e),l.addEventListener("keyup",e),l.addEventListener("blur",t),function(){m(null),l.removeEventListener("focus",e),l.removeEventListener("keyup",e),l.removeEventListener("blur",t)}}}),[l,m]),[b,d]}function p(e){var t=i.useRef(e);i.useEffect((function(){t.current=e}),[e]);var r=i.useState(!1),l=(0,o.Z)(r,2),c=l[0],s=l[1],u=i.useState(null),p=(0,o.Z)(u,2),f=p[0],h=p[1],b=d.apply(void 0,(0,n.Z)(Object.keys(e))),m=(0,o.Z)(b,2),g=m[0],v=m[1],y=i.useRef(g);i.useEffect((function(){y.current=g}),[g]);var x=(0,a.Z)(g,100);return i.useEffect((function(){if(x){var e=x.match,r=x.text,n=t.current[e]?t.current[e]:null;if(n){var o=!1;return s(!0),n(r).then((function(e){o||y.current===x&&(s(!1),h({textTrigger:x,results:e,applySuggestion:function(e){var t=e.targetValue,r=e.suggestionValue,n=t.slice(0,x.index),o=r,i=t.slice(x.index+x.text.length);i&&i.startsWith(" ")||(o+=" ");var a=n+o+i;return{cursorIndex:(n+o).length+(i&&i.startsWith(" ")?1:0),fullValue:a}}}))})),function(){o=!0}}h(null)}else h(null)}),[x,h]),[{isLoading:c,suggestions:f},v]}},94042:function(e,t,r){"use strict";function n(e,t){if(!e)return null;var r=e[t];return r?Array.isArray(r)?null:r:null}r.d(t,{Z:function(){return n}})},75633:function(e,t,r){"use strict";r.d(t,{p:function(){return n}});var n=function(e){return new Promise((function(t,r){var n=new window.FileReader;n.onload=function(r){r.target?t({name:e.name,result:r.target.result}):t(null)},n.onerror=r,n.readAsDataURL(e)}))};t.Z=function(e){return Promise.all(Array.from(e).filter((function(e){return!!e})).map(n))}},80232:function(e,t,r){"use strict";r.d(t,{gF:function(){return a},E8:function(){return l},Y8:function(){return c},Qs:function(){return s},bc:function(){return u}});var n=r(26265),o=r(2466),i=r.n(o),a=(r(34155).env.PROXY_SUFFIX,function(e){return{className:e.props.className,styles:e.props.children}});function l(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];r.forEach((function(t){e["on".concat(t[0].toUpperCase()).concat(t.slice(1),"Change")]=function(r){var o;o=r&&r.target&&void 0!==r.currentTarget.value?r.currentTarget.value:r,e.setState((0,n.Z)({},t,o))}}))}function c(e){if(Array.isArray(e))return e.map(c);if(e&&"object"===typeof e){var t={};for(var r in e)t[i()(r)]=e[r];return t}return"string"===typeof e?i()(e):e}function s(e){return e?e[0].toUpperCase()+e.slice(1):e}function u(e){return e.replace("GraphQL error: ","")}},60801:function(e,t,r){"use strict";r.d(t,{G:function(){return y},Z:function(){return x}});var n=r(35944),o=r(26265),i=r(32292),a=(r(67294),r(70917)),l=r(55873),c=r(68953),s=r(25125),u=r(71570),d=r(36437),p=r(87644),f=r(36507),h=r(8301),b=r(22384),m=r(12039);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=(0,a.iv)([f.gU.filled,d.l0.p(8),{width:"auto",height:"auto"}],"","");function x(e){var t=e.repl,r=e.currentUser,o=(0,l.lUA)(),a=(0,i.Z)(o,2),f=a[0],g=a[1].loading;return(0,n.BX)(c.Z,{css:[d.l0.rowWithGap(4),d.l0.align.center,"",""],children:[(0,n.tZ)(c.Z,{css:[d.l0.borderRadius(4,8,8,4),d.l0.center,d.l0.p(8),"",""],children:(0,n.tZ)(u.x,{children:(0,m.d)(t.likeCount)})}),(0,n.BX)(b.Z,{background:"default",css:[d.l0.borderRadius(8),"",""],children:[null!==r&&void 0!==r&&r.isVerified?(0,n.tZ)(h.Z,{alt:t.currentUserDidLike?"Unlike":"Like",css:y,disabled:g,onClick:function(){t.currentUserDidLike||(0,p.track)(p.events.REACTED_TO_REPL,{replView:"https://replit.com"+t.url,reaction:"heart",isReplTalk:!1,item:"repl"}),f({variables:{input:{replId:t.id}},optimisticResponse:{toggleReplLike:v(v({},t),{},{likeCount:Math.max(0,t.likeCount+(t.currentUserDidLike?-1:1)),currentUserDidLike:!t.currentUserDidLike})}})},children:(0,n.tZ)(s.Z,{filled:t.currentUserDidLike})}):null,r&&!r.isVerified?(0,n.tZ)(h.Z,{alt:"Verify your email to like",css:y,disabled:!0,children:(0,n.tZ)(s.Z,{})}):null,r?null:(0,n.tZ)(h.Z,{alt:"Login to like",css:y,disabled:!0,children:(0,n.tZ)(s.Z,{})})]})]})}},43918:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(35944),o=r(67294),i=r(75137),a=r(71570),l=r(36437),c=r(68953),s=r(22384),u=r(73601),d=r(8301),p=r(65698);function f(e){var t=e.colorway,r=e.closable,f=e.icon,h=void 0===f?(0,n.tZ)(p.Z,{}):f,b=e.text,m=e.closeAction,g=[l.l0.rowWithGap(4),l.l0.align.center,l.l0.p(4),l.l0.pl(8),l.l0.borderRadius(8),l.l0.flex.growAndShrink(1),{borderWidth:1,borderStyle:"solid"},t?{background:i.Br[t].dimmest,borderColor:i.Br[t].dimmer,color:i.Br[t].strongest}:{background:"var(--interactive-background)",borderColor:"var(--interactive-border)",color:l.TV.foregroundDefault}];return(0,n.BX)(c.Z,{css:g,children:[(0,n.BX)(c.Z,{css:[l.l0.rowWithGap(8),l.l0.center,l.l0.flex.growAndShrink(1),"",""],children:[o.cloneElement(h,{size:16}),(0,n.tZ)(a.x,{css:l.l0.flex.growAndShrink(1),variant:"small",multiline:!0,children:b})]}),r&&(0,n.tZ)(s.Z,{elevated:!0,css:[l.l0.flex.grow(0),"background:transparent;",""],children:(0,n.tZ)(d.Z,{alt:"Close",tooltipHidden:!0,colorway:t,onClick:m,children:(0,n.tZ)(u.Z,{})})})]})}},73601:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(26265),o=r(35944),i=(r(67294),r(61951));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e){return(0,o.tZ)(i.Z,l(l({},e),{},{children:(0,o.tZ)("path",{d:"M18 6L6 18M6 6L18 18",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}},61910:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(26265),o=r(35944),i=(r(67294),r(61951));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e){return(0,o.tZ)(i.Z,l(l({},e),{},{children:(0,o.tZ)("path",{d:"M20.2253 11.5642C20.5651 11.7554 20.5651 12.2446 20.2253 12.4358L5.74513 20.5809C5.41183 20.7683 5 20.5275 5 20.1451L5 3.85492C5 3.47251 5.41183 3.23165 5.74513 3.41914L20.2253 11.5642Z",strokeWidth:"2"})}))}},36418:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Fe}});var n=r(809),o=r.n(n),i=r(92447),a=r(35944),l=r(32292),c=r(28140),s=r(70917),u=r(26265),d=r(67294),p=r(15548),f=r(55405),h=r(65988),b=r(61159),m=r(22885),g=function(e){return(0,a.BX)("button",{title:e.title,onClick:e.onClick,className:"jsx-2079696769",children:[(0,a.tZ)("span",{className:"jsx-2079696769",children:"\xd7"}),(0,a.tZ)(h.default,{id:"2079696769",children:["button.jsx-2079696769{width:30px;height:30px;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:transparent;border:0 none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;font-size:18px;line-height:18px;color:var(--foreground-dimmest);}","button.jsx-2079696769:hover{color:var(--accent-primary-stronger);}"]})]})},v=function(){return(0,a.tZ)("svg",{width:"29px",height:"30px",viewBox:"0 0 29 30",version:"1.1",children:(0,a.BX)("g",{transform:"translate(2, 2)",children:[(0,a.tZ)("rect",{fill:"var(--foreground-dimmest)",transform:"translate(21, 21) rotate(-45) translate(-21, -21) ",x:"19",y:"15",width:"4",height:"13"}),(0,a.tZ)("circle",{fill:"none",stroke:"var(--foreground-dimmest)",strokeWidth:"4",cx:"10",cy:"10",r:"10"})]})})},y=function(e){var t=d.useState(!1),r=(0,l.Z)(t,2),n=r[0],o=r[1],i=d.useState(e.value||void 0),c=(0,l.Z)(i,2),s=c[0],u=c[1],p=(0,b.Z)(s,500);return d.useEffect((function(){"string"===typeof p&&n&&e.onSearch(p)}),[p]),(0,a.tZ)(m.Z,{children:(0,a.BX)("div",{className:"jsx-3906420287 posts-feed-search-input",children:[(0,a.tZ)("input",{value:s,onFocus:function(){return o(!0)},onChange:function(e){return u(e.target.value)},placeholder:e.placeholder||"Search",className:"jsx-3906420287"}),(0,a.tZ)("div",{className:"jsx-3906420287 posts-feed-search-icon",children:(0,a.tZ)(v,{})}),s?(0,a.tZ)("div",{className:"jsx-3906420287 posts-feed-search-clear",children:(0,a.tZ)(g,{onClick:function(){u(""),e.onSearch("")}})}):null,(0,a.tZ)(h.default,{id:"3906420287",children:["input.jsx-3906420287{font-size:16px;border:0 none;background-color:transparent;display:block;padding:8px 28px;width:100%;min-width:260px;color:var(--foreground-default);}","input.jsx-3906420287:focus{outline:0 none;}","input.jsx-3906420287::-webkit-input-placeholder{color:var(--foreground-dimmest);}","input.jsx-3906420287::-moz-placeholder{color:var(--foreground-dimmest);}","input.jsx-3906420287:-ms-input-placeholder{color:var(--foreground-dimmest);}","input.jsx-3906420287::placeholder{color:var(--foreground-dimmest);}","input.jsx-3906420287:focus.jsx-3906420287::-webkit-input-placeholder{color:var(--foreground-dimmer);}","input.jsx-3906420287:focus.jsx-3906420287::-moz-placeholder{color:var(--foreground-dimmer);}","input.jsx-3906420287:focus.jsx-3906420287:-ms-input-placeholder{color:var(--foreground-dimmer);}","input.jsx-3906420287:focus.jsx-3906420287::placeholder{color:var(--foreground-dimmer);}",".posts-feed-search-input.jsx-3906420287{position:relative;}",".posts-feed-search-icon.jsx-3906420287,.posts-feed-search-clear.jsx-3906420287{position:absolute;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".posts-feed-search-icon.jsx-3906420287{top:0;left:10px;width:13px;opacity:0.5;}",".posts-feed-search-input.jsx-3906420287 svg{width:100%;height:auto;}","input.jsx-3906420287:focus+div.jsx-3906420287{opacity:1;}",".posts-feed-search-clear.jsx-3906420287{right:0;top:0;}"]})]})})},x=r(38347),Z=r(94184),w=r.n(Z),j=r(41664);var O={styles:(0,a.tZ)(h.default,{id:"3717085761",children:["a.jsx-3717085761{font-size:16px;color:var(--accent-primary-stronger);border:0 none;cursor:pointer;-webkit-text-decoration:none;text-decoration:none;}",".active.jsx-3717085761,a.jsx-3717085761:hover{-webkit-text-decoration:underline;text-decoration:underline;}"]}),className:"jsx-3717085761"};function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=[{value:"hot",label:"Hot"},{value:"new",label:"New"},{value:"votes",label:"Top"}],C=function(e){var t=e.currentOrder,r=e.pathname,n=e.asPath,o=e.queryParams;return(0,a.BX)("div",{className:"jsx-2512639623 posts-feed-order-nav",children:[S.map((function(e){var i=e.value,l=e.label,c="hot"===i?void 0:i,s=(o.order,(0,x.Z)(o,["order"])),u={pathname:r,query:P(P({},s),c?{order:c}:{})},d=(s.boardSlug,(0,x.Z)(s,["boardSlug"])),p={pathname:n,query:P(P({},d),c?{order:c}:{})};return(0,a.tZ)("div",{className:"jsx-2512639623 posts-feed-order-nav-item",children:(0,a.tZ)(j.default,{scroll:!1,href:u,as:p,children:(0,a.BX)("a",{className:"jsx-2512639623 "+(w()(O.className,{active:t===i})||""),children:[l,O.styles]})})},i)})),(0,a.tZ)(h.default,{id:"2512639623",children:[".posts-feed-order-nav.jsx-2512639623{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".posts-feed-order-nav-item.jsx-2512639623{margin-right:10px;}",".posts-feed-order-nav-item.jsx-2512639623:last-child{margin-right:0;}"]})]})};function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var D=function(e){if(!e)return{};e.path;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,x.Z)(e,["path"]))},T=r(87644),B=r(55873),W=r(11163),L=r(94042),z=r(86842),R=r(36437),X=r(28270),N=r(68953),A=r(36507),I=r(71570),G=r(22384),_=r(54555),q=r(31949),M=r(19820),F=r(79567),V=r(4170),U=r(46829),H=r(49433),Y=r(7868);function K(){var e=(0,d.useState)(!1),t=e[0],r=e[1];return(0,a.BX)(G.Z,{background:t?"higher":"default",css:[R.l0.borderRadius(8),R.l0.colWithGap(16),R.l0.p(8),"",""],children:[(0,a.BX)(N.Z,{css:[R.l0.colWithGap(8),"",""],children:[(0,a.BX)(N.Z,{onClick:function(){return r(!t)},css:[R.l0.rowWithGap(8),"cursor:pointer;",""],children:[(0,a.tZ)(I.x,{children:"Style your post with Markdown"}),(0,a.tZ)(Y.Z,{rotate:t?0:270})]}),t?(0,a.tZ)(I.x,{color:"dimmer",multiline:!0,children:"You can style your post with a limited set of Markdown. Here are some supported content types:"}):null]}),t?(0,a.BX)(a.HY,{children:[(0,a.BX)(N.Z,{css:[R.l0.colWithGap(8),"",""],children:[(0,a.tZ)(I.x,{children:"Bold Text"}),(0,a.tZ)(I.x,{color:"dimmer",children:"**bold**"})]}),(0,a.BX)(N.Z,{css:[R.l0.colWithGap(8),"",""],children:[(0,a.tZ)(I.x,{children:"Italic Text"}),(0,a.tZ)(I.x,{color:"dimmer",children:"__italic__"})]}),(0,a.BX)(N.Z,{css:[R.l0.colWithGap(8),"",""],children:[(0,a.tZ)(I.x,{children:"Links"}),(0,a.tZ)(I.x,{color:"dimmer",children:"[Link Name](https://yourlink.com)"})]}),(0,a.BX)(N.Z,{css:[R.l0.colWithGap(8),"",""],children:[(0,a.tZ)(I.x,{children:"Images"}),(0,a.tZ)(I.x,{color:"dimmer",children:"![Image alt text](https://linktoyourimage.com)"})]}),(0,a.BX)(N.Z,{css:[R.l0.colWithGap(8),"",""],children:[(0,a.tZ)(I.x,{children:"Code Blocks"}),(0,a.BX)(I.x,{color:"dimmer",children:["```",(0,a.tZ)("br",{}),"this is for large, multiline code blocks",(0,a.tZ)("br",{}),"```"]})]}),(0,a.BX)(N.Z,{css:[R.l0.colWithGap(8),"",""],children:[(0,a.tZ)(I.x,{children:"Inline Code"}),(0,a.tZ)(I.x,{color:"dimmer",children:"`this is for code in the middle of sentences`"})]})]}):null]})}var Q=r(43918),$=r(65698);function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var te=(0,N.K)("div"),re=(0,N.K)("li"),ne=(0,N.K)("input"),oe=(0,N.K)("textarea"),ie=(0,N.K)("form"),ae=(0,s.iv)([A.gU.filled,R.l0.p(8),{color:R.TV.foregroundDefault,outline:"0 none",fontSize:R.TV.fontSizeDefault,fontFamily:"inherit",lineHeight:"16px",display:"block",width:"100%",maxWidth:"100%","::placeholder":{color:R.TV.foregroundDimmer},":not([disabled])":{cursor:"text"}}],"",""),le=5e3;var ce={name:"bjn8wh",styles:"position:relative"},se={name:"1mzyfz7",styles:"position:relative;max-width:180px"};function ue(e){var t,r,n,c=e.boards,u=e.currentBoard,p=e.onCancel,f=(0,d.useState)(),h=f[0],b=f[1],m=(0,d.useState)(""),g=m[0],v=m[1],y=(0,d.useState)((function(){return u||(c.find((function(e){return"share"===e.name.toLowerCase()}))||c[0])})),x=y[0],Z=y[1],w=function(){var e=(0,U.useApolloClient)();return(0,q.Z)({textTriggers:{"@":function(){var t=(0,i.Z)(o().mark((function t(r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.query({query:B.WlX,variables:{query:r,limit:5}});case 2:if(n=t.sent,i=n.data){t.next=6;break}return t.abrupt("return",[]);case 6:return t.abrupt("return",i.usernameSearch.map((function(e){return{icon:(0,a.tZ)(V.Z,{alt:e.username,src:e.image,size:16}),value:e.username}})));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})}(),j=function(){var e,t=(0,W.useRouter)(),r=(0,B.zI1)({onCompleted:function(e){var r,n,o,i="Post"===e.createReplPost.__typename?e.createReplPost:null;i&&((0,T.track)(T.events.POST_MADE,{source:"replTalk",isPublish:!1,title:i.title,description:null===(r=i.replComment)||void 0===r?void 0:r.body,isRemixed:Boolean(null===(n=i.repl)||void 0===n||null===(o=n.origin)||void 0===o?void 0:o.id),coverImage:!1}),t.push({pathname:"/postsFeed",query:{order:"new"}},{pathname:"/talk/all",query:{order:"new"}}))}}),n=(0,l.Z)(r,2),o=n[0],i=n[1],a=(null===(e=i.data)||void 0===e?void 0:e.createReplPost)||null,c=null;return"UserError"===(null===a||void 0===a?void 0:a.__typename)||"NotFoundError"===(null===a||void 0===a?void 0:a.__typename)?c=a.message:i.error&&(c="Somethng went wrong"),{createReplPost:function(e){o({variables:{input:e}})},loading:i.loading,error:c}}(),O=j.createReplPost,k=j.loading,P=j.error,S=function(e){if(e.replId&&e.title&&e.body&&e.boardId&&e.title.length<=100&&e.body.length<=le)return{value:{replId:e.replId,title:e.title,body:e.body,boardId:e.boardId},errors:null};var t=null;e.title?e.title.length>100&&(t="Title should not be more than ".concat(100," characters")):t="Give your post a title";var r=null;return e.body?e.body.length>le&&(r="Post should not be more than ".concat(le," characters")):r="Write something about this post",{input:null,errors:{replId:e.replId?null:"Select a Repl to share",title:t,body:r,boardId:e.boardId?null:"Select a board"}}}({replId:h||void 0,boardId:x.id,title:g,body:w.value});var C=S.errors?Object.values(S.errors).find((function(e){return null!==e})):null;return(0,a.BX)(G.Z,{background:"default",css:[R.l0.p(16),R.l0.colWithGap(16),R.l0.borderRadius(8),"",""],children:[(0,a.tZ)(I.x,{variant:"subheadBig",children:"Share a Repl"}),(0,a.BX)(ie,{onSubmit:function(e){e.preventDefault(),k||null===S.errors&&O(S.value)},css:[R.l0.colWithGap(32),"",""],children:[(0,a.BX)(N.Z,{css:[R.l0.colWithGap(32),"",""],children:[(0,a.tZ)(_.Z,{excludePrivate:!0,onSelect:function(e){b(e.id)}}),(0,a.tZ)(N.Z,{css:(0,s.iv)({borderBottom:"1px solid "+R.TV.outlineDimmest},"","")}),(0,a.BX)(N.Z,{css:[R.l0.colWithGap(8),"",""],children:[(0,a.tZ)(ne,{value:g,onChange:function(e){return v(e.currentTarget.value)},css:ae,placeholder:"Give your post a title"}),g&&null!==(t=S.errors)&&void 0!==t&&t.title?(0,a.tZ)(Q.Z,{colorway:"negative",icon:(0,a.tZ)($.Z,{}),text:S.errors.title}):null,(0,a.BX)(te,ee(ee({css:ce},w.combobox.getComboboxProps()),{},{children:[(0,a.tZ)(oe,ee(ee({},w.combobox.getInputProps({placeholder:"Write something about this post",ref:w.ref,value:w.value,onChange:function(e){return w.setValue(e.currentTarget.value)},onPaste:w.handlePaste})),{},{css:[ae,"resize:none;min-height:120px;",""]})),(0,a.tZ)(te,ee(ee({},w.combobox.getMenuProps()),{},{css:["position:absolute;",w.caretCoordinates&&{top:w.caretCoordinates.top+w.caretCoordinates.height,left:w.caretCoordinates.left-4},"",""],children:null!==(r=w.suggestions)&&void 0!==r&&r.length?(0,a.tZ)(M.Z,{css:se,children:w.suggestions.map((function(e,t){return(0,a.tZ)(re,ee(ee({},w.combobox.getItemProps({item:e,index:t})),{},{children:(0,a.tZ)(F.Z,{title:e.value,selected:w.combobox.selectedItem===e,highlighted:w.combobox.highlightedIndex===t,icon:e.icon?(0,a.tZ)(N.Z,{children:e.icon}):void 0})}),e.value)}))}):null}))]})),w.value&&null!==(n=S.errors)&&void 0!==n&&n.body?(0,a.tZ)(Q.Z,{colorway:"negative",icon:(0,a.tZ)($.Z,{}),text:S.errors.body}):null,P?(0,a.tZ)(Q.Z,{colorway:"negative",icon:(0,a.tZ)($.Z,{}),text:P}):null,(0,a.tZ)(K,{})]}),(0,a.tZ)(N.Z,{css:(0,s.iv)({borderBottom:"1px solid "+R.TV.outlineDimmest},"","")}),u?null:(0,a.BX)(N.Z,{css:[R.l0.rowWithGap(8),R.l0.align.center,R.l0.justify.spaceBetween,"",""],children:[(0,a.tZ)(I.x,{variant:"subheadDefault",children:"Board"}),(0,a.tZ)(N.Z,{css:[R.l0.minWidth(140),"",""],children:(0,a.tZ)(H.Z,{placeholder:"Select a board",items:c.map((function(e){return{value:e,title:e.name}})),initialSelectedItem:x?{value:x,title:x.name}:void 0,onChange:function(e){return Z(e.value)}})})]})]}),(0,a.BX)(N.Z,{css:[R.l0.rowWithGap(8),R.l0.justify.end,"",""],children:[(0,a.tZ)(N.Z,{children:(0,a.tZ)(X.zx,{text:"Cancel",onClick:function(){return p()}})}),(0,a.tZ)(N.Z,ee(ee({},C?{"aria-label":C,"data-microtip-position":"bottom",role:"tooltip"}:{}),{},{children:(0,a.tZ)(X.zx,{disabled:null!==C,colorway:"primary",text:"Share Repl",type:"submit",onClick:function(){}})}))]})]})]})}var de=r(51671),pe=r(74078),fe=r(91527);function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function me(e){var t=(0,B.cOQ)({fetchPolicy:"cache-and-network",variables:{options:e},notifyOnNetworkStatusChange:!0}),r=t.loading,n=t.data,o=t.error,i=t.fetchMore,l=(0,W.useRouter)();if(r&&!n)return(0,a.tZ)(N.Z,{css:[R.l0.p(8),R.l0.center,"",""],children:(0,a.tZ)(de.Z,{})});if(o)return(0,a.tZ)(I.x,{children:o.message});if(!n)return null;var s=n.replPosts.items,u=n.currentUser||void 0,d=l.asPath.split("?")[0],p=n.replPosts.pageInfo.nextCursor;return(0,a.BX)(N.Z,{css:[R.l0.colWithGap(32),"",""],children:[(0,a.tZ)(N.Z,{css:[R.l0.colWithGap(64),"",""],children:s.map((function(e){return e.replComment?(0,a.tZ)(pe.Z,{post:e,currentUser:u||void 0},e.id):(0,a.tZ)(fe.Z,{post:e},e.id)}))}),(0,a.BX)(N.Z,{css:[R.l0.center,"",""],children:[r?(0,a.tZ)(X.zx,{disabled:!0,text:"Loading..."}):null,p&&!r?(0,a.tZ)(X.zx,{as:{pathname:d,query:{after:p}},href:{pathname:l.pathname,query:be(be({},l.query),{},{after:p})},onClick:function(t){t.preventDefault(),r||((0,T.track)(T.events.POSTS_LOAD_MORE_CLIKED,{board:"all"}),i({variables:{options:be(be({},e),{},{after:p})},updateQuery:function(e,t){if(!t||!t.fetchMoreResult)return e;var r=t.fetchMoreResult,n=e?e.replPosts.items:[],o=be({},r),i=r.replPosts.items;return i.length>0&&l.replace({pathname:l.pathname,query:be({},l.query)},{pathname:d,query:{}},{shallow:!0}),o.replPosts.items=[].concat((0,c.Z)(n),(0,c.Z)(i)),o}}))},text:"Load more"}):null]})]})}var ge=r(53263),ve=r(36027),ye=r(90281),xe=r(12375);function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je=(0,N.K)("a");function Oe(e){var t=e.link,r=e.title,n=e.user,o=e.commentCount;return(0,a.tZ)(j.default,we(we({passHref:!0},t),{},{children:(0,a.BX)(je,{css:[A.gU.filled,R.l0.p(8),R.l0.rowWithGap(8),R.l0.align.center,R.l0.justify.spaceBetween,"color:inherit;",""],children:[(0,a.BX)(N.Z,{css:[R.l0.rowWithGap(8),R.l0.flex.growAndShrink(1),R.l0.align.center,R.l0.maxWidth("80%"),"",""],children:[(0,a.tZ)(ve.Z,{src:n.image,username:n.username,size:24}),(0,a.tZ)(I.x,{css:[R.l0.flex.growAndShrink(1),"",""],children:r})]}),(0,a.tZ)(ye.Z,{count:o,tooltip:1===o?"1 comments":"".concat(o," comments"),children:(0,a.tZ)(xe.Z,{})})]})}))}function ke(){var e=(0,B.GaK)(),t=e.loading,r=e.data,n=e.error;if(t)return(0,a.tZ)(N.Z,{css:[R.l0.p(8),R.l0.center,"",""],children:(0,a.tZ)(de.Z,{})});if(n)return(0,a.tZ)(I.x,{children:n.message});if(!r)return null;var o=r.pinnedPosts;return(0,a.BX)(G.Z,{background:"root",css:[R.l0.colWithGap(8),"",""],children:[(0,a.tZ)(I.x,{variant:"subheadDefault",children:"Pinned posts"}),(0,a.tZ)(N.Z,{css:[R.l0.colWithGap(8),R.l0.align.stretch,"",""],children:o.map((function(e){var t=e.replComment,r=e.user,n=t&&e.repl?e.repl:null;if(!r)return null;var o=t&&n?n.commentCount:e.commentCount;return(0,a.tZ)(Oe,{user:r,title:e.title,commentCount:o,link:n&&t?(0,pe.x)({replUrl:n.url,replCommentId:t.id}):(0,ge.i)(e)},e.id)}))})]})}var Pe=r(8406),Se=r(13029),Ce=r(80320);function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Te(e){var t=e.onDismiss;return(0,a.BX)(G.Z,{background:"higher",css:[R.l0.p(16),R.l0.colWithGap(16),R.l0.borderRadius(8),"",""],children:[(0,a.tZ)(I.x,{variant:"subheadDefault",children:"Repl Talk Redesign"}),(0,a.BX)(N.Z,{css:[R.l0.colWithGap(16),"",""],children:[(0,a.tZ)(I.x,{multiline:!0,children:"If you\u2019re seeing this, that means you\u2019re testing out our early Repl Talk redesign!"}),(0,a.tZ)(I.x,{multiline:!0,children:"We are focusing the Repl Talk feed on Repls instead of posts. You\u2019ll still be able to write about your Repls, but every post will live on your Repl\u2019s Spotlight page."}),(0,a.BX)(I.x,{multiline:!0,children:["Please let us know if you have any feedback"," ",(0,a.tZ)(j.default,De(De({},(0,Ce.j3)({url:"/@replit/Repl-Talk-Redesign"})),{},{children:(0,a.tZ)("a",{tabIndex:-1,children:"here!"})}))]}),(0,a.tZ)(N.Z,{css:[R.l0.align.end,"",""],children:(0,a.tZ)(X.zx,{text:"Sounds good",iconLeft:(0,a.tZ)(Se.Z,{}),onClick:function(){return t()}})})]})]})}var Be,We=r(51537),Le=r(96434),ze=r(2974);function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ne={mobile:"@media (max-width: ".concat(We.j.tabletMin,"px)"),tablet:"@media (min-width: ".concat(We.j.tabletMin+1,"px) and (max-width: ").concat(We.j.tabletMax,"px)"),mobileTablet:"@media (max-width: ".concat(We.j.tabletMax,"px)"),desktop:"@media (min-width: ".concat(We.j.tabletMax+1,"px)")},Ae=function(e){return{name:e,gridArea:(0,s.iv)({gridArea:e},"","")}},Ie={nav:Ae("nav"),feed:Ae("feed"),pinned:Ae("pinned"),shareSearch:Ae("shareSearch")},Ge=(0,s.iv)([R.l0.py(32),R.l0.px(16),(Be={display:"grid",gridGap:R.TV.space16},(0,u.Z)(Be,Ne.mobile,[{gridTemplateAreas:'\n          "'.concat(Ie.nav.name,'"\n          "').concat(Ie.shareSearch.name,'"\n          "').concat(Ie.pinned.name,'"\n          "').concat(Ie.feed.name,'"\n                ')}]),(0,u.Z)(Be,Ne.tablet,[{gridTemplateColumns:"1fr 33%",gridTemplateAreas:'\n          "'.concat(Ie.nav.name," ").concat(Ie.pinned.name,'"\n          "').concat(Ie.shareSearch.name," ").concat(Ie.pinned.name,'"\n          "').concat(Ie.feed.name," ").concat(Ie.pinned.name,'"\n                ')}]),(0,u.Z)(Be,Ne.desktop,[{justifyContent:"center",gridTemplateColumns:"auto minmax(auto, 600px) 28%",gridTemplateRows:"auto 1fr",gridTemplateAreas:'\n          "'.concat(Ie.nav.name," ").concat(Ie.shareSearch.name," ").concat(Ie.pinned.name,'"\n          "').concat(Ie.nav.name," ").concat(Ie.feed.name," ").concat(Ie.pinned.name,'"\n        ')}]),Be)],"","");function _e(e){switch(e){case"new":return B.vXE.New;case"votes":return B.vXE.Top;default:return B.vXE.Hot}}function qe(e){var t,r=e.currentBoardSlug,n=e.boards,o=e.order,i=r?r.split(","):[],l=o?{order:o}:{};return(0,a.tZ)(N.Z,{css:(0,s.iv)((t={},(0,u.Z)(t,Ne.mobileTablet,[R.l0.flex.row,R.l0.justify.center,{margin:"calc(".concat(-1*R.TV.space4,")"),flexWrap:"wrap"}]),(0,u.Z)(t,Ne.desktop,[R.l0.colWithGap(8),R.l0.align.end]),t),"",""),children:[{name:"All",slug:"all"}].concat((0,c.Z)(n)).map((function(e){return(0,a.tZ)(N.Z,{css:(0,s.iv)((0,u.Z)({},Ne.mobileTablet,[R.l0.p(4)]),""),children:(0,a.tZ)(Le.z,{href:{pathname:"/postsFeed",query:Xe({boardSlug:e.slug},l)},as:{pathname:"/talk/".concat(e.slug),query:l},name:e.name,color:e.color||void 0,isActive:i.includes(e.slug)})},e.slug)}))})}var Me=function(){var e,t=(0,W.useRouter)(),r=d.useState(!1),n=(0,l.Z)(r,2),o=n[0],i=n[1],c=d.useState(!1),p=(0,l.Z)(c,2),h=p[0],b=p[1],m=d.useState(!1),g=(0,l.Z)(m,2),v=g[0],x=g[1],Z=(0,B.NDb)().data,w=!(!Z||!Z.currentUser),O=t.asPath?t.asPath.split("?").shift():"",k=D(t.query),P=(0,L.Z)(k,"q"),S=(0,L.Z)(k,"count"),E=(0,L.Z)(k,"after"),A=S?parseInt(S):void 0,I=(0,L.Z)(k,"order"),_=P?void 0:I||"hot",q=(0,L.Z)(k,"boardSlug"),M=(0,Pe.Z)("announcement","repl-talk-update-2021"),F=M.shouldDisplay,V=M.register,U=M.dismiss;d.useEffect(V,[V]);var H=function(){v&&!window.confirm("Are you sure you want to leave? Unsaved changes may be lost.")||(i(!1),x(!1))},Y=Z&&Z.boards&&Z.boards.find((function(e){return e&&e.slug===k.boardSlug})),K=Y&&Y.description?Y.description:"A friendly platform to share and discuss all things Replit";return(0,a.tZ)(f.Z,{title:"Feed",description:K,children:(0,a.BX)(G.Z,{background:"root",css:Ge,children:[(0,a.tZ)(N.Z,{css:[Ie.nav.gridArea,"",""],children:(0,a.tZ)(qe,{boards:(null===Z||void 0===Z?void 0:Z.boards)||[],currentBoardSlug:q||"all"})}),(0,a.tZ)(N.Z,{css:[Ie.pinned.gridArea,"",""],children:(0,a.BX)(N.Z,{css:[R.l0.colWithGap(16),P&&(0,u.Z)({},Ne.mobile,{display:"none"}),"",""],children:[(0,a.tZ)(ke,{}),(0,a.tZ)(j.default,Xe(Xe({},(0,Ce.j3)({url:"/@replit/Repl-Talk-Redesign"})),{},{children:(0,a.tZ)("a",{className:"feedback-link",children:"Send feedback on this new design"})}))]})}),(0,a.BX)(N.Z,{css:[Ie.shareSearch.gridArea,(e={},(0,u.Z)(e,Ne.mobile,[{flexDirection:"column-reverse"}]),(0,u.Z)(e,Ne.tablet,[R.l0.rowWithGap(8),R.l0.justify.spaceBetween]),(0,u.Z)(e,Ne.desktop,[R.l0.rowWithGap(8),R.l0.justify.spaceBetween]),e),"",""],children:[(0,a.tZ)(N.Z,{css:(0,s.iv)((0,u.Z)({flexShrink:1},Ne.mobile,R.l0.pt(8)),"",""),children:(0,a.tZ)(y,{value:P,onSearch:function(e){var r=Xe({},e?{q:e}:{});t.replace({pathname:t.pathname,query:Xe(Xe({},r),q?{boardSlug:q}:{})},{pathname:O,query:r},{shallow:!0})},placeholder:Y?"Search ".concat(Y.name.toLowerCase()):"Search all posts"})}),(0,a.tZ)(N.Z,{children:(0,a.tZ)(X.zx,{css:[R.l0.justify.center,"",""],big:!0,colorway:"primary",text:"Share a Repl",stretch:!0,onClick:function(){w?((0,T.track)(T.events.PUBLISH_SELECTED,{source:"replTalk",isPublish:!1}),i(!0)):b(!0)}})})]}),(0,a.BX)(N.Z,{css:[Ie.feed.gridArea,R.l0.colWithGap(8),"",""],children:[P?null:(0,a.tZ)(C,{pathname:t.pathname,currentOrder:_,asPath:O||"",queryParams:k}),(0,a.tZ)(me,{searchQuery:P,order:_e(_),after:E,boardSlugs:q?q.split(","):void 0,count:A})]}),(0,a.tZ)(z.ZP,{onRequestClose:H,isOpen:o,children:(0,a.tZ)(ue,{boards:(null===Z||void 0===Z?void 0:Z.boards)||[],currentBoard:Y,onCancel:H})}),(0,a.tZ)(z.ZP,{isOpen:h,onRequestClose:function(){b(!1)},children:(0,a.tZ)(ze.Z,{onSuccess:function(){b(!1),i(!0)},source:"postsFeed"})}),(0,a.tZ)(z.ZP,{isOpen:F,onRequestClose:function(){return U()},width:"xsmall",children:(0,a.tZ)(Te,{onDismiss:U})})]})})};Me.getInitialProps=function(){var e=(0,i.Z)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.req,n=t.store,e.next=3,(0,p.Z)(r,n);case 3:return e.abrupt("return",{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Fe=Me},28232:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/postsFeed",function(){return r(36418)}])},16496:function(e){!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],r="undefined"!==typeof window,n=r&&null!=window.mozInnerScreenX;function o(e,o,i){if(!r)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var a=i&&i.debug||!1;if(a){var l=document.querySelector("#input-textarea-caret-position-mirror-div");l&&l.parentNode.removeChild(l)}var c=document.createElement("div");c.id="input-textarea-caret-position-mirror-div",document.body.appendChild(c);var s=c.style,u=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,d="INPUT"===e.nodeName;s.whiteSpace="pre-wrap",d||(s.wordWrap="break-word"),s.position="absolute",a||(s.visibility="hidden"),t.forEach((function(e){d&&"lineHeight"===e?s.lineHeight=u.height:s[e]=u[e]})),n?e.scrollHeight>parseInt(u.height)&&(s.overflowY="scroll"):s.overflow="hidden",c.textContent=e.value.substring(0,o),d&&(c.textContent=c.textContent.replace(/\s/g,"\xa0"));var p=document.createElement("span");p.textContent=e.value.substring(o)||".",c.appendChild(p);var f={top:p.offsetTop+parseInt(u.borderTopWidth),left:p.offsetLeft+parseInt(u.borderLeftWidth),height:parseInt(u.lineHeight)};return a?p.style.backgroundColor="#aaa":document.body.removeChild(c),f}"undefined"!=typeof e.exports?e.exports=o:r&&(window.getCaretCoordinates=o)}()}},function(e){e.O(0,[9774,9351,127,2461,6346,2830,5835,4778,7570,6503,9630,815,4555,3469,1527],(function(){return t=28232,e(e.s=t);var t}));var t=e.O();_N_E=t}]);