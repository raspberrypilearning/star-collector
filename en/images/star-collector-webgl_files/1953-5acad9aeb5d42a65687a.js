(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1953],{60957:function(e,t,r){"use strict";r.d(t,{hI:function(){return A},nD:function(){return R},G_:function(){return N}});var n=r(28140),o=r(26265),i=r(32292),a=r(809),s=r.n(a),c=r(92447),u=r(91674),l=r(74405),d=r(25506),f=r(93041),p=r(1065),h=r(50521),g=r(48905),v=r(10309),m=r(33096),b=r(16888);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e){for(var t=e.iter(),r="";!t.done;)r+=t.value,t.next();return r.length?r:null}function O(e){if(Array.isArray(e)){var t,r="",n=x(e);try{for(n.s();!(t=n.n()).done;){r+=O(t.value)+"\n\n"}}catch(o){n.e(o)}finally{n.f()}return r}return"string"===typeof e?e:e.value}function S(e,t){var r,n=[],o=x(e);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=(0,v.R)(t,i.range.start),s=(0,v.R)(t,i.range.end);if("number"===typeof a&&"number"===typeof s&&a!==s){var c="info";if(void 0!==i.severity)switch(i.severity){case u.H_.Error:c="error";break;case u.H_.Warning:c="warning";break;case u.H_.Hint:case u.H_.Information:c="info"}n.push({from:a,to:s,severity:c,message:i.message,source:i.source})}}}catch(l){o.e(l)}finally{o.f()}return n}function j(e){var t=e.lspClient,r=e.path;return h.lg.define((function(e){var n=t.onDiagnostics((function(t){if(t.path===r){var n=S(t.diagnostics,e.state.doc);e.dispatch((0,d.p0)(e.state,n))}}));return{destroy:function(){n()}}}))}function Z(e){var t=e.hover,r=e.doc,n=e.offset,o=e.setHoverTooltipParams;if((Array.isArray(t.contents)||"string"===typeof t.contents)&&0===t.contents.length)return o(null),null;var i=t.range,a=n,s=null;return i&&(a=(0,v.R)(r,i.start),s=(0,v.R)(r,i.end)),null===a?(o(null),null):{pos:a,end:null===s?a+1:s,create:function(){var e=document.createElement("div");e.classList.add("hover-tooltip"),e.style.padding="0";var r=O(t.contents);return o({dom:e,content:r}),{dom:e}},above:!0}}function P(e){var t=Object.keys(e).join(""),r=/\w/.test(t);return r&&(t=t.replace(/\w/g,"")),"[".concat(r?"\\w":"").concat(t.replace(/[^\w\s]/g,"\\$&"),"]")}function C(e,t){var r,n,o=e.state,i=e.pos,a=e.explicit,s=o.doc.lineAt(i),c=f.Ij.Invoked,u=null===t||void 0===t||null===(r=t.completionProvider)||void 0===r?void 0:r.triggerCharacters;return!a&&null!==u&&void 0!==u&&u.includes(s.text[i-s.from-1])&&(c=f.Ij.TriggerCharacter,n=s.text[e.pos-s.from-1]),c!==f.Ij.Invoked||e.matchBefore(/\w+$/)?{triggerKind:c,triggerCharacter:n}:null}var D=Object.entries(u.cm).reduce((function(e,t){var r=(0,i.Z)(t,2),n=r[0],a=r[1];return w((0,o.Z)({},a,n.toLowerCase()),e)}),{});function I(e,t){var r=t.map((function(e){var t,r=e.detail,n=e.label,o=e.kind,i=e.textEdit,a=e.documentation,s=e.sortText,c=e.filterText,u={label:n,detail:r,apply:null!==(t=null===i||void 0===i?void 0:i.newText)&&void 0!==t?t:n,type:o&&D[o],sortText:null!==s&&void 0!==s?s:n,filterText:(null!==c&&void 0!==c?c:n).toLowerCase()};return a&&(u.info=O(a)),u})),n=function(e){var t,r=Object.create(null),n=Object.create(null),o=x(e);try{for(o.s();!(t=o.n()).done;){var i=t.value.label;r[i[0]]=!0;for(var a=1;a<i.length;a++)n[i[a]]=!0}}catch(c){o.e(c)}finally{o.f()}var s=P(r)+P(n)+"*$";return[new RegExp("^"+s),new RegExp(s)]}(r),o=(0,i.Z)(n,2),a=o[0],s=o[1],c=e.matchBefore(s),u=e.pos;if(c){u=c.from;var l=c.text.toLowerCase();/^\w+$/.test(l)&&(r=r.filter((function(e){return e.filterText.startsWith(l)})).sort((function(e,t){var r=e.apply,n=t.apply;switch(!0){case r.startsWith(c.text)&&!n.startsWith(c.text):return-1;case!r.startsWith(c.text)&&n.startsWith(c.text):return 1}return 0})))}return{from:u,options:r,span:a}}function T(e,t){var r=t.fromA,n=t.toA,o=t.fromB,i=t.toB,a=t.inserted;if(n>r&&i>=n){var s=(0,v.s)(e,r),c=(0,v.s)(e,n),u=k(a);if(!u)throw new Error("Expected text");return{range:{start:s,end:c},rangeLength:n-r,text:u}}if(r===n&&i>o){var l=(0,v.s)(e,n),d=k(a);if(!d)throw new Error("Expected text");return{range:{start:l,end:l},rangeLength:0,text:d}}return{range:{start:(0,v.s)(e,i),end:(0,v.s)(e,n)},rangeLength:n-i,text:""}}function _(e){var t=e.lspClient,r=e.path;return h.tk.updateListener.of((function(e){var n;if(e.docChanged){var o=null===(n=t.getServerCapabilities())||void 0===n?void 0:n.textDocumentSync;if(o!==f.ex.None)if(o!==f.ex.Full){var i=[];e.changes.iterChanges((function(t,r,n,o,a){i.push(T(e.startState.doc,{fromA:t,toA:r,fromB:n,toB:o,inserted:a}))})),t.notify.didChange(r,i)}else{var a=e.view.state.doc.toString();t.notify.didChange(r,[{text:a}])}}}))}var A=l.Py.define();var R=l.Py.define();function N(e){var t=e.lspClient,r=e.path,o=e.areAdvancedLSPFeaturesEnabled,i=e.setLspTooltipProps,a=e.setRenameInputParams,u=e.setHoverTooltipParams,d=(0,m.Z)(t),f=[_({lspClient:t,path:r}),j({lspClient:t,path:r})];return d.isAutoCompleteSupported&&f.push(function(e){var t=e.lspClient,r=e.path;return(0,p.ys)({override:[function(){var e=(0,c.Z)(s().mark((function e(n){var o,i,a,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.getServerCapabilities()){e.next=3;break}return e.abrupt("return",null);case 3:if(i=C(n,o)){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,t.request.completion(r,(0,v.s)(n.state.doc,n.pos),i);case 8:if(!("error"in(a=e.sent))){e.next=11;break}throw new Error("Something went wrong fetching autocompletion results: ".concat(a.error.message));case 11:if(c=a.result,!n.aborted){e.next=14;break}return e.abrupt("return",null);case 14:if(c){e.next=16;break}return e.abrupt("return",null);case 16:return u=Array.isArray(c)?c:c.items,e.abrupt("return",I(n,u));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]})}({lspClient:t,path:r})),d.isHoverSupported&&f.push(function(e){var t=e.lspClient,r=e.path,n=e.setHoverTooltipParams;return(0,g.bF)(function(){var e=(0,c.Z)(s().mark((function e(o,i){var a,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,v.s)(o.state.doc,i),e.next=3,t.request.hover(r,a);case 3:if(!("error"in(c=e.sent))){e.next=7;break}throw n(null),new Error("Something went wrong fetching hover results: ".concat(c.error.message));case 7:if(null!==(u=c.result)){e.next=11;break}return n(null),e.abrupt("return",null);case 11:return e.abrupt("return",Z({hover:u,offset:i,doc:o.state.doc,setHoverTooltipParams:n}));case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())}({setHoverTooltipParams:u,lspClient:t,path:r})),(d.isFindDefinitionSupported||d.isFindReferencesSupported)&&o&&f.push(function(e){var t=e.setLspTooltipProps,r=e.lspClient,o=e.path,i=l.Py.define(),a=l.Py.define();return[h.tk.updateListener.of(function(){var e=(0,c.Z)(s().mark((function e(t){var c,u,l,d,f,p,h,g,b,y,w,E,k,O,S,j,Z,P,C,D,I,T;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g=function(){t.view.dispatch({effects:a.of(null)})},c=null,u=x(t.transactions);try{for(u.s();!(l=u.n()).done;){d=l.value,f=x(d.effects);try{for(f.s();!(p=f.n()).done;)(h=p.value).is(A)&&(c=h.value)}catch(s){f.e(s)}finally{f.f()}}}catch(s){u.e(s)}finally{u.f()}if(c){e.next=6;break}return e.abrupt("return");case 6:if(b=(0,m.Z)(r),y=t.state.doc,w=(0,v.s)(y,c),!b.isFindReferencesSupported){e.next=15;break}return e.next=12,r.request.findReferences(o,w,{includeDeclaration:!1});case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0={result:null};case 16:if(E=e.t0,!b.isFindDefinitionSupported){e.next=23;break}return e.next=20,r.request.findDefinitions(o,w);case 20:e.t1=e.sent,e.next=24;break;case 23:e.t1={result:null};case 24:if(k=e.t1,!("error"in E)){e.next=27;break}throw new Error("Something went wrong fetching references: ".concat(E.error.message));case 27:if(!("error"in k)){e.next=29;break}throw new Error("Something went wrong fetching definition: ".concat(k.error.message));case 29:if(O=E.result,S=k.result,j=O&&O.length>0,Z=S&&S.length>0,j||Z){e.next=36;break}return g(),e.abrupt("return");case 36:P=[],C=[],O&&O.length>0&&P.push.apply(P,(0,n.Z)(O)),S&&S.length>0&&C.push.apply(C,(0,n.Z)(S)),D=[].concat(P,C).map((function(e){return r.documentUriToPath(e.uri)})).filter((function(e){return e!==o})),I=(0,n.Z)(new Set(D)),T=y.toJSON().join("\n"),t.view.dispatch({effects:i.of({references:P,definitions:C,currentFile:o,currentFileContents:T,files:I})});case 44:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l.QQ.define({create:function(){return null},update:function(e,t){var r,n=e,o=x(t.effects);try{for(o.s();!(r=o.n()).done;){var s=r.value;s.is(i)&&(n=s.value),s.is(a)&&(n=null)}}catch(c){o.e(c)}finally{o.f()}return n},provide:function(e){return g.hJ.compute([e],(function(r){var n=r.field(e);if(!n)return t(null),null;var o=r.selection.asSingle().main;return{pos:o.from,end:o.to,create:function(e){var r=document.createElement("div");return r.classList.add("cm-lsp-tooltip"),r.classList.add("replit-tooltip"),r.style.padding="0",t(w(w({},n),{},{onClose:function(){e.dispatch({effects:a.of(null)})},dom:r})),{dom:r}}}}))}})]}({setLspTooltipProps:i,lspClient:t,path:r})),d.isRenameSupported&&f.push(function(e){return l.QQ.define({create:function(){return null},update:function(e,t){var r,n=e,o=x(t.effects);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.is(R)&&(n=i.value)}}catch(a){o.e(a)}finally{o.f()}return n},provide:function(t){return g.hJ.compute([t],(function(r){var n=r.field(t);return null===n?(e(null),null):{pos:n,create:function(){var t=document.createElement("div");t.classList.add("cm-lsp-rename-tooltip"),t.classList.add("replit-tooltip"),t.style.padding="0";var o=(0,b.qz)(r).resolve(n),i=r.sliceDoc(o.from,o.to);return e({position:n,variable:i,dom:t}),{dom:t}}}}))}})}(a)),f}v.R,v.s},82652:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(32292),o=r(809),i=r.n(o),a=r(92447),s=r(67294),c=r(93041),u=r(4838),l=r(14814),d=r(60957),f=r(10309),p=r(41422),h=r(37321),g=r(33096),v=r(3460),m=r(8346),b=r(50521),y=r(30503);function w(){return(w=(0,a.Z)(i().mark((function e(t){var r,o,a,s,c,u,l,d,h,v,m,b,y,w,x,E,k,O,S;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.event,o=t.view,a=t.client,s=t.session,c=t.filePath,u=t.requestIdRef,(0,p.jh)(r)){e.next=3;break}return e.abrupt("return");case 3:if(o){e.next=5;break}throw new Error("Expected view");case 5:if(l=r.clientX,d=r.clientY,null!==(h=o.posAtCoords({x:l,y:d}))){e.next=9;break}return e.abrupt("return");case 9:if(a){e.next=11;break}throw new Error("Expected LSP Client");case 11:if(c){e.next=13;break}throw new Error("Expected filePath");case 13:if(v=(0,g.Z)(a),v.isFindDefinitionSupported){e.next=16;break}return e.abrupt("return");case 16:return u.current&&a.notify.cancelRequest(u.current),u.current=Math.random().toString(),m=(0,f.s)(o.state.doc,h),e.next=21,a.request.findDefinitions(c,m,u.current);case 21:if(b=e.sent,u.current=null,!("error"in b)){e.next=25;break}throw new Error("Something went wrong fetching definition location: ".concat(b.error.message));case 25:if(y=b.result,!b.cancelled&&y&&0!==y.length){e.next=28;break}return e.abrupt("return");case 28:w=(0,n.Z)(y,1),x=w[0],E=x.uri,k=x.range,O=k.start,S=a.documentUriToPath(E),s.updateDeeplink({path:S,line:O.line+1,col:O.character});case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){var t=e.view,r=e.filePath,o=e.isLoading,p=(0,l.Z)().preferences.codeIntelligence,x=(0,m.Z)().session,E=(0,u.Z)(),k=s.useState(null),O=(0,n.Z)(k,2),S=O[0],j=O[1],Z=s.useState(null),P=(0,n.Z)(Z,2),C=P[0],D=P[1],I=s.useState(null),T=(0,n.Z)(I,2),_=T[0],A=T[1],R=(0,h.Z)("flag-codemirror-find-references"),N=function(e){var t=e.view,r=e.filePath,n=e.renameInputParams,o=s.useRef(null),c=(0,m.Z)().fs,l=(0,u.Z)();return{onRename:s.useCallback(function(){var e=(0,a.Z)(i().mark((function e(a){var s,u,p,h,g,m,b,y,w,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g=function(e,r){var n=c.watchOtFile(e,{onReady:function(e){var o=e.writeOps;if(!t)throw new Error("Expected editor");r.forEach((function(e){var r=e.range,n=r.start,i=r.end,a=t.state.doc,s=(0,f.R)(a,n)||0,c=[s,{d:((0,f.R)(a,i)||a.length)-s},e.newText];o(c)})),n()}})},t){e.next=3;break}throw new Error("Expected view");case 3:if(l){e.next=5;break}throw new Error("Expected client");case 5:if(r){e.next=7;break}throw new Error("Expected non-null file path");case 7:if(n){e.next=9;break}throw new Error("Expected rename input params");case 9:return s=(0,f.s)(t.state.doc,n.position),o.current&&l.notify.cancelRequest(o.current),u=Math.random().toString(36),o.current=u,e.next=15,l.request.rename(r,s,a,u);case 15:if(p=e.sent,o.current=null,!("error"in p)){e.next=19;break}throw new Error("Something went wrong renaming ".concat(p.error.message));case 19:if(!p.cancelled){e.next=21;break}return e.abrupt("return");case 21:if(h=p.result){e.next=24;break}return e.abrupt("return");case 24:if(m=h.documentChanges,b=h.changes,m&&m.forEach((function(e){if("textDocument"in e){var t=e.edits,r=e.textDocument,n=l.documentUriToPath(r.uri);g(n,t)}else switch(e.kind){case"create":var o=l.documentUriToPath(e.uri);c.writeFile(o,v.Z.from("")).then((function(e){if(e.error)throw new Error("Something went wrong writing to a file")}));break;case"delete":var i=l.documentUriToPath(e.uri);c.deleteFile(i).then((function(e){if(e.error)throw new Error("Something went wrong deleting the file")}));break;case"rename":var a=l.documentUriToPath(e.oldUri),s=l.documentUriToPath(e.newUri);c.moveFile(a,s).then((function(e){if(e.error)throw new Error("Something went wrong moving the file")}))}})),b)for(y in b)w=l.documentUriToPath(y),x=b[y],g(w,x);t.dispatch({effects:[d.nD.of(null)]});case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l,t,r,c,n]),closeRenameInput:function(){if(!t)throw new Error("Expected view");t.dispatch({effects:[d.nD.of(null)]})}}}({view:t,filePath:r,renameInputParams:_}),U=N.onRename,L=N.closeRenameInput,F=(0,y.Z)({view:t});return s.useEffect((function(){if(!o&&p&&t&&E&&E.isSupportedFile(r)){E.notify.didOpen(r,t.state.doc.toString());var e=(0,g.Z)(E).isFindDefinitionSupported,n={current:null};return t.dispatch({effects:F.reconfigure([(0,d.G_)({lspClient:E,path:r,areAdvancedLSPFeaturesEnabled:R,setLspTooltipProps:j,setRenameInputParams:A,setHoverTooltipParams:D}),e?b.tk.domEventHandlers({click:function(e){return function(e){w.apply(this,arguments)}({event:e,view:t,filePath:r,client:E,session:x,requestIdRef:n}),!1}}):[]])}),function(){E.getServerState()===c.aL.INITIALIZED&&E.notify.didClose(r),t.dispatch({effects:F.reconfigure([])})}}}),[E,t,F,r,o,x,p,R,j,A,D]),{lspTooltipProps:S,hoverTooltipParams:C,renameInputParams:_,closeRenameInput:L,onRename:U}}},98724:function(e,t,r){"use strict";r.d(t,{Z:function(){return z}});var n=r(50521),o=r(67294),i=r(74405),a=r(59137),s=r(2244);function c(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){var t=[];return e.iterChanges((function(e,r,n,o,i){var a=[];n>0&&a.push(n),e<r&&a.push({d:r-e}),i.length&&a.push(i.sliceString(0)),t=(0,s.qC)(t,a)})),t}function d(e){var t,r=[],n=0,o=!0,i=c(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if("string"===typeof a){if(o)r.push({from:n,insert:a});else{var s=r[r.length-1];s.insert=s.insert?s.insert+a:a}o=!1}else if("number"===typeof a)n+=a,o=!0;else if("object"===typeof a&&"number"===typeof a.d){if(o)r.push({from:n,to:n+a.d});else{var u=r[r.length-1];u.to=u.to?u.to+a.d:a.d}n+=a.d,o=!1}}}catch(l){i.e(l)}finally{i.f()}return r}function f(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=i.q6.define();function g(e){return n.tk.updateListener.of((function(t){if(t.docChanged){var r,n=[],o=f(t.transactions);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(!a.annotation(i.YW.remote)&&!a.annotation(h)){var c=l(a.changes);n=(0,s.qC)(n,c)}}}catch(u){o.e(u)}finally{o.f()}n.length&&e(n)}}))}var v=i.QQ.define({create:function(){return 0},update:function(e,t){var r=t.annotation(h);return r?r.version:e}}),m=r(5864),b=r(30503);function y(e){var t=e.view,r=e.fs,n=e.filePath,s=(0,o.useState)(!0),c=s[0],u=s[1],l=(0,m.Z)(),f=(0,b.Z)({view:t});return(0,o.useEffect)((function(){if(t){var e=r.watchOtFile(n,{onReady:function(e){var r=e.initialContent,n=e.writeOps,o=e.version;t.dispatch({changes:{from:0,to:t.state.doc.length,insert:r.toString()},annotations:[i.YW.addToHistory.of(!1),i.YW.remote.of(!0)]}),t.dispatch({effects:f.reconfigure([v.init((function(){return o})),g(n)])}),u(!1)},onChange:function(e){var r=e.ops,n=e.changeSource,o=e.version;t.dispatch(function(e){var t=e.ops,r=e.version,n=e.changeSource;return{changes:d(t),annotations:[i.YW.remote.of(n===a.Fl.Container),i.YW.addToHistory.of(n===a.Fl.Local),h.of({ops:t,version:r,changeSource:n})]}}({ops:r,changeSource:n,version:o}))},onError:function(){t.dispatch({effects:f.reconfigure([])})},onMoveOrDelete:function(){t.dispatch({effects:f.reconfigure([])})}});return function(){e(),t.dispatch({effects:[f.reconfigure([])]}),l.current&&u(!0)}}}),[t,n,r,l,f]),{isLoading:c}}var w=r(26265),x=r(23746),E=r(32292),k=r(48905),O=r(38738);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,w.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C={"#1BC47D":"rgba(27, 196, 125, 0.2)","#EF5533":"rgba(239, 85, 51, 0.2)","#18A0FB":"rgba(24, 160, 251, 0.2)","#FFC700":"rgba(255, 199, 0, 1)","#907CFF":"rgba(144, 124, 255, 0.2)","#00B5CE":"rgba(0, 181, 206, 0.2)","#EE46D3":"rgba(238, 70, 211, 0.2)"};var D=i.Py.define(),I=i.Py.define(),T=i.Py.define();function _(e){return{pos:e.position,strictSide:!0,above:!0,create:function(t){var r=document.createElement("div");r.textContent=e.username,r.style.backgroundColor=e.color.cursor,r.style.color="white",r.classList.add("multiplayer-label");var n=document.createElement("div");n.style.backgroundColor=e.color.cursor,n.classList.add("multiplayer-cursor");var o=document.createElement("div");return o.classList.add("multiplayer-tooltip"),o.appendChild(n),o.appendChild(r),{dom:o,positioned:function(){n.style.height=t.defaultLineHeight+"px"}}}}}var A=i.QQ.define({create:function(){return{}},update:function(e,t){var r,n=Z(t.effects);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o.is(O.R)&&(e=j({},e)),o.is(D)&&o.value.position<=t.newDoc.length&&((e=j({},e))[o.value.id]=o.value),o.is(I)&&(e=j({},e),o.is(I)&&delete e[o.value]),o.is(T)){e=j({},e);for(var i=0,a=Object.entries(e);i<a.length;i++){var s=(0,E.Z)(a[i],2),c=s[0];s[1].username===o.value&&delete e[c]}}}}catch(u){n.e(u)}finally{n.f()}return e},provide:function(e){return k.hJ.computeN([e],(function(t){return Object.values(t.field(e)).map(_)}))}}),R=i.QQ.define({create:function(){return n.p.none},update:function(e,t){e=e.map(t.changes);var r,o=[],i=[],a=Z(t.effects);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(s.is(D)){var c=s.value;(c.selectionStart<c.selectionEnd?c.selectionStart:c.selectionEnd)!==(c.selectionStart>c.selectionEnd?c.selectionStart:c.selectionEnd)&&o.push(c)}s.is(I)&&i.push(s.value),o.length&&(e=e.update({add:o.map((function(e){return n.p.mark({attributes:{style:"background-color: ".concat(e.color.selection,"; display: inline-block;")},cursor:e}).range(e.selectionStart,e.selectionEnd)}))})),i.length&&(e=e.update({filter:function(e,t,r){var n=r.spec.cursor;return!!n&&!i.includes(n.id)}}))}}catch(u){a.e(u)}finally{a.f()}return e},provide:function(e){return n.tk.decorations.from(e)}});function N(e){return n.tk.updateListener.of((function(t){var r=t.state.selection;r!==t.startState.selection&&e(r.ranges.map((function(e){var r=t.state.doc.lineAt(e.head);return{position:e.head,line:r.number,column:e.head-r.from+1,selectionStart:e.from,selectionEnd:e.to}})),r.mainIndex)}))}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,w.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e){var t=e.view,r=e.presence,n=e.session,i=e.fs,a=e.filePath,s=(0,o.useState)(!0),c=s[0],u=s[1],l=(0,x.Z)({presence:r}),d=(0,o.useRef)({}),f=(0,m.Z)();(0,o.useEffect)((function(){var e=l.reduce((function(e,t){return t.username&&t.color?L(L({},e),{},(0,w.Z)({},t.username,t.color)):e}),{});d.current=e}),[l]);var p=(0,b.Z)({view:t});return(0,o.useEffect)((function(){if(t){var e=r.onUserLeave((function(e){t.dispatch({effects:T.of(e.username)})})),o=i.watchOtFile(a,{onReady:function(e){var r=e.updateSelections;t.dispatch({effects:p.reconfigure([R,A,N((function(e,t){r(e);var o=e[t];o&&n.setCursorPosition({column:o.column,lineNumber:o.line,offset:o.position})}))])}),u(!1)},onCursor:function(e){var r=function(e){var t,r=e.cursor,n=e.usernameColorsMap,o=null===(t=r.user)||void 0===t?void 0:t.name;if(o){var i,a=r.id,s=r.position,c=r.selectionStart,u=r.selectionEnd,l=n[o];if(l&&a&&"number"===typeof s&&"number"===typeof c&&"number"===typeof u)return D.of({id:a,username:o,position:s,color:{cursor:l,selection:(i=l,C[i]||"")},selectionStart:c,selectionEnd:u})}}({cursor:e,usernameColorsMap:d.current});r&&t.dispatch({effects:r})},onRemoveCursor:function(e){t.dispatch({effects:I.of(e)})},onError:function(){t.dispatch({effects:p.reconfigure([])})},onMoveOrDelete:function(){t.dispatch({effects:p.reconfigure([])})}});return function(){e(),o(),t.dispatch({effects:p.reconfigure([])}),f.current&&u(!0)}}}),[t,a,i,r,n,p]),{isLoading:c}}var B=r(47686),M=r(8346);function H(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z(e){var t=e.view,r=e.presence,a=e.session,s=e.fs,c=e.filePath,u=y({view:t,fs:s,filePath:c}).isLoading,l=F({view:t,fs:s,filePath:c,presence:r,session:a}).isLoading;!function(e){var t=e.view,r=(0,M.Z)().presence,a=(0,B.Z)(),s=(0,b.Z)({view:t});o.useEffect((function(){if(a&&t){var e=function(){r.getFollowedUser()&&r.unfollowUser()};return t.dispatch({effects:s.reconfigure(n.tk.domEventHandlers({wheel:e,keydown:e,click:e}))}),function(){t.dispatch({effects:s.reconfigure([])})}}}),[a,t,r,s]);var c=(0,b.Z)({view:t});o.useEffect((function(){if(t&&a){var e=t.state.field(A,!1);if(e){var r=Object.values(e).find((function(e){return e.username===a.username}));r&&o(r.position)}return t.dispatch({effects:c.reconfigure(n.tk.updateListener.of((function(e){var t,r,n=H(e.transactions);try{for(n.s();!(r=n.n()).done;){var i,s=H(r.value.effects);try{for(s.s();!(i=s.n()).done;){var c=i.value;c.is(D)&&c.value.username===a.username&&(t=c.value)}}catch(u){s.e(u)}finally{s.f()}}}catch(u){n.e(u)}finally{n.f()}t&&o(t.position)})))}),function(){t.dispatch({effects:c.reconfigure([])})}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(t){var r=i.jT.cursor(e);t.dispatch({effects:[n.tk.centerOn.of(r)]})}}}),[t,a,c])}({view:t});var d=u||l,f=(0,b.Z)({view:t});return(0,o.useEffect)((function(){t&&t.dispatch({effects:f.reconfigure([n.tk.editable.of(!d),i.yy.readOnly.of(d)])})}),[t,d,f]),{isLoading:d}}},10309:function(e,t,r){"use strict";function n(e,t){if(t.line>=e.lines)return null;var r=e.line(t.line+1).from+t.character;return r>e.length?null:r}function o(e,t){var r=e.lineAt(t);return{line:r.number-1,character:t-r.from}}r.d(t,{R:function(){return n},s:function(){return o}})},73210:function(e,t,r){"use strict";var n=r(67294).createContext(null);t.Z=n},30239:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(35944),o=r(32292),i=r(65988),a=r(67294),s=r(62255),c=r(25763),u=r(26265),l=r(28140),d=r(55873),f=r(41756),p=r(21093),h=r(94184),g=r.n(h),v=r(58125);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e){var t=e.onTeamSelected,r=e.teamContext,o=(0,d.Dar)(),s=o.data,c=o.loading,u=o.error,h=[];s&&s.currentUser&&(h=[{id:s.currentUser.id,username:s.currentUser.username,image:s.currentUser.image}].concat((0,l.Z)(s.currentUser.teams.filter((function(e){return!e.archived})).filter((function(e){return!e.hideTeamRepls})).map((function(e){var t=e.id,r=e.image,n=e.username,o=e.subscription;return{id:t,image:r,username:n,isSubscribed:Boolean(o)}})))));var m=(0,f.L7)({items:h,onSelectedItemChange:function(e){var r;e.selectedItem&&e.selectedItem.id!==(null===s||void 0===s||null===(r=s.currentUser)||void 0===r?void 0:r.id)?t({id:e.selectedItem.id,hasPrivateRepls:Boolean(e.selectedItem.isSubscribed)}):t(null)}}),y=m.isOpen,w=m.selectedItem,x=m.getToggleButtonProps,E=m.getMenuProps,k=m.highlightedIndex,O=m.getItemProps,S=m.getLabelProps,j=m.selectItem;return(0,a.useEffect)((function(){if(null!==s&&void 0!==s&&s.currentUser){var e=h.find((function(e){return e.username===r}));j(e||h[0])}}),[null===s||void 0===s?void 0:s.currentUser]),h&&1!==h.length?u?(0,n.BX)("div",{children:["error loading team data $",u]}):c||!w?null:(0,n.BX)("div",{className:"jsx-2768752074 select-team",children:[(0,n.tZ)("label",b(b({},S()),{},{className:"jsx-2768752074",children:"Select repl owner"})),(0,n.BX)("div",b(b({tabIndex:-1},x()),{},{className:"jsx-2768752074 "+(g()("toggle-button",{open:y})||""),children:[(0,n.BX)("div",{className:"jsx-2768752074 user-item",children:[(0,n.tZ)("div",{className:"jsx-2768752074 icon",children:(0,n.tZ)(p.Z,{url:w.image,size:"inherit"})}),(0,n.tZ)("div",{className:"jsx-2768752074 username",children:w.username})]}),(0,n.tZ)("div",{className:"jsx-2768752074 arrow-icon-wrap",children:(0,n.tZ)(v.e0,{color:"var(--foreground-default)",flipped:y})})]})),(0,n.tZ)("div",b(b({},E()),{},{className:"jsx-2768752074",children:y&&(0,n.tZ)("ul",{className:"jsx-2768752074 menu",children:h.map((function(e,t){return(0,n.BX)("li",b(b({},O({item:e,index:t})),{},{className:"jsx-2768752074 "+(g()("user-item",{focused:t===k,selected:e.id===w.id})||""),children:[(0,n.tZ)("div",{className:"jsx-2768752074 icon",children:(0,n.tZ)(p.Z,{url:e.image,size:"inherit"})}),(0,n.tZ)("div",{className:"jsx-2768752074 username",children:e.username})]}),"".concat(e.id))}))})})),(0,n.tZ)(i.default,{id:"2768752074",children:[".select-team.jsx-2768752074{background:var(--background-default);color:var(--foreground-default);width:100%;position:relative;margin-top:var(--space-16);z-index:5;}","label.jsx-2768752074{color:var(--foreground-dimmer);margin-bottom:var(--space-8);display:block;}",".toggle-button.jsx-2768752074{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;cursor:pointer;border:1px solid var(--background-higher);border-radius:var(--border-radius-4);}",".toggle-button.jsx-2768752074:focused{border:1px solid var(--accent-primary-default);}",".toggle-button.open.jsx-2768752074{border:1px solid var(--accent-primary-default);border-bottom:1px solid transparent;border-bottom-right-radius:0;border-bottom-left-radius:0;}",".arrow-icon-wrap.jsx-2768752074{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 10px;width:30px;}",".arrow-icon-wrap.jsx-2768752074>svg{display:block;width:100%;height:auto;}",".menu.jsx-2768752074{max-height:200px;overflow-y:auto;width:100%;margin:0;border:1px solid var(--accent-primary-default);border-top:0;outline:0;position:absolute;z-index:1;padding:var(--space-4);background:var(--background-default);border-bottom-right-radius:var(--border-radius-4);border-bottom-left-radius:var(--border-radius-4);}",".user-item.jsx-2768752074{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:40px;width:100%;cursor:pointer;background:var(--background-default);padding-left:var(--space-8);font-size:var(--font-size-subhead-default);border-radius:var(--border-radius-4);}",".user-item.focused.jsx-2768752074{background:var(--background-highest);color:var(--foreground-default);}",".user-item.selected.jsx-2768752074{background:var(--accent-primary-default);color:var(--white);}",".user-item.jsx-2768752074>.icon.jsx-2768752074{width:24px;min-width:24px;height:24px;min-height:24px;}",".user-item.jsx-2768752074>.username.jsx-2768752074{margin-left:var(--space-16);}"]})]}):null},w=r(54107);function x(e){var t=e.onFork,r=e.hideModal,u=e.initialValue,l=e.teamContext,d=a.useState(null),f=(0,o.Z)(d,2),p=f[0],h=f[1],g=(0,w.Y)(u,(function(e){if(e)return e.length>60?{message:"Must be no longer than 60 characters"}:/[0-9a-zA-Z]/.test(e)?void 0:{message:"Title must contain at least one alphanumeric character"}}));return a.useEffect((function(){g.ref.current&&g.ref.current.focus()}),[g.ref]),(0,n.BX)("form",{onSubmit:function(e){e.preventDefault(),g.error||(t(p,g.value),r())},className:"jsx-4175201198",children:[(0,n.BX)("div",{className:"jsx-4175201198 wrap",children:[(0,n.tZ)("div",{className:"jsx-4175201198 title",children:"Fork Repl"}),(0,n.BX)("div",{className:"jsx-4175201198",children:[(0,n.tZ)("input",{ref:g.ref,placeholder:"Name your repl",onChange:function(e){return g.setValue(e.target.value)},onFocus:function(e){return e.target.select()},value:g.value,onBlur:g.handleBlur,className:"jsx-4175201198 repl-title-input"}),g.error&&(0,n.tZ)("div",{className:"jsx-4175201198 form-error",children:g.error.message})]}),(0,n.tZ)(y,{teamContext:l,onTeamSelected:function(e){h(e?e.id:null)}}),(0,n.BX)(c.Ug,{spacing:1,justify:"end",children:[(0,n.tZ)(s.Z,{onClick:r,autoFocus:!0,children:"Cancel"}),(0,n.tZ)(s.Z,{color:"primary",type:"submit",disabled:!g.value||Boolean(g.error),children:"Confirm"})]})]}),(0,n.tZ)(i.default,{id:"4175201198",children:[".wrap.jsx-4175201198{background-color:var(--background-default);border-radius:var(--border-radius-4);color:var(--foreground-default);}",".repl-title-input.jsx-4175201198{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:var(--font-size-subhead-default);display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:100%;outline:0 none;background-color:transparent;border:1px solid var(--background-highest);margin:0;color:inherit;padding:var(--space-8);border-radius:var(--border-radius-4);-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}",".form-error.jsx-4175201198{padding-top:7px;color:var(--accent-negative-default);}",".wrap.jsx-4175201198{display:grid;grid-row-gap:25px;}",".title.jsx-4175201198{font-size:var(--font-size-subhead-big);}","@media screen and (min-width:600px){.wrap.jsx-4175201198{padding:75px 50px 75px;}}"]})]})}},60668:function(e,t,r){"use strict";r.d(t,{t:function(){return u}});var n=r(27261),o=r(51889),i=r(44119),a=r.n(i),s=r(46866);function c(){var e=(0,n.Z)(["\n  mutation deleteRepl($id: String!) {\n    deleteRepl(id: $id) {\n      id\n    }\n  }\n"]);return c=function(){return e},e}a()(c());var u=function(e){var t=(0,s.Z)({id:e.id,__typename:e.__typename||"Repl"}),r=function(e,r){return r.node.id===t};return(0,o._M)((function(){return[["data",o.Dx,"recentRepls",r],["data",t]]}))}},38699:function(e,t,r){"use strict";r.d(t,{H:function(){return n},E:function(){return E}});var n,o=r(26265),i=r(32292),a=r(35944),s=r(49822),c=r(71570),u=r(68953),l=r(36437),d=r(67294),f=r(37321),p=r(87644),h=r(99146),g=r(14795),v=r(41422);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.Video="Video",e.Editor="Editor",e.Examples="Examples",e.Run="Run",e.Output="Output",e.Sidepane="Sidepane",e.Share="Share"}(n||(n={}));var y={name:"1pvalt1",styles:"width:560px;height:340px"},w={id:"workspace-desktop-tour",steps:[{id:n.Video,title:"Get started with the Workspace",content:function(){return(0,a.BX)(u.Z,{children:[(0,a.tZ)(c.x,{variant:"subheadDefault",css:l.l0.mb(8),children:"Watch this 1 minute video to learn how to build on replit"}),(0,a.tZ)("iframe",{css:y,src:"https://www.youtube.com/embed/TK_pvR672o0",title:"Welcome to the Replit Workspace!",frameBorder:"0",allow:"accelerometer;  autoplay;  clipboard-write;  encrypted-media;  gyroscope;  picture-in-picture",allowFullScreen:!0})]})},isModal:!0},{id:n.Editor,title:"Code Editor",content:"This is where you write code. Code describes how programs work. The editor helps you write code, by coloring certain types, and giving you suggestions when you type. Click on one of the examples to see how code looks."},{id:n.Examples,title:"Examples",content:"Click on one of these examples to insert into your editor",autoSkipIfNoTarget:!0},{id:n.Run,title:"Running Code",content:'This button takes your code and executes, or "runs", it. You can also run your code using the '.concat(v.V5?"Cmd":"Ctrl","+Return shortcut.")},{id:n.Output,title:"Program Output",content:"This is where the results of the code appear, when you run it. Results can be console output (just letters + words) or a website, game, or graphics display, depending on the programming language and setup."},{id:n.Sidepane,title:"Filetree & Sidepanes",content:"Here are all the files in this project. There's usually a starter file, but you can make more files and folders as your project grows. The sidepane also contains different features for working on your program."},{id:n.Share,title:"Invite & Collaborate",content:"Invite others to your repl to collaborate and work together at the same time."}]};function x(){var e=(0,h.X)(),t=e&&!e.isDone&&!e.isLoading;return(0,d.useEffect)((function(){if(t){var e=window.store,r=function(t){var r=e.getState().plugins,n=Object.entries(r).find((function(e){var r=(0,i.Z)(e,2);r[0];return r[1].type===t}));return n?n[0]:null},n=setInterval((function(){!function(){var t=e.getState(),n=t.layout,o=t.plugins,i=g.PP(n,o,"terminal2");if(i){var a=g.Il(g.Il(i)),s=g.QK(n,a);if("tabs"===s.type){var c=r("terminal2"),u=s.tabs.findIndex((function(e){return"pane"===e.type&&e.pud===c}));s.active!==u&&e.dispatch({type:"SET_ACTIVE_TAB",path:a,tabIndex:u})}}}(),function(){var t=e.getState(),n=t.layout,o=t.plugins;if(!g.PP(n,o,"filetree")){var i=r("filetree");e.dispatch({type:"OPEN_SIDE_NAV_ITEM",navItem:{pud:i}})}}()}),200);return function(){clearInterval(n)}}}),[t]),null}function E(e){var t=e.children,r=(0,f.Z)("flag-workspace-tour"),n={tour:w,onStep:function(e){(0,p.identify)({id:window.analytics.user().id(),workspaceTourStatus:e.toLowerCase()})},onDone:function(e){e&&(0,p.identify)({id:window.analytics.user().id(),workspaceTourStatus:"completed"})}};return r||(n.isDoneInitialOverride=!0),(0,a.BX)(s.rk,b(b({},n),{},{children:[(0,a.tZ)(x,{}),t]}))}},588:function(e,t,r){"use strict";r.d(t,{Z:function(){return w}});var n=r(35944),o=r(70917),i=r(75137),a=r(71570),s=r(36437),c=r(68953),u=r(8301),l=r(28270),d=r(52577),f=r(26265),p=(r(67294),r(61951));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,f.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e){return(0,n.tZ)(p.Z,g(g({},e),{},{children:(0,n.tZ)("path",{d:"M15 18L9 12L15 6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,f.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e){return(0,n.tZ)(p.Z,b(b({},e),{},{children:(0,n.tZ)("path",{d:"M9 18L15 12L9 6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}function w(e){var t=e.title,r=e.content,f=e.colorway,p=void 0===f?"primary":f,h=e.totalSteps,g=void 0===h?1:h,m=e.currentStepIndex,b=void 0===m?0:m,w=e.onDismiss,E=e.onCurrentStepChange;return(0,n.BX)(c.Z,{css:[s.l0.p(8),{paddingBottom:12,paddingRight:t?void 0:32,backgroundColor:i.Br[p].dimmest,border:"1px solid "+i.Br[p].dimmer,position:"relative"},s.l0.borderRadius(8),s.l0.shadow(2),s.l0.colWithGap(8),"",""],children:[(0,n.tZ)(u.Z,{alt:"Close",colorway:p,css:(0,o.iv)({position:"absolute",top:s.TV.space8,right:s.TV.space8},"",""),onClick:w,children:(0,n.tZ)(d.Z,{})}),t&&(0,n.tZ)(a.x,{variant:"subheadBig",children:t}),"function"===typeof r?(0,n.tZ)(r,{}):(0,n.tZ)(a.x,{multiline:!0,children:r}),g>1&&E&&(0,n.BX)(c.Z,{css:[s.l0.flex.row,s.l0.align.center,s.l0.justify.spaceBetween,"",""],children:[(0,n.tZ)(l.ZP,{css:(0,o.iv)({visibility:b<=0?"hidden":void 0},"",""),colorway:p,text:"Back",iconLeft:(0,n.tZ)(v,{}),onClick:function(){return E(b-1)}}),(0,n.tZ)(x,{colorway:p,total:g,current:b}),(0,n.tZ)(l.ZP,{colorway:p,text:b>=g-1?"Done":"Next",iconLeft:(0,n.tZ)(y,{}),onClick:function(){return b>=g-1?w():E(b+1)}})]})]})}function x(e){var t=e.total,r=e.current,o=e.colorway;return(0,n.tZ)(c.Z,{css:s.l0.rowWithGap(8),children:new Array(t).fill(0).map((function(e,t){return(0,n.tZ)(c.Z,{css:[s.l0.borderRadius("full"),{width:s.TV.space8,height:s.TV.space8,backgroundColor:t===r?i.Br[o].stronger:i.Br[o].dimmer},""]},t)}))})}},27974:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(32292),o=r(67294),i=r(8346),a=r(14100);function s(){var e,t,r=(0,i.Z)().container,s=o.useState(null!==(e=null===(t=r.getContext())||void 0===t?void 0:t.repl)&&void 0!==e?e:null),c=(0,n.Z)(s,2),u=c[0],l=c[1];return o.useEffect((function(){return r.onConnectionStateChanged((function(e){var t,n;e===a.e.CONNECTED&&l(null!==(t=null===(n=r.getContext())||void 0===n?void 0:n.repl)&&void 0!==t?t:null)}))}),[l,r]),u}},69085:function(e,t,r){"use strict";r.d(t,{Z:function(){return ke}});var n,o=r(809),i=r.n(o),a=r(92447),s=r(14100),c=r(86235);!function(e){e.USER_JOIN="USER_JOIN",e.USER_LEAVE="USER_LEAVE",e.USERS_UPDATE="USERS_UPDATE",e.USER_OPENED_FILE="USER_OPENED_FILE",e.FOLLOWED_USER_CHANGED="FOLLOWED_USER_CHANGED",e.FOLLOWING_USERS_CHANGED="FOLLOWING_USERS_CHANGED"}(n||(n={}));var u=r(28140),l=r(50055),d=r(58049);function f(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=Object.values(d.Z.multiplayer);function g(e){var t={};return h.forEach((function(e){t[e]=0})),e.forEach((function(e){t[e.color]++})),Object.keys(t).sort((function(e,r){return t[e]-t[r]}))[0]}function v(e){var t,r=f(e.sessions.sort((function(e,t){return e.timestamp-t.timestamp})));try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.activeFile)return n.activeFile}}catch(o){r.e(o)}finally{r.f()}return null}function m(e,t){var r=t.find((function(t){return t.sessions.some((function(t){return t.id===e}))}));if(!r)throw new Error("Expected user with session ID ".concat(e));return r}function b(e){var t=e.seconds,r=e.nanos;return Number(t||0)+(r||0)/1e9}var y=r(87644);var w=r(64027),x=r(51626),E=r(62991),k=r.n(E);function O(e){var t=e.container,r=(0,w.Z)();r.setMaxListeners(1/0);var o=[],s=null,c=[],d={},f=null,p=window.performance.now();function h(){return E.apply(this,arguments)}function E(){return(E=(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=2;break}return e.abrupt("return",f);case 2:return e.abrupt("return",new Promise((function(e){r.once(n.USERS_UPDATE,(function(){if(!f)throw new Error("Expected presenceChannel to be set");e(f)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){k()(s,e)||(s=e,r.emit(n.FOLLOWED_USER_CHANGED,e))}function S(){return(S=(0,a.Z)(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(r=s)||void 0===r?void 0:r.username)!==t){e.next=2;break}throw new Error("Already following user with username ".concat(t));case 2:if(!s){e.next=5;break}return e.next=5,j();case 5:return e.next=7,h();case 7:if(n=e.sent,a=o.find((function(e){return e.username===t}))){e.next=11;break}return e.abrupt("return");case 11:O(a),a.sessions.forEach((function(e){n.send({followUser:{session:e.id}})})),p=window.performance.now(),(0,y.track)(y.events.LOCAL_USER_CURSOR_FOLLOWED);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.Z)(i().mark((function e(){var t,r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}throw new Error("No user to unfollow");case 2:return t=s,O(null),e.next=6,h();case 6:r=e.sent,t.sessions.forEach((function(e){r.send({unfollowUser:{session:e.id}})})),n=window.performance.now()-p,(0,y.track)(y.events.LOCAL_USER_CURSOR_UNFOLLOWED,{sessionLength:n});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t.openChannel({service:"presence",name:"presencer"},(function(e){var t=e.channel;if(!e.error){if(!t)throw new Error("Expected channel");return t.onCommand((function(e){var t={cmd:e,emitter:r,activeUsers:o,userIdToFile:d,followedUser:s,setFollowedUser:O,followingUsers:c};switch(e.body){case"roster":!function(e){var t=e.cmd,r=e.emitter,o=e.activeUsers,i=e.userIdToFile,a=e.followedUser,s=e.followingUsers,c=e.setFollowedUser,l=t.roster;if(l){var d=l.user,f=l.files;if(d&&f){var p=new Set;if(o.splice(0,o.length),d.forEach((function(e){if(e.id&&e.name&&e.roles&&!p.has(e.id)){var t=f.filter((function(t){return t.userId===e.id})).map((function(e){if(!e.session||!e.timestamp)throw new Error("Expected session and associated with user");return{id:e.session,activeFile:e.file||null,timestamp:b(e.timestamp)}}));o.push({id:e.id,username:e.name,roles:e.roles,color:g(o),sessions:t}),p.add(e.id)}})),o.forEach((function(e){i[e.id]=v(e)})),r.emit(n.USERS_UPDATE,(0,u.Z)(o)),o.length>1&&(0,y.track)(y.events.MP2_USER_JOINED,{count:o.length}),s.filter((function(e){return!o.some((function(t){return t.id===e.id}))})).forEach((function(e){var t=s.indexOf(e);-1!==t&&(s.splice(t,1),r.emit(n.FOLLOWING_USERS_CHANGED,{followingUsers:(0,u.Z)(s),user:e,type:"unfollow"}))})),a)if(o.some((function(e){return e.id===a.id}))){var h=i[a.id];r.emit(n.USER_OPENED_FILE,{user:a,file:h})}else c(null)}}}(t);break;case"join":!function(e){var t=e.cmd,r=e.emitter,o=e.activeUsers,i=e.userIdToFile,a=t.join;if(a.id&&a.name&&a.roles&&a.session){var s=o.find((function(e){return e.id===a.id})),c=Math.floor(Date.now()/1e3),d=b(l.google.protobuf.Timestamp.create({seconds:c}));if(s)s.sessions.push({id:a.session,activeFile:null,timestamp:d});else{var f={id:a.id,username:a.name,roles:a.roles,color:g(o),sessions:[{id:a.session,activeFile:null,timestamp:d}]};i[a.id]=null,o.push(f),r.emit(n.USER_JOIN,f),r.emit(n.USERS_UPDATE,(0,u.Z)(o)),(0,y.track)(y.events.MP2_USER_JOINED,{count:o.length})}}}(t);break;case"part":!function(e){var t=e.cmd,r=e.emitter,o=e.activeUsers,i=e.userIdToFile,a=e.followedUser,s=e.followingUsers,c=e.setFollowedUser;if(t.part&&t.part.id&&t.part.session){var l=t.part,d=l.id,f=l.session,p=o.findIndex((function(e){return e.id===d})),h=o[p];if(1===h.sessions.length){o.splice(p,1),delete i[h.id],r.emit(n.USER_LEAVE,h),r.emit(n.USERS_UPDATE,(0,u.Z)(o)),a&&c(null);var g=s.findIndex((function(e){return e.id===h.id}));-1!==g&&(s.splice(g,1),r.emit(n.FOLLOWING_USERS_CHANGED,{followingUsers:(0,u.Z)(s),user:h,type:"unfollow"}))}else{h.sessions=h.sessions.filter((function(e){return e.id!==f}));var m=v(h);i[h.id]!==m&&(i[h.id]=m,r.emit(n.USER_OPENED_FILE,{user:h,file:m}))}}}(t);break;case"fileOpened":!function(e){var t=e.emitter,r=e.cmd,o=e.activeUsers,i=e.userIdToFile;if(r.fileOpened){var a=r.fileOpened,s=a.userId,c=a.file,u=a.timestamp,l=a.session,d=c||null;if(!s||!u)throw new Error("Expected userId and timestamp associated with file opened command");var f=o.find((function(e){return e.id===s}));if(!f)throw new Error("Expected user with ID ".concat(s));var p=f.sessions.find((function(e){return e.id===l}));if(!p)throw new Error("Expected session with ID ".concat(p));p.activeFile=d,p.timestamp=b(u),i[s]=d,t.emit(n.USER_OPENED_FILE,{user:f,file:d})}}(t);break;case"followUser":!function(e){var t=e.cmd,r=e.emitter,o=e.activeUsers,i=e.followingUsers,a=t.followUser;if(!a.session)throw new Error("Expected session associated with follow user");var s=m(a.session,o);i.some((function(e){return e.id===s.id}))||(i.push(s),r.emit(n.FOLLOWING_USERS_CHANGED,{followingUsers:(0,u.Z)(i),user:s,type:"follow"}))}(t);break;case"unfollowUser":!function(e){var t=e.cmd,r=e.emitter,o=e.activeUsers,i=e.followingUsers,a=t.unfollowUser;if(!a.session)throw new Error("Expected session associated with follow user");var s=m(a.session,o),c=i.findIndex((function(e){return e.id===s.id}));-1!==c&&(i.splice(c,1),r.emit(n.FOLLOWING_USERS_CHANGED,{followingUsers:(0,u.Z)(i),user:s,type:"unfollow"}))}(t);break;case"sessionTimestampUpdated":!function(e){var t=e.cmd,r=e.emitter,o=e.activeUsers,i=e.userIdToFile,a=t.sessionTimestampUpdated;if(!a.session||!a.timestamp)throw new Error("Expected session and tiemstamp associated with update");var s=a.session,c=m(s,o),u=i[c.id],l=c.sessions.find((function(e){return e.id===s}));if(!l)throw new Error("Expected user ".concat(c.id," to have a session with ID ").concat(s));l.timestamp=b(a.timestamp);var d=l.activeFile;d!==u&&(i[c.id]=d,r.emit(n.USER_OPENED_FILE,{user:c,file:d}))}(t)}})),f=t,function(){f=null}}})),{onUserLeave:function(e){return r.on(n.USER_LEAVE,e),function(){r.removeListener(n.USER_LEAVE,e)}},onUserJoin:function(e){return r.on(n.USER_JOIN,e),function(){r.removeListener(n.USER_LEAVE,e)}},onActiveUsersChange:function(e){return r.on(n.USERS_UPDATE,e),function(){r.removeListener(n.USERS_UPDATE,e)}},onUserOpenedFile:function(e){return r.on(n.USER_OPENED_FILE,e),function(){r.removeListener(n.USER_OPENED_FILE,e)}},onFollowedUserChanged:function(e){return r.on(n.FOLLOWED_USER_CHANGED,e),function(){r.removeListener(n.FOLLOWED_USER_CHANGED,e)}},onFollowingUsersChanged:function(e){return r.on(n.FOLLOWING_USERS_CHANGED,e),function(){r.removeListener(n.FOLLOWING_USERS_CHANGED,e)}},getActiveFileForUser:function(e){var t=d[e];if("undefined"===typeof t)throw new Error("Expected file for user with ID ".concat(e," to be defined"));return t},updateOpenFile:function(e){return(0,a.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:t.sent.send({openFile:{file:e}});case 4:case"end":return t.stop()}}),t)})))()},updateSessionTimestamp:function(){return(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:e.sent.send({updateSessionTimestamp:{}});case 4:case"end":return e.stop()}}),e)})))()},followUser:function(e){return S.apply(this,arguments)},unfollowUser:j,getActiveUsers:function(){return o},getFollowedUser:function(){return s},getFollowingUsers:function(){return c},getUserIdToFile:function(){return d},getPathToUserIds:function(){var e={};function t(r,n){""!==r&&(e[r]||(e[r]=[]),e[r].some((function(e){return e===n}))||(e[r].push(n),t((0,x.Il)(r),n)))}return o.forEach((function(e){var r=e.id,n=d[r];n&&t(n,r)})),e}}}var S,j=r(26265);!function(e){e.COMMAND_BAR_TOGGLED="COMMAND_BAR_TOGGLED",e.DEEPLINK_CHANGED="DEEPLINK_CHANGED",e.SESSION_STATE_CHANGED="SESSION_STATE_CHANGED",e.PREVIEWED_FILE_CHANGED="PREVIEWED_FILE_CHANGED",e.FOLLOWING_USERS_CHANGED="FOLLOWING_USERS_CHANGED",e.CURSOR_POSITION_CHANGED="CURSOR_POSITION_CHANGED",e.PREVIEWED_YOUTUBE_VIDEO_CHANGED="PREVIEWED_YOUTUBE_VIDEO_CHANGED",e.CONFIG_FILE_VISIBILITY_TOGGLED="CONFIG_FILE_VISIBILITY_TOGGLED"}(S||(S={}));var Z=r(74143);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D,I=r(26921);!function(e){e.MESSAGES_LOADED="MESSAGES_LOADED",e.MESSAGE_RECEIVED="MESSAGE_RECEIVED",e.MESSAGE_SENT="MESSAGE_SENT",e.USER_TYPING_UPDATED="USER_TYPING_UPDATED"}(D||(D={}));var T=r(56479),_=r(83502),A=r(56393),R=r(67294),N=r(14795);var U,L=function(){throw new Error("layout not provided")},F={has:L,set:L,setFloating:L,insert:L,insertFloating:L,remove:L,component:function(){return R.Fragment}};!function(e){e.MESSAGE_RECEIVED="MESSAGE_RECEIVED"}(U||(U={}));var B=r(82790),M=r(32292),H=r(25267),G=r(54041),z=i().mark(q);function V(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.length===t.length){n.next=2;break}return n.abrupt("return");case 2:r=0;case 3:if(!(r<e.length)){n.next=9;break}return n.next=6,[e[r],t[r]];case 6:r++,n.next=3;break;case 9:case"end":return n.stop()}}),z)}var J=r(48764).Buffer;function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q(e){var t=e.channel,r=(0,B.u)("terminated"),n=(0,B.u)([]),o=(0,B.u)([]),s=(0,B.u)(new Map),c=(0,B.u)(null),d=(0,w.Z)(),f=function(e,t){var r=new Map,n=new Map,o=new Map;function s(){return(s=(0,a.Z)(i().mark((function t(a){var s,c,u,l,d,f,p,h,g,v,m,b,y,w,x,E,k,O,S,j,Z,P,C,D,I;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=V(r.entries()),t.prev=1,s.s();case 3:if((c=s.n()).done){t.next=21;break}if(u=(0,M.Z)(c.value,2),l=u[0],d=u[1],void 0===a||a===l){t.next=7;break}return t.abrupt("continue",19);case 7:return t.next=9,e({command:"setBreakpoints",arguments:{source:{name:l,path:l},breakpoints:d.map((function(e){return{line:e.line,logMessage:e.logMessage||void 0}}))}});case 9:if((f=t.sent).success){t.next=12;break}return t.abrupt("continue",19);case 12:p=V(n);try{for(p.s();!(h=p.n()).done;){v=(0,M.Z)(h.value,2),m=v[0],b=v[1],(null===(g=b.source)||void 0===g?void 0:g.name)===l&&n.delete(m),y=V(o);try{for(y.s();!(w=y.n()).done;)x=(0,M.Z)(w.value,2),E=x[0],x[1]===m&&o.delete(E)}catch(i){y.e(i)}finally{y.f()}}}catch(i){p.e(i)}finally{p.f()}O=V((k=f).body.breakpoints);try{for(O.s();!(S=O.n()).done;)null!=(j=S.value).id&&n.set(j.id,Y({source:{name:l,path:l}},j))}catch(i){O.e(i)}finally{O.f()}Z=V(q(d,k.body.breakpoints));try{for(Z.s();!(P=Z.n()).done;)C=(0,M.Z)(P.value,2),D=C[0],I=C[1],D.breakpointId&&null!=I.id&&o.set(D.breakpointId,I.id)}catch(i){Z.e(i)}finally{Z.f()}case 19:t.next=3;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(1),s.e(t.t0);case 26:return t.prev=26,s.f(),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[1,23,26,29]])})))).apply(this,arguments)}function c(){var e,t=new Map,i=new Set,a=V(r.entries());try{for(a.s();!(e=a.n()).done;){var s=(0,M.Z)(e.value,2),c=s[0],u=s[1];if(0!==u.length){var l,d=[],f=V(u);try{for(f.s();!(l=f.n()).done;){var p=l.value;if(p.breakpointId&&p.line){var h=o.get(p.breakpointId),g=void 0===h?void 0:n.get(h);g&&i.add(h),d.push({dapId:h,pid1Id:p.breakpointId,line:g&&g.line||p.line,verified:Boolean(null===g||void 0===g?void 0:g.verified),logMessage:p.logMessage||void 0})}}}catch(D){f.e(D)}finally{f.f()}t.set(c,d)}}}catch(D){a.e(D)}finally{a.f()}var v,m=V(n.entries());try{for(m.s();!(v=m.n()).done;){var b,y,w=(0,M.Z)(v.value,2),x=w[0],E=w[1];if(!i.has(x)){var k=(0,H.IT)((null===(b=E.source)||void 0===b?void 0:b.path)||(null===(y=E.source)||void 0===y?void 0:y.name)||""),O=E.line;if(k&&O){var S=t.get(k);S||(S=[],t.set(k,S));var j,Z=!1,P=V(S);try{for(P.s();!(j=P.n()).done;){var C=j.value;if(C.line===E.line){C.dapId=x,C.verified=E.verified,Z=!0;break}}}catch(D){P.e(D)}finally{P.f()}Z||S.push({dapId:x,line:O,verified:E.verified})}}}}catch(D){m.e(D)}finally{m.f()}return t}return{findPathByBreakpointId:function(e){var t,n=V(r.entries());try{for(n.s();!(t=n.n()).done;){var o=(0,M.Z)(t.value,2),i=o[0];if(o[1].some((function(t){return t.breakpointId===e})))return i}}catch(a){n.e(a)}finally{n.f()}return null},getBreakpoints:c,flush:function(e){return s.apply(this,arguments)},handleDAPBreakpointEvent:function(e){var r=e.body,o=r.reason,i=r.breakpoint,a=i.id;if(null!==a&&void 0!==a){switch(o){case"changed":case"new":n.set(a,Y(Y({},n.get(a)),i));break;case"removed":n.delete(a);break;default:return}t(c())}},handlePID1BreakpointEvent:function(e){var n=e.absolutePath?(0,H.IT)(e.absolutePath):null;n&&(r.set(n,e.breakpoints||[]),t(c()))},handleDebugSessionEnded:function(){n.clear(),o.clear();var e,i=V(r.entries());try{for(i.s();!(e=i.n()).done;){var a=(0,M.Z)(e.value,2),s=a[0];0===a[1].length&&r.delete(s)}}catch(u){i.e(u)}finally{i.f()}t(c())}}}(y,(function(e){s.current=e})),p=(0,B.u)(!1),h=[],g=(0,G.J)((function(e){var t;if(h.push({time:Date.now(),direction:"in",data:e}),"event"===e.type)switch(e.event){case"process":r.current="running";break;case"stopped":r.current="paused",c.current=null!==(t=e.body.threadId)&&void 0!==t?t:null,d.emit("paused",e.body.reason),function(){O.apply(this,arguments)}();break;case"terminated":case"exited":b();break;case"breakpoint":f.handleDAPBreakpointEvent(e)}else if("response"===e.type){var n=e,o=v.get(n.request_seq);o&&(v.delete(n.request_seq),o(e))}})),v=new Map,m=100;function b(){r.current="terminated",n.current=[],o.current=[],c.current=null,f.handleDebugSessionEnded(),p.current=!1}function y(e){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=m++;v.set(n,e);var o=$($({},r),{},{type:"request",seq:n});h.push({time:Date.now(),direction:"out",data:o});var i={debugInput:{session:"main",adapterInput:ee(o)}};h.push({time:Date.now(),direction:"out",data:i}),t.send(i)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return k.apply(this,arguments)}function k(){return(k=(0,a.Z)(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.push({time:Date.now(),direction:"out",data:r}),e.next=3,t.request(r);case 3:if(n=e.sent,h.push({time:Date.now(),direction:"in",data:n}),!n.error){e.next=7;break}throw n.error;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=(0,a.Z)(i().mark((function e(){var t,r,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.current=[],o.current=[],e.next=4,y({command:"stackTrace",arguments:{threadId:c.current}});case 4:if((t=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:if(n.current=t.body.stackFrames,0!==n.current.length){e.next=10;break}return e.abrupt("return");case 10:return r=n.current[0],e.next=13,y({command:"scopes",arguments:{frameId:r.id}});case 13:if((a=e.sent).success){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,Promise.all(a.body.scopes.map((function(e){return y({command:"variables",arguments:{variablesReference:e.variablesReference}}).then((function(t){return{response:t,parentVariableReference:e.variablesReference}}))})));case 18:s=e.sent,o.current=s.filter((function(e){return e.response.success})).reduce((function(e,t){var r=t.response,n=t.parentVariableReference;return e.concat(r.body.variables.map((function(e){return $($({},e),{},{parentVariableReference:n})})))}),[]);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)(i().mark((function e(){var o,a,s,c,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.current="initializing",n.current=[],s={debugMain:{session:"main",readOnly:!1}},h.push({time:Date.now(),direction:"out",data:s}),e.next=6,t.request(s);case 6:if(c=e.sent,h.push({time:Date.now(),direction:"in",data:c}),!c.error){e.next=12;break}return d.emit("output",c.error),r.current="terminated",e.abrupt("return");case 12:return e.next=14,y({command:"initialize",arguments:{clientID:"replit",clientName:"replit.com",adapterID:"cppdbg",pathFormat:"path",linesStartAt1:!0,columnsStartAt1:!0,supportsVariableType:!0,supportsVariablePaging:!0,supportsRunInTerminalRequest:!1,locale:"en-us",supportsProgressReporting:!0,supportsInvalidatedEvent:!0}});case 14:if((u=e.sent).success){e.next=18;break}return r.current="terminated",e.abrupt("return");case 18:return p.current=Boolean(null===(o=u.body)||void 0===o?void 0:o.supportsStepBack),l=!(null!==(a=u.body)&&void 0!==a&&a.supportsConfigurationDoneRequest),e.next=22,f.flush();case 22:if(l){e.next=25;break}return e.next=25,y({command:"configurationDone"});case 25:"initializing"===r.current&&(r.current="running"),d.emit("started",l);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return P.apply(this,arguments)}function P(){return(P=(0,a.Z)(i().mark((function e(t,n){var o,a,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.line,a=n.otIndex,s=n.otVersion,c=n.logMessage,u=(0,H.om)(t)||t,e.next=4,E({debugAddBreakpointRequest:{path:u,line:o,otIndex:a,otVersion:s,logMessage:c}});case 4:if("terminated"===r.current){e.next=7;break}return e.next=7,f.flush(t);case 7:d.emit("breakpoint","added");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return D.apply(this,arguments)}function D(){return(D=(0,a.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.findPathByBreakpointId(t),e.next=3,E({debugRemoveBreakpointRequest:{breakpointId:t}});case 3:if("terminated"===r.current||!n){e.next=6;break}return e.next=6,f.flush(n);case 6:d.emit("breakpoint","removed");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=(0,a.Z)(i().mark((function e(t,n){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=f.findPathByBreakpointId(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,E({debugUpdateBreakpointRequest:{breakpointId:t,logMessage:n.logMessage}});case 5:if("terminated"===r.current){e.next=8;break}return e.next=8,f.flush(o);case 8:d.emit("breakpoint","updated");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=(0,a.Z)(i().mark((function e(t,r){var n,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=null===(n=s.current.get(t))||void 0===n||null===(o=n.find((function(e){return e.line===r.line&&void 0!==e.pid1Id})))||void 0===o?void 0:o.pid1Id)){e.next=6;break}return e.next=4,C(a);case 4:e.next=8;break;case 6:return e.next=8,Z(t,r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t.onCommand((function(e){var t;h.push({time:Date.now(),direction:"in",data:e});var n=e.debugOutput,o=e.debugState,i=e.debugBreakpointEvent,a=e.debugSessions;if(n){if("main"!==n.session)return;n.adapterOutput&&g.read(n.adapterOutput),n.output&&d.emit("output",n.output)}i&&f.handlePID1BreakpointEvent(i),o&&o.state===l.api.State.Stopped&&b(),(null===a||void 0===a||null===(t=a.sessions)||void 0===t?void 0:t.main)===l.api.State.Running&&"terminated"===r.current&&S()})),{state:r,stackFrames:n,variables:o,breakpoints:s,supportsStepBack:p,onOutput:function(e){return d.on("output",e),function(){d.removeListener("output",e)}},onStarted:function(e){return d.on("started",e),function(){d.removeListener("started",e)}},onPaused:function(e){return d.on("paused",e),function(){d.removeListener("paused",e)}},onBreakpoint:function(e){return d.on("breakpoint",e),function(){d.removeListener("breakpoint",e)}},sendInput:function(e){return(0,a.Z)(i().mark((function r(){var n,o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={debugInput:{session:"main",input:e}},h.push({time:Date.now(),direction:"out",data:n}),r.next=4,t.request(n);case 4:if(o=r.sent,h.push({time:Date.now(),direction:"in",data:o}),!o.error){r.next=8;break}throw o.error;case 8:case"end":return r.stop()}}),r)})))()},fetchVariables:function(e){return(0,a.Z)(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y({command:"variables",arguments:{variablesReference:e}});case 2:if(!(r=t.sent).success){t.next=5;break}return t.abrupt("return",r.body.variables.map((function(t){return $($({},t),{},{parentVariableReference:e})})));case 5:throw new Error(r.message);case 6:case"end":return t.stop()}}),t)})))()},addBreakpoint:Z,removeBreakpoint:C,updateBreakpoint:function(e,t){return I.apply(this,arguments)},toggleBreakpoint:function(e,t){return T.apply(this,arguments)},start:S,continue:function(){return(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.current=[],r.current="running",e.next=4,y({command:"continue",arguments:{threadId:c.current}});case 4:case"end":return e.stop()}}),e)})))()},reverseContinue:function(){return(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.current=[],r.current="running",e.next=4,y({command:"reverseContinue",arguments:{threadId:c.current}});case 4:case"end":return e.stop()}}),e)})))()},back:function(){return(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.current="running",e.next=3,y({command:"stepBack",arguments:{threadId:c.current}});case 3:case"end":return e.stop()}}),e)})))()},next:function(){return(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.current="running",e.next=3,y({command:"stepIn",arguments:{threadId:c.current}});case 3:case"end":return e.stop()}}),e)})))()},stepOut:function(){return(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.current="running",e.next=3,y({command:"stepOut",arguments:{threadId:c.current}});case 3:case"end":return e.stop()}}),e)})))()},stop:function(){return(0,a.Z)(i().mark((function e(){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={debugStop:{session:"main"}},h.push({time:Date.now(),direction:"out",data:r}),e.next=4,t.request(r);case 4:if(n=e.sent,h.push({time:Date.now(),direction:"in",data:n}),!n.error){e.next=8;break}throw n.error;case 8:b();case 9:case"end":return e.stop()}}),e)})))()},getSource:function(e){return(0,a.Z)(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y({command:"source",arguments:{source:{path:e}}});case 2:if((r=t.sent).success){t.next=5;break}throw new Error(r.message);case 5:return t.abrupt("return",r.body.content);case 6:case"end":return t.stop()}}),t)})))()},getDebugLogs:function(){return Object.entries({state:r,stackFrames:n,variables:o,breakpoints:s,threadId:c}).map((function(e){var t=(0,M.Z)(e,2),r=t[0],n=t[1];return"".concat(r," = ").concat(JSON.stringify(n.current instanceof Map?(0,u.Z)(n.current):n.current,void 0,2))})).join("\n")+"\n\n"+h.map((function(e){return[new Date(e.time).toLocaleString(),"in"===e.direction?"->":"<-",JSON.stringify(e.data)].join(" ")})).join("\n")}}}function ee(e){var t=JSON.stringify(e);return"Content-Length: ".concat(J.byteLength(t),"\r\n\r\n").concat(t)}var te=r(72031),re=r(78435),ne=r(3460),oe=r(25757);function ie(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ae(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function se(e){return ce.apply(this,arguments)}function ce(){return(ce=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=ne.Z,e.next=4,ue(t);case 4:return e.t2=e.sent,e.t3=e.t1.from.call(e.t1,e.t2),e.abrupt("return",e.t0.writeFile.call(e.t0,"index.html",e.t3));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){return le.apply(this,arguments)}function le(){return(le=(0,a.Z)(i().mark((function e(t){var r,n,o,a,s,c,u,l,d,f,p,h,g,v,m,b,y,w,E,k,O,S,j,Z,P,C,D,I,T,_;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",n="",e.next=4,t.readFile("conf.json");case 4:if(!(o=e.sent).error){e.next=7;break}return e.abrupt("return","");case 7:return a=JSON.parse(o.content.toString()),(0,oe.h)(a.version,"0.1.0")?n+="kaboom.import();\n":(0,oe.h)(a.version,"0.4.0")&&(n+="kaboom.global();\n"),(0,oe.h)(a.version,"0.4.0")?n+="\ninit({\n  ...".concat(JSON.stringify(a),",\n  clearColor: ").concat(a.clearColor?function(){var e=a.clearColor;return JSON.stringify({r:e[0],g:e[1],b:e[2],a:e[3]})}():"undefined","\n});\n  "):n+="\nkaboom({\n  ...".concat(JSON.stringify(a),",\n  global: true,\n  plugins: [ peditPlugin, asepritePlugin, kbmspritePlugin ],\n});\n"),e.next=12,Promise.all(["scenes","sprites","sounds"].map(t.readDir));case 12:if(s=e.sent,c=(0,M.Z)(s,3),u=c[0],l=c[1],d=c[2],!l.error){f=ie(l.children);try{for(f.s();!(p=f.n()).done;)h=p.value,g=JSON.stringify((0,x.eb)(h.filename)),v=JSON.stringify("sprites/".concat(h.filename)),(0,oe.H)(a.version,"0.4.0")?h.filename.endsWith(".pedit")?n+="loadPedit(".concat(g,", ").concat(v,");\n"):h.filename.endsWith(".kbmsprite")?n+="loadKbmsprite(".concat(g,", ").concat(v,");\n"):n+="loadSprite(".concat(g,", ").concat(v,");\n"):n+="loadSprite(".concat(g,", ").concat(v,");\n")}catch(i){f.e(i)}finally{f.f()}}if(!d.error){m=ie(d.children);try{for(m.s();!(b=m.n()).done;)y=b.value,w=JSON.stringify((0,x.eb)(y.filename)),E=JSON.stringify("sounds/".concat(y.filename)),n+="loadSound(".concat(w,", ").concat(E,");\n")}catch(i){m.e(i)}finally{m.f()}}if(u.error){e.next=42;break}return e.next=22,Promise.all(u.children.map((function(e){var r=e.filename;return Promise.all([(0,x.eb)(r),t.readFile("scenes/".concat(r))])})));case 22:k=e.sent,O=ie(k),e.prev=24,O.s();case 26:if((S=O.n()).done){e.next=34;break}if(j=S.value,Z=(0,M.Z)(j,2),P=Z[0],!(C=Z[1]).error){e.next=31;break}return e.abrupt("continue",32);case 31:n+="scene(".concat(JSON.stringify(P),", (args = {}) => {\n").concat(C.content.toString(),"\n});\n");case 32:e.next=26;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(24),O.e(e.t0);case 39:return e.prev=39,O.f(),e.finish(39);case 42:for(n+="start(".concat(JSON.stringify(a.startScene),");\n"),D=["kaboom.js"],(0,oe.h)(a.version,"0.1.0")?(D.push("kit/physics.js"),D.push("kit/starter.js"),D.push("kit/level.js")):(0,oe.H)(a.version,"0.4.0")&&(D.push("plugins/aseprite.js"),D.push("plugins/pedit.js")),I=0,T=D;I<T.length;I++)_=T[I],r+='<script src="https://kaboomjs.com/lib/'.concat(encodeURIComponent(a.version),"/").concat(encodeURI(_),'"><\/script>\n');return(0,oe.H)(a.version,"0.4.0")&&(r+='<script src="https://kaboomjs.com/pub/legacy/kbmsprite.js"><\/script>\n'),e.abrupt("return",'\n<!DOCTYPE html>\n\n<html>\n\n<head>\n  <title>kaboom</title>\n  <meta charset="utf-8">\n  <style>\n    * {\n      margin: 0;\n    }\n    html,\n    body {\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n    }\n    canvas {\n      display: block;\n    }\n  </style>\n</head>\n\n<body>\n'.concat(r,"\n  <script>\n").concat(n,"\n  <\/script>\n</body>\n\n</html>\n"));case 48:case"end":return e.stop()}}),e,null,[[24,36,39,42]])})))).apply(this,arguments)}var de,fe=r(54919),pe=r(41951),he=r(18947),ge=r(83633),ve=r.n(ge),me=r(71371);function be(e){var t=e.container,r=e.beforeRun,n=(0,w.Z)(),o=he.Z.Idle,s=new Date(0),c=!1;n.on(he.z.TEST_RESULT,(function(e){c=c&&"passed"===e.body}));var u=function(e){n.emit(he.z.STATE_CHANGED,e),o=e},d=function(){var e=(0,a.Z)(i().mark((function e(t,r){var o,a,s,c,d,f,p,h,g,v,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=pe.api.Payload.fromObject(r),!(a=pe.api.Payload.verify(o))){e.next=4;break}throw a;case 4:return s=new(ve())((function(e){var t=pe.api.Response.fromObject(e),r=pe.api.Response.verify(t);if(r)me.Tb(new TypeError("invalid payload received"),(function(n){return n.setExtras({validationError:r,payload:o,message:e,response:t})}));else switch(t.body){case"error":return n.emit(he.z.ERROR,t.error);case"instructionResult":return n.emit(he.z.INSTRUCTION_RESULT,t.instructionResult);case"testResult":return n.emit(he.z.TEST_RESULT,t.testResult);case"status":switch(t.status){case pe.api.Status.Ready:return u(he.Z.Ready);case pe.api.Status.Building:return u(he.Z.Building);case pe.api.Status.Running:return u(he.Z.Running)}}})),c=t.onCommand((function(e){if(e.output)try{s.submit(e.output)}catch(h){me.Tb(new SyntaxError("invalid response received from i/o testing binary"),(function(r){return r.setExtras({err:h,payload:o,cmd:e})}))}})),d=t.request({exec:{args:["io-tester"],splitStderr:!0,lifecycle:l.api.Exec.Lifecycle.STDIN,splitLogs:!0}}),e.next=9,new Promise((function(e,t){var r,o=function(){r(),e()};n.once(he.z.STATE_CHANGED,o);var i=setTimeout((function(){r(),t(new Error("timeout while waiting for iotester to start"))}),2e4);r=function(){clearTimeout(i),n.off(he.z.STATE_CHANGED,o)}}));case 9:return e.next=11,t.request({input:JSON.stringify(o)+"\n"});case 11:if((f=e.sent).ok){e.next=16;break}throw h=new Error(null!==(p=f.error)&&void 0!==p?p:"unexpected error occurred while sending input to i/o testing binary"),me.Tb(h,(function(e){return e.setExtra("status",f)})),h;case 16:return e.next=18,d;case 18:(g=e.sent).ok||(m=new Error(null!==(v=g.error)&&void 0!==v?v:"unexpected error occurred while executing i/o testing binary"),me.Tb(m,(function(e){return e.setExtra("result",g)}))),c();case 21:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return{run:function(e){if(o!==he.Z.Idle)throw new Error("iotester already running");return u(he.Z.Starting),s=new Date,c=!0,r().then((function(){return new Promise((function(r,n){var o=t.openChannel({service:"exec"},(function(t){if(t.error)return n(t.error),o;var i="",a="",s=t.channel.onCommand((function(e){e.log?i+=e.log:e.stderr&&(a+=e.stderr)}));return r(d(t.channel,e).finally((function(){s(),o(),(a||i)&&me.Tb(new Error("logs received from io tseter"),(function(t){return t.setExtras({logs:i,stderr:a,payload:e})}))}))),o}))}))})).catch((function(e){return c=!1,Promise.reject(e)})).finally((function(){return u(he.Z.Idle)}))},get lastRunAt(){return s},get state(){return o},get lastRunDidPass(){return c},onInstructionResult:function(e){return n.on(he.z.INSTRUCTION_RESULT,e),function(){n.off(he.z.INSTRUCTION_RESULT,e)}},onStateChanged:function(e){return n.on(he.z.STATE_CHANGED,e),function(){n.off(he.z.STATE_CHANGED,e)}},onTestResult:function(e){return n.on(he.z.TEST_RESULT,e),function(){n.off(he.z.TEST_RESULT,e)}},onError:function(e){return n.on(he.z.ERROR,e),function(){n.off(he.z.ERROR,e)}}}}function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xe(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ee(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ke(e){var t=e.workspace,r=e.onUnrecoverableError,n=(0,s.Z)({onUnrecoverableError:r}),o=function(){var e=(0,w.Z)(),t=null,r=null,n=null,o=[],i=!1,a=!1,s={column:1,lineNumber:1,offset:0},c={openFiles:[],activeTab:0};function u(t){k()(c,t)||(c=t,e.emit(S.SESSION_STATE_CHANGED,c))}function l(e,t){var r=t||c.openFiles.length;if(e<0||e>=r||!Number.isInteger(e))throw new Error("Invalid index: ".concat(e,". Index must be an integer between 0 and ").concat(r))}return{onSessionStateChanged:function(t){return e.on(S.SESSION_STATE_CHANGED,t),function(){e.removeListener(S.SESSION_STATE_CHANGED,t)}},onPreviewedFileChanged:function(t){return e.on(S.PREVIEWED_FILE_CHANGED,t),function(){e.removeListener(S.PREVIEWED_FILE_CHANGED,t)}},onPreviewedYoutubeVideoChanged:function(t){return e.on(S.PREVIEWED_YOUTUBE_VIDEO_CHANGED,t),function(){e.removeListener(S.PREVIEWED_YOUTUBE_VIDEO_CHANGED,t)}},onCursorPositionChanged:function(t){return e.on(S.CURSOR_POSITION_CHANGED,t),function(){e.removeListener(S.CURSOR_POSITION_CHANGED,t)}},onCommandBarToggled:function(t){return e.on(S.COMMAND_BAR_TOGGLED,t),function(){e.removeListener(S.COMMAND_BAR_TOGGLED,t)}},onConfigFileVisibilityToggled:function(t){return e.on(S.CONFIG_FILE_VISIBILITY_TOGGLED,t),function(){e.removeListener(S.CONFIG_FILE_VISIBILITY_TOGGLED,t)}},onDeeplinkUpdated:function(t){return e.on(S.DEEPLINK_CHANGED,t),n&&(t(n),n=null),function(){e.removeListener(S.DEEPLINK_CHANGED,t)}},closeTab:function(e){l(e);var t=c.openFiles.slice(),r=c.activeTab;e<=c.activeTab&&0!==c.activeTab&&r--,t.splice(e,1),u({openFiles:t,activeTab:r})},openFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.tabIndex,n=t.newTab,i=o.indexOf(e);if(-1!==i?(o.splice(i),o.unshift(e)):(o.unshift(e),o.length>5&&o.pop()),void 0===r)if(c.openFiles.includes(e))u(C(C({},c),{},{activeTab:c.openFiles.indexOf(e)}));else{var a=c.openFiles.slice();if(n){var s=0===a.length?0:c.activeTab+1;return a.splice(s,0,e),void u({openFiles:a,activeTab:s})}var d=c.activeTab;a.splice(d,1,e),u({openFiles:a,activeTab:d})}else{l(r,c.openFiles.length+1);var f=c.openFiles.slice(),p=c.openFiles.indexOf(e);if(-1===p)return f.splice(r,1,e),void u({openFiles:f,activeTab:f.indexOf(e)});if(p===r)return void u(C(C({},c),{},{activeTab:f.indexOf(e)}));f.splice(p,1),f.splice(r,0,e);var h=f.indexOf(e);u({openFiles:f,activeTab:h})}},moveFile:function(e,t){var r=c.openFiles.map((function(r){return r===e?t:(0,Z.yr)(e,r)?(0,Z.hk)(e,t,r):r}));u(C(C({},c),{},{openFiles:r}))},deleteFile:function(e){var t=c.openFiles[c.activeTab],r=c.openFiles.filter((function(t){return t!==e&&!(0,Z.yr)(e,t)})),n=r.includes(t)?r.indexOf(t):r.length-1,i=Math.max(0,n),a=o.findIndex((function(t){return t===e}));a&&o.splice(a,1),u({openFiles:r,activeTab:i})},updateDeeplink:function(t){e.emit(S.DEEPLINK_CHANGED,t),n=t},getActiveFile:function(){var e=c,t=e.openFiles,r=e.activeTab;if(0!==t.length)return t[r]},getCursorPosition:function(){return s},getRecentFiles:function(){return o},setPreviewedFile:function(r){t!==r&&(t=r,e.emit(S.PREVIEWED_FILE_CHANGED,r))},setCursorPosition:function(t){k()(t,s)||(s=t,e.emit(S.CURSOR_POSITION_CHANGED,t))},setIsCommandBarOpen:function(t){i!==t&&(i=t,e.emit(S.COMMAND_BAR_TOGGLED,i))},setAreConfigFilesVisible:function(t){a!==t&&(a=t,e.emit(S.CONFIG_FILE_VISIBILITY_TOGGLED,a))},setPreviewedYoutubeVideo:function(t){r!==t&&(r=t,e.emit(S.PREVIEWED_YOUTUBE_VIDEO_CHANGED,t))},getPreviewedFile:function(){return t},getPreviewedYoutubeVideo:function(){return r},getIsCommandBarOpen:function(){return i},getAreConfigFilesVisible:function(){return a},getState:function(){return c}}}(),u=(0,T.Z)({container:n}),l=O({container:n}),d=(0,c.Z)({container:n}),f=function(e){var t=e.container,r=(0,w.Z)(),n=null,o=[],s=[];function c(){return u.apply(this,arguments)}function u(){return(u=(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return",n);case 2:return e.abrupt("return",new Promise((function(e){r.once(D.MESSAGES_LOADED,(function(){e(n)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t.openChannel({service:"chat",name:"chatter"},(function(e){var t=e.channel;if(!e.error){if(!t)throw new Error("Expected channel");return t.onCommand((function(e){switch(e.body){case"chatMessage":var i=e.chatMessage;if(!i||!i.username||!i.text)throw new Error("expected a chat message in the response");o.push(i),r.emit(D.MESSAGE_RECEIVED,{text:i.text,username:i.username});break;case"chatTyping":var a=e.chatTyping;if(!a||!a.username)return;var c=a.username,u=a.typing;u&&!s.includes(c)&&s.push(c),!u&&s.includes(c)&&s.splice(s.indexOf(c),1),r.emit(D.USER_TYPING_UPDATED,{username:c,isTyping:Boolean(u)});break;case"chatScrollback":var l=e.chatScrollback;if(null===l||void 0===l||!l.scrollback)return;l.scrollback.forEach((function(e){return o.push(e)})),n=t,r.emit(D.MESSAGES_LOADED,o)}})),function(){n=null}}})),{sendMessage:function(e){return(0,a.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c();case 2:n=t.sent,o.push(e),n.send({chatMessage:e}),r.emit(D.MESSAGE_SENT,e);case 6:case"end":return t.stop()}}),t)})))()},onMessageReceived:function(e){return r.on(D.MESSAGE_RECEIVED,e),function(){r.removeListener(D.MESSAGE_RECEIVED,e)}},onMessageSent:function(e){return r.on(D.MESSAGE_SENT,e),function(){r.removeListener(D.MESSAGE_SENT,e)}},updateUserTyping:function(e){return(0,a.Z)(i().mark((function t(){var r,n,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c();case 2:r=t.sent,n=e.username,o=e.isTyping,r.send({chatTyping:{username:n,typing:o}});case 5:case"end":return t.stop()}}),t)})))()},onUserTypingUpdated:function(e){return r.on(D.USER_TYPING_UPDATED,e),function(){r.removeListener(D.USER_TYPING_UPDATED,e)}},onMessagesLoaded:function(e){return r.on(D.MESSAGES_LOADED,e),function(){r.removeListener(D.MESSAGES_LOADED,e)}},getMessages:function(){return o},getUsersTyping:function(){return s}}}({container:n}),p=(0,I.Z)({container:n,beforeRun:function(){var e=(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.flush();case 2:return e.next=4,(0,fe.Z)(n,b);case 4:if(!e.sent){e.next=7;break}return e.next=7,d.installPackages();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),h=function(e){var t=e.container,r=(0,B.u)(null);return{mainClient:r,connect:function(){return new Promise((function(e,n){r.current||t.openChannel({service:"debugger"},(function(t){if(!t.error)return r.current=Q({channel:t.channel}),e(null),function(){r.current=null};n(t.error)}))}))}}}({container:n}),g=(0,A.Z)({beforeRun:function(){var e=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("kaboom"!==t){e.next=3;break}return e.next=3,se(u);case 3:return e.next=5,u.flush();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getMainFileContents:function(e){return(0,_.Z)({language:e,fs:u})}}),v=t?function(e){var t=e.workspace,r=function(){return t.store.getState()},n=t.store.dispatch,o=t.component(),i=function(e){if(!r().plugins[e])throw new Error("Unknown plugin with pud:".concat(e))};return{component:function(){return o},set:function(e){n({type:"UPDATE_LAYOUT",path:N.Jz(),to:e})},setFloating:function(e){n({type:"UPDATE_LAYOUT",path:N.cV(),to:e})},insertFloating:function(e){i(e);var t=r().layout,o=N.$T(t,e,"inside",N.cV()),a=o.path,s=o.to;n({type:"UPDATE_LAYOUT",path:a,to:s})},insert:function(e,t,o){i(e);var a=r(),s=a.layout,c=a.plugins,u=null,l="";if("above"in t?(u="above",l=t.above):"rightOf"in t?(u="rightOf",l=t.rightOf):"below"in t?(u="below",l=t.below):"leftOf"in t&&(u="leftOf",l=t.leftOf),!u)throw new Error("Expected direction");var d=N.$T(s,e,u,N.PP(s,c,l),o),f=d.path,p=d.to;n({type:"UPDATE_LAYOUT",path:f,to:p,property:void 0})},remove:function(e){i(e);var t=N.Od(r().layout,e),o=t.path,a=t.to;n({type:"UPDATE_LAYOUT",path:o,to:a,property:null})},has:function(e){return i(e),N.e$(r().layout,e)}}}({workspace:t}):F,m=function(e){var t,r=e.container,n=(0,w.Z)(),o=new Promise((function(e){return t=e})),s=null;return r.openChannel({service:"chat",name:"broadcaster"},(function(e){if(!e.error){var r=e.channel,i=e.context;if(!r)throw new Error("Expected channel");return i.currentUser&&(s=i.currentUser.username),r.onCommand((function(e){switch(e.body){case"chatMessage":var t=e.chatMessage;if(!t||!t.username||!t.text)throw new Error("unexpected broadcast without a message");n.emit(U.MESSAGE_RECEIVED,{text:t.text,username:t.username})}})),t(r),function(){o=new Promise((function(e){return t=e}))}}})),{broadcastMessage:function(e){return(0,a.Z)(i().mark((function t(){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.text,t.next=3,o;case 3:if(n=t.sent,s){t.next=6;break}throw new Error("Cannot broadcast without as username. Is currentUser in context?");case 6:n.send({chatMessage:{text:r,username:s}});case 7:case"end":return t.stop()}}),t)})))()},onBroadcastReceived:function(e){return n.on(U.MESSAGE_RECEIVED,e),function(){n.removeListener(U.MESSAGE_RECEIVED,e)}}}}({container:n}),b=(0,te.Z)({container:n,fs:u}),y=(0,re.g)({container:n}),x=be({container:n,beforeRun:function(){var e=(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.flush();case 2:return e.next=4,(0,fe.Z)(n,b);case 4:if(!e.sent){e.next=7;break}return e.next=7,d.installPackages();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),E=function(e){var t=e.fs,r={},n={},o={},s=(0,w.Z)();function c(e){return u.apply(this,arguments)}function u(){return(u=(0,a.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(r.map(function(){var e=(0,a.Z)(i().mark((function e(r){var n,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){n=t.watchOtFile(r.path,{onReady:function(t){var o=t.transformSelection,i=t.version;if(n(),i===r.otVersion)return e({indexStart:r.indexStart,indexEnd:r.indexEnd,version:r.otVersion});e(o({indexStart:r.indexStart,indexEnd:r.indexEnd,versionFrom:r.otVersion,versionTo:i}))}})}));case 2:return o=e.sent,a=we(we({},r),{},{indexStart:o.indexStart,indexEnd:o.indexEnd,otVersion:o.version}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{onAnchorPortalSet:function(e,t){var r=function(r){r.id===e&&t(r)};return s.on(de.PORTAL_UPDATED,r),function(){s.removeListener(de.PORTAL_UPDATED,r)}},addAnchors:function(e){return(0,a.Z)(i().mark((function t(){var o,a,u,l,d,f,p;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=xe(e);try{for(o.s();!(a=o.n()).done;)u=a.value,r[u.id]=u}catch(i){o.e(i)}finally{o.f()}return t.next=4,c(e);case 4:l=t.sent,d=xe(l);try{for(d.s();!(f=d.n()).done;)p=f.value,n[p.id]=p}catch(i){d.e(i)}finally{d.f()}s.emit(de.ANCHORS_ADDED,l);case 8:case"end":return t.stop()}}),t)})))()},removeAnchors:function(e){return(0,a.Z)(i().mark((function t(){var a,c,u,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],c=xe(e),t.prev=2,c.s();case 4:if((u=c.n()).done){t.next=14;break}if(l=u.value,r[l]){t.next=8;break}return t.abrupt("continue",12);case 8:a.push(r[l]),delete o[l],delete n[l],delete r[l];case 12:t.next=4;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),c.e(t.t0);case 19:return t.prev=19,c.f(),t.finish(19);case 22:s.emit(de.ANCHORS_REMOVED,a);case 23:case"end":return t.stop()}}),t,null,[[2,16,19,22]])})))()},getAnchors:function(e){return(0,a.Z)(i().mark((function t(){var o,a,s,u,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Object.values(r).filter((function(t){return t.path===e})),t.next=3,c(o);case 3:a=t.sent,s=xe(a);try{for(s.s();!(u=s.n()).done;)l=u.value,n[l.id]=l}catch(i){s.e(i)}finally{s.f()}return t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))()},createThread:function(e){s.emit(de.THREAD_CREATED,e)},onThreadCreated:function(e){return s.on(de.THREAD_CREATED,e),function(){s.off(de.THREAD_CREATED,e)}},onAnchorsAdded:function(e){return s.on(de.ANCHORS_ADDED,e),function(){s.removeListener(de.ANCHORS_ADDED,e)}},onAnchorsRemoved:function(e){return s.on(de.ANCHORS_REMOVED,e),function(){s.removeListener(de.ANCHORS_REMOVED,e)}},setAnchorPortal:function(e){r[e.id]&&n[e.id]&&(o[e.id]=e,s.emit(de.PORTAL_UPDATED,e))}}}({fs:u});return{layout:v,session:o,presence:l,packager:d,container:n,fs:u,chat:f,runner:p,debuggest:h,replbox:g,broadcast:m,dotReplit:b,lsp:y,iotester:x,anchorer:E}}!function(e){e.ANCHORS_ADDED="ANCHORS_ADDED",e.ANCHORS_REMOVED="ANCHORS_REMOVED",e.PORTAL_UPDATED="PORTAL_UPDATED",e.THREAD_CREATED="THREADS_CREATED"}(de||(de={}))},18947:function(e,t,r){"use strict";var n,o;r.d(t,{z:function(){return n},Z:function(){return o}}),function(e){e.INSTRUCTION_RESULT="INSTRUCTION_RESULT",e.TEST_RESULT="TEST_RESULT",e.ERROR="ERROR",e.STATE_CHANGED="STATE_CHANGED"}(n||(n={})),function(e){e[e.Idle=0]="Idle",e[e.Starting=1]="Starting",e[e.Ready=2]="Ready",e[e.Building=3]="Building",e[e.Running=4]="Running"}(o||(o={}))},33096:function(e,t,r){"use strict";function n(e){var t=e.getServerCapabilities();return{isAutoCompleteSupported:Boolean(null===t||void 0===t?void 0:t.completionProvider),isFindReferencesSupported:Boolean(null===t||void 0===t?void 0:t.referencesProvider),isFindDefinitionSupported:Boolean(null===t||void 0===t?void 0:t.definitionProvider),isHoverSupported:Boolean(null===t||void 0===t?void 0:t.hoverProvider),isRenameSupported:Boolean(null===t||void 0===t?void 0:t.renameProvider)}}r.d(t,{Z:function(){return n}})},78435:function(e,t,r){"use strict";r.d(t,{g:function(){return x}});var n,o=r(64027),i=r(93041),a=r(37348),s=r.n(a),c=r(809),u=r.n(c),l=r(92447),d=r(26265),f=r(4407),p={textDocument:{synchronization:{dynamicRegistration:!0,didSave:!0},definition:{dynamicRegistration:!0},references:{dynamicRegistration:!0},rename:{dynamicRegistration:!0,prepareSupport:!0},completion:{dynamicRegistration:!0,completionItem:{documentationFormat:["plaintext"]}},hover:{dynamicRegistration:!0,contentFormat:["plaintext"]}},workspace:{didChangeConfiguration:{dynamicRegistration:!0},workspaceEdit:{documentChanges:!0,resourceOperations:[f.ResourceOperationKind.Create,f.ResourceOperationKind.Delete,f.ResourceOperationKind.Rename]}}},h=r(54041),g=r(26470),v=function(e){switch((0,g.extname)(e).slice(1)){case"php":return"php";case"re":return"reason";case"erl":return"erlang";case"c":return"c";case"go":return"go";case"java":return"java";case"cpp":return"cpp";case"rb":return"ruby";case"py":return"python";case"js":case"sx":case"es6":return"replit-js";case"ts":case"tsx":return"replit-ts";default:return null}},m=r(48764).Buffer;function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.INITIALIZED="INITIALIZED",e.DIAGNOSTICS="DIAGNOSTICS",e.SERVER_STATE_CHANGE="SERVER_STATE_CHANGE"}(n||(n={}));var w=r(50055);function x(e){var t=e.container,r=(0,o.Z)(),a=null,c=!1,d=0,f=null;function g(e){a!==e&&(a=e,r.emit(i.zW.ON_CLIENT,a))}var b=function(){g(null)},x=!1,E={start:function(){x||(x=!0,b=t.openChannel({service:"lsp",skip:function(e){var t=s().get(e.repl.language).entrypoint;return!v(t)||!s().supportsLSP(e.repl.language)}},(function(e){if(!e.error){var a=!1,b=function(){},x=s().get(e.context.repl.language).entrypoint,k=v(x);if(!k)throw new Error("Expected languageId");var O=function(e){var t=e.channel,r=e.languageId,a=(0,o.Z)(),s=null,c=i.aL.OFFLINE,d=null,f={},g={};function b(e){if(!s)throw new Error("Expected rootUri");return e.slice(s.length+1)}function w(e){if(!s)throw new Error("Expected rootUri");if(e.startsWith("/"))throw new Error("Path must be relative. Got: ".concat(e));return s+"/"+e}function x(e){c=e,a.emit(n.SERVER_STATE_CHANGE,c)}function E(e){var t=JSON.stringify(y(y({},e),{},{jsonrpc:"2.0"})),r=m.byteLength(t,"utf8");return"Content-Length: ".concat(r,"\r\n\r\n").concat(t)}function k(e){t.send({input:E(e)})}function O(e,r){var n=r||Math.random().toString();return t.send({input:E(y(y({},e),{},{id:n}))}),new Promise((function(e){g[n]=e}))}var S=(0,h.J)((function(e){if(e.id&&g[e.id]){var t=g[e.id];delete g[e.id];var r=e.result,o=e.error;if(r)return void t({result:r,cancelled:!1});if(o)return void t({error:o});throw new Error("Expected either message or error in LSP response")}"textDocument/publishDiagnostics"===e.method&&a.emit(n.DIAGNOSTICS,{path:b(e.params.uri),diagnostics:e.params.diagnostics})}));return t.onCommand((function(e){e.output&&S.read(e.output)})),{initialize:function(e){return(0,l.Z)(u().mark((function t(){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.pwd,x(i.aL.INITIALIZING),s="file://".concat(r),t.next=5,O({method:"initialize",params:{capabilities:p,processId:null,rootUri:s,workspaceFolders:[{name:s,uri:s}]}});case 5:if(!("error"in(n=t.sent))){t.next=8;break}throw new Error("Something went wrong initializing the LSP client: ".concat(n.error.message));case 8:if(n.result){t.next=10;break}throw new Error("Expected result in initialize request");case 10:k({method:"initialized",params:{}}),d=n.result.capabilities,x(i.aL.INITIALIZED);case 13:case"end":return t.stop()}}),t)})))()},notify:{didOpen:function(e,t){var n,o,i=v(e);if(r!==i&&("replit-ts"!==r||"replit-js"!==i)&&("replit-js"!==r||"replit-ts"!==i))throw new Error("Expected languageId of ".concat(r,". Got ").concat(v(e)," for ").concat(e,"."));if(f[e]&&0!==f[e].buffers)f[e].buffers++;else{var a=null!==(n=null===(o=f[e])||void 0===o?void 0:o.version)&&void 0!==n?n:0;f[e]={version:a,buffers:1},k({method:"textDocument/didOpen",params:{textDocument:{uri:w(e),languageId:r,text:t,version:a}}})}},didChange:function(e,t){var r=f[e];if(!r)throw new Error('Document for "'.concat(e,'" is not open'));r.version++,k({method:"textDocument/didChange",params:{textDocument:{uri:w(e),version:r.version},contentChanges:t}})},didSave:function(e){var t=f[e];if(!t)throw new Error('Document for "'.concat(e,'" is not open'));if(!d)throw new Error("Expected client to be initialized");if(!d.textDocumentSync)throw new Error("LSP Server does not support text document sync");k({method:"textDocument/didSave",params:{textDocument:{uri:w(e),version:t.version}}})},didClose:function(e){var t=f[e];if(!t)throw new Error('Document for "'.concat(e,'" is not open'));t.buffers--,t.buffers>0||k({method:"textDocument/didClose",params:{textDocument:{uri:w(e),version:t.version}}})},cancelRequest:function(e){var t=g[e];if(t)return t({result:null,cancelled:!0}),delete g[e],k({method:"$/cancelRequest",params:{id:e}})}},request:{completion:function(e,t,r,n){return O({method:"textDocument/completion",params:{textDocument:{uri:w(e)},position:t,context:r}},n)},hover:function(e,t,r){return O({method:"textDocument/hover",params:{textDocument:{uri:w(e)},position:t}},r)},findDefinitions:function(e,t,r){return(0,l.Z)(u().mark((function n(){var o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d){n.next=2;break}throw new Error("Expected client to be initialized");case 2:if(d.definitionProvider){n.next=4;break}throw new Error("LSP server does not support go to definition");case 4:return n.next=6,O({method:"textDocument/definition",params:{textDocument:{uri:w(e)},position:t}},r);case 6:if("result"in(o=n.sent)){n.next=9;break}return n.abrupt("return",o);case 9:if(!o.result||Array.isArray(o.result)){n.next=11;break}return n.abrupt("return",{result:[o.result],cancelled:!1});case 11:return n.abrupt("return",o);case 12:case"end":return n.stop()}}),n)})))()},findReferences:function(e,t,r,n){if(!d)throw new Error("Expected client to be initialized");if(!d.referencesProvider)throw new Error("LSP server does not support find references");return O({method:"textDocument/references",params:{textDocument:{uri:w(e)},position:t,context:r}},n)},rename:function(e,t,r,n){if(!d)throw new Error("Expected client to be initialized");if(!d.renameProvider)throw new Error("LSP server does not support renaming");return O({method:"textDocument/rename",params:{textDocument:{uri:w(e)},position:t,newName:r}},n)},prepareRename:function(e,t,r){if(!d)throw new Error("Expected client to be initialized");if(!d.renameProvider||"boolean"===typeof d.renameProvider||!d.renameProvider.prepareProvider)throw new Error("LSP server does not support prepare rename");return O({method:"textDocument/prepareRename",params:{textDocument:{uri:w(e)},position:t}},r)}},onDiagnostics:function(e){return a.on(n.DIAGNOSTICS,e),function(){a.removeListener(n.DIAGNOSTICS,e)}},onServerStateChange:function(e){return a.on(n.SERVER_STATE_CHANGE,e),function(){a.removeListener(n.SERVER_STATE_CHANGE,e)}},shutdown:function(){x(i.aL.EXITING),O({method:"shutdown"}).then((function(){k({method:"exit"}),x(i.aL.EXITED),a.removeAllListeners()}))},destroy:function(){x(i.aL.EXITED),a.removeAllListeners()},getServerState:function(){return c},getServerCapabilities:function(){return d},documentUriToPath:b,isSupportedFile:function(e){var t=v(e);return t===r||"replit-ts"===r&&"replit-js"===t||"replit-js"===r&&"replit-ts"===t}}}({channel:e.channel,languageId:k});t.exec("pwd").then((function(e){if(!a){var t=e.output?e.output.replace(/\n/,""):null;if(!t)throw new Error("Expected pwd");if(!O)throw new Error("Expected client");O.initialize({pwd:t}),b=O.onServerStateChange((function(e){a||e===i.aL.INITIALIZED&&g(O)}))}}));var S=e.channel.onCommand((function(e){e.output||e.state===w.api.State.Stopped&&(d++,E.stop(),f=setTimeout((function(){return E.start()}),1e3*Math.pow(2,d)))}));return function(e){var t=e.willReconnect;O&&(O.destroy(),g(null)),a=!0,b(),S(),c?c=!1:t||r.emit(i.zW.DISCONNECT)}}})))},getClient:function(){return a},onClient:function(e){return r.on(i.zW.ON_CLIENT,e),function(){r.removeListener(i.zW.ON_CLIENT,e)}},stop:function(){if(c=!0,x=!1,null!==f&&clearTimeout(f),a){var e=a.onServerStateChange((function(t){t===i.aL.EXITED&&(e(),b())}));return a.destroy(),void g(null)}b()},onUnexpectedDisconnect:function(e){return r.on(i.zW.DISCONNECT,e),function(){r.removeListener(i.zW.DISCONNECT,e)}}};return E}},54041:function(e,t,r){"use strict";r.d(t,{J:function(){return i}});var n=r(71371),o=r(61171);function i(e){var t=new o.Z,r=-1;return{read:function(o){for(t.append(o);;){if(-1===r){var i=t.tryReadHeaders();if(!i)return;var a=i["Content-Length"];if(!a)return n.Tb(new Error("Header must provide a Content-Length property.")),!1;var s=parseInt(a,10);if(isNaN(s))return n.Tb(new Error("Content-Length value must be a number.")),!1;r=s}var c=t.tryReadContent(r);if(null===c)return;r=-1;try{var u=JSON.parse(c);e(u)}catch(l){n.Tb(l)}}}}}},93041:function(e,t,r){"use strict";var n,o,i,a;r.d(t,{zW:function(){return n},Ij:function(){return o},ex:function(){return i},aL:function(){return a}}),function(e){e.DISCONNECT="DISCONNECT",e.ON_CLIENT="ON_CLIENT"}(n||(n={})),function(e){e[e.Invoked=1]="Invoked",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.TriggerForIncompleteCompletions=3]="TriggerForIncompleteCompletions"}(o||(o={})),function(e){e[e.None=0]="None",e[e.Full=1]="Full",e[e.Incremental=2]="Incremental"}(i||(i={})),function(e){e.OFFLINE="OFFLINE",e.INITIALIZING="INITIALIZING",e.INITIALIZED="INITIALIZED",e.EXITING="EXITING",e.EXITED="EXITED"}(a||(a={}))},4838:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(32292),o=r(67294),i=r(8346);function a(){var e=(0,i.Z)().lsp,t=o.useState(e.getClient()),r=(0,n.Z)(t,2),a=r[0],s=r[1];return o.useEffect((function(){return e.onClient(s)}),[e]),a}},23746:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(32292),o=r(67294);function i(e){var t=e.presence,r=o.useState(t.getActiveUsers()),i=(0,n.Z)(r,2),a=i[0],s=i[1];return o.useEffect((function(){return s(t.getActiveUsers()),t.onActiveUsersChange((function(e){return s(e)}))}),[t]),a}},47686:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(32292),o=r(67294),i=r(8346);function a(){var e=(0,i.Z)().presence,t=o.useState(e.getFollowedUser()),r=(0,n.Z)(t,2),a=r[0],s=r[1];return o.useEffect((function(){return s(e.getFollowedUser()),e.onFollowedUserChanged(s)}),[e]),a}},28130:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(49668);function o(){var e=(0,n.Z)(),t=e.openFiles,r=e.activeTab;return t[r]?t[r]:null}},49668:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(32292),o=r(67294),i=r(8346);function a(){var e=(0,i.Z)().session,t=o.useState(e.getState()),r=(0,n.Z)(t,2),a=r[0],s=r[1];return o.useEffect((function(){return s(e.getState()),e.onSessionStateChanged(s)}),[e]),a}},99146:function(e,t,r){"use strict";r.d(t,{X:function(){return i},z:function(){return a}});var n=r(67294),o=n.createContext(null);function i(){return n.useContext(o)}var a=o.Provider},49822:function(e,t,r){"use strict";r.d(t,{rk:function(){return T},xW:function(){return L},e$:function(){return _}});var n=r(35944),o=r(26265),i=r(32292),a=r(55873),s=r(67294),c=r(99146),u=r(93096),l=r.n(u),d=r(73935),f=r(70917),p=r(82265),h=r(36437),g=r(40106);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e){var t=e.targetElement,r=(0,s.useState)(null),o=r[0],i=r[1],a=(0,p.Z)((function(){t&&i({rect:t.getBoundingClientRect(),docWidth:document.documentElement.clientWidth,docHeight:document.documentElement.clientHeight})}),{type:"throttle",wait:100});if((0,s.useEffect)((function(){t&&a(t)}),[t,a]),(0,s.useEffect)((function(){if(t){var e=l()((function(){i({rect:t.getBoundingClientRect(),docWidth:document.documentElement.clientWidth,docHeight:document.documentElement.clientHeight})}),100);return window.addEventListener("resize",e),window.addEventListener("scroll",e),function(){window.removeEventListener("resize",e),window.removeEventListener("scroll",e)}}}),[t]),!o||!t)return null;var c=(0,f.iv)({backgroundColor:h.TV.backgroundOverlay,zIndex:g.n+1,position:"fixed",transition:"all 0.5s ease-out"},"","");return(0,d.createPortal)((0,n.BX)(n.HY,{children:[(0,n.tZ)("div",{css:[y(m({side:"left-top"},o)),c,"",""]}),(0,n.tZ)("div",{css:[y(m({side:"top-right"},o)),c,"",""]}),(0,n.tZ)("div",{css:[y(m({side:"right-bottom"},o)),c,"",""]}),(0,n.tZ)("div",{css:[y(m({side:"bottom-left"},o)),c,"",""]})]}),document.body)}function y(e){var t=e.side,r=e.rect,n=e.docWidth,o=e.docHeight;switch(t){case"left-top":return(0,f.iv)({top:0,left:0,width:Math.max(0,r.left),height:Math.max(0,r.bottom)},"","");case"top-right":return(0,f.iv)({top:0,right:0,width:"calc(".concat(n,"px - ").concat(Math.max(0,r.left),"px)"),height:Math.max(0,r.top)},"","");case"right-bottom":return(0,f.iv)({bottom:0,right:0,width:"calc(".concat(n,"px - ").concat(Math.max(0,r.right),"px)"),height:"calc(".concat(o,"px - ").concat(Math.max(0,r.top),"px)")},"","");case"bottom-left":return(0,f.iv)({bottom:0,left:0,width:Math.max(0,r.right),height:"calc(".concat(o,"px - ").concat(Math.max(0,r.bottom),"px)")},"","")}}var w=r(57629),x=r(588),E=r(77294),k=r(75137);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e){var t=e.targetElement,r=e.activeStep,o=e.goto,i=e.currentStepIndex,a=e.totalSteps,c=e.done,u=e.disableAnimation,l=(0,s.useState)(null),h=l[0],v=l[1],m=(0,s.useState)(null),b=m[0],y=m[1],O=(0,E.D)(t,h,{placement:"auto-start",modifiers:[{name:"arrow",options:{element:b,padding:8}},{name:"offset",options:{offset:[20,16]}},{name:"computeStyles",options:{adaptive:!1}}]}),j=(0,p.Z)((function(){var e;null===(e=O.update)||void 0===e||e.call(O)}),{type:"throttle",wait:100});return(0,s.useEffect)((function(){j(t)}),[t,j]),(0,d.createPortal)((0,n.BX)("div",S(S({ref:v,style:O.styles.popper,css:(0,f.iv)({transition:u?"all":"all 0.5s ease-out",zIndex:g.n+2,width:320},"","")},O.attributes.popper),{},{children:[(0,n.tZ)(x.Z,{title:r.title,content:r.content,onDismiss:function(){c()},currentStepIndex:i,onCurrentStepChange:o,totalSteps:a}),(0,n.tZ)("span",{style:O.styles.arrow,css:[w.wk,{"&::after":{backgroundColor:k.Br.primary.dimmest,border:"1px solid "+k.Br.primary.dimmer}},"",""],ref:y})]})),document.body)}var Z={name:"1c5qutr",styles:"padding:0;width:fit-content"};function P(){var e=(0,c.X)();if(!e)return null;var t=e.activeStep,r=e.goto,o=e.steps,i=e.done;return(0,n.tZ)(g.Z,{preventClose:!0,isOpen:Boolean(t.isModal),onRequestClose:function(){},css:Z,children:(0,n.tZ)(x.Z,{title:t.title,content:t.content,onDismiss:function(){i()},currentStepIndex:o.findIndex((function(e){return t.id===e.id})),onCurrentStepChange:r,totalSteps:o.length})})}var C=r(25108);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e){var t,r=e.children,u=e.tour,l=e.isDoneInitialOverride,d=e.onStep,f=e.onDone,p=(0,s.useState)(u.steps[0]),h=p[0],g=p[1],v=(0,s.useState)({}),m=v[0],y=v[1],w=function(e,t){var r,n=(0,a.PpL)({variables:{tours:e}}),o=n.data,c=n.loading,u=(0,a.oep)({variables:{name:e},optimisticResponse:{markTourAsSeen:{__typename:"TourSeen",id:e,seen:!0}}}),l=(0,i.Z)(u,1)[0],d=(0,s.useState)(t),f=d[0],p=d[1],h=Boolean(null===o||void 0===o||null===(r=o.currentUser)||void 0===r?void 0:r.toursSeen[0].seen);return"boolean"===typeof f&&(h=f),{isLoading:c,isDone:h,setIsDone:function(e){p(e),e&&l()}}}(u.id,l),x=w.isDone,E=w.isLoading,k=w.setIsDone,O=u.steps.findIndex((function(e){return h.id===e.id})),S=O===u.steps.length-1;if(-1===O)throw new Error("Current tour step is not in tour steps");function Z(){k(!0),null===f||void 0===f||f(S)}var D=(0,s.useRef)();function T(e){D.current=h,null===d||void 0===d||d(e.id),g(e)}function _(e){var t;if("number"===typeof e)t=e;else{var r=e;t=u.steps.findIndex((function(e){return r===e.id}))}if(!(t<0||t>=u.steps.length)){for(var n=u.steps[t],o=t<O;!m[n.id]&&n.autoSkipIfNoTarget;){if((t=o?t-1:t+1)<0||t>=u.steps.length)return;n=u.steps[t]}T(n)}}function A(){_(0),k(!1)}var R=(0,s.useCallback)((function(e,t){var r=u.steps.findIndex((function(t){return e===t.id}));if(-1===r)throw new Error("Invalid step id");if(u.steps[r].isModal)throw new Error("Trying to set a target element for a modal step");y((function(r){return r[e]===t?r:I(I({},r),{},(0,o.Z)({},e,t))}))}),[u]),N=m[h.id],U=!x&&!E;window.startTour=function(){C.log("starting tour:",u.id,"from",u.steps[0].id),A()};var L=u.steps.filter((function(e){return!e.autoSkipIfNoTarget||Boolean(m[e.id])})),F=L.findIndex((function(e){return h.id===e.id}));return(0,n.BX)(c.z,{value:I(I({},u),{},{setStepTargetElement:R,activeStep:h,next:function(){var e=u.steps[O+1];if(e&&e.autoSkipIfNoTarget)for(var t=O+1;e&&e.autoSkipIfNoTarget&&!m[e.id];)t++,e=u.steps[t];e?T(e):Z()},prev:function(){var e=u.steps[O-1];if(e&&e.autoSkipIfNoTarget)for(var t=O-1;e&&e.autoSkipIfNoTarget&&!m[e.id];)t--,e=u.steps[t];e&&T(e)},goto:_,isDone:x,isLoading:E,done:Z,restart:A}),children:[U&&h.isModal?(0,n.tZ)(P,{}):null,U&&N?(0,n.BX)(n.HY,{children:[(0,n.tZ)(b,{targetElement:N}),(0,n.tZ)(j,{targetElement:N,activeStep:h,currentStepIndex:F,done:Z,goto:function(e){_(e+O-F)},totalSteps:L.length,disableAnimation:Boolean(0===O||(null===(t=D.current)||void 0===t?void 0:t.isModal))})]}):null,r]})}function _(e){var t=(0,c.X)(),r=(0,s.useCallback)((function(r){null===t||void 0===t||t.setStepTargetElement(e,r)}),[e,null===t||void 0===t?void 0:t.setStepTargetElement]);return t&&t.steps.some((function(t){return t.id===e}))?{delegateTooltip:r,isActive:!t.isLoading&&!t.isDone&&t.activeStep.id===e,activeStep:t.activeStep,done:t.done,goto:t.goto,id:t.id,isDone:t.isDone,isLoading:t.isLoading,next:t.next,prev:t.prev,restart:t.restart,steps:t.steps}:null}var A=r(59864),R=(0,r(68953).K)("span");function N(e){return 1===s.Children.count(e)&&!A.isFragment(e)&&A.isElement(e)&&("string"===typeof e.type||A.isForwardRef(e))}var U=function(){};function L(e){var t=e.stepId,r=e.children,o=_(t),i=o?o.delegateTooltip:U,a=(0,s.useCallback)((function(e){if(i(e),N(r)){var t=s.Children.only(r),n=t.ref||t.props.ref;n&&("function"===typeof n?n(e):"object"===typeof n&&"current"in n&&(n.current=e))}}),[i,r]);if(!r||0===s.Children.count(r))return(0,n.tZ)(n.HY,{children:r});if(!o)return(0,n.tZ)(n.HY,{children:r});if(N(r)){var c=s.Children.only(r);return(0,s.cloneElement)(c,{ref:a})}return(0,n.tZ)(R,{ref:a,children:r})}},58049:function(e,t){"use strict";t.Z={brand:{darkBlue:"#0D101E",lightBlue:"#68CDEE",gray:"#6D7D84"},main:{green:{dark:"#0A6640",default:"#0F9960",light:"#3DCC91",25:"rgba(15,153,96,0.25)",15:"rgba(15,153,96,0.15)"},red:{dark:"#A82A2A",default:"#DB3737",light:"#FF7373",25:"rgba(219, 55, 55, 0.25)",15:"rgba(219, 55, 55, 0.15)"},blue:{dark:"#0068AD",default:"#0097FB",light:"#73C4FA",25:"rgba(0, 151, 251, 0.25)",15:"rgba(0, 151, 251, 0.15)"},orange:{dark:"#A14809",default:"#E16D1A",light:"#FC9C58",25:"rgba(225, 109, 26, 0.25)",15:"rgba(225, 109, 26, 0.15)"},purple:{dark:"#6213B1",default:"#9D43F7",light:"#BF80FF",25:"rgba(98, 19, 177, 0.25)",15:"rgba(98, 19, 177, 0.15)"},gold:{dark:"#A67908",default:"#D99E0B",light:"#FFC940",25:"rgba(217, 158, 11, 0.25)",15:"rgba(217, 158, 11, 0.15)"}},neutrals:{black:"#21242C",white:"#FFFFFF",offWhite:"#F7F8FA",black64:"rgba(33, 36, 44, 0.64)",black50:"rgba(33, 36, 44, 0.50)",black16:"rgba(33, 36, 44, 0.16)",black8:"rgba(33, 36, 44, 0.08)",white64:"rgba(255, 255, 255, 0.64)",white50:"rgba(255, 255, 255, 0.50)",white16:"rgba(255, 255, 255, 0.16)",white8:"rgba(255, 255, 255, 0.08)"},multiplayer:{green:"#1BC47D",red:"#EF5533",blue:"#18A0FB",gold:"#FFC700",purple:"#907CFF",teal:"#00B5CE",pink:"#EE46D3"},languages:{java:"#b07219",scheme:"#1e4aec",clojure:"#db5855",haskell:"#5e5086",lua:"#000080",ruby:"#701516",python:"#3572A5",go:"#00ADD8",cpp:"#f34b7d",c:"#555555","c#":"#178600","f#":"#b845fc",rust:"#dea584",swift:"#ffac45",r:"#198CE7",bash:"#000000",crystal:"#000100",julia:"#a270ba",elixir:"#6e4a7e",nim:"#37775b",dart:"#00B4AB",erlang:"#B83998",typescript:"#2b7489",elisp:"#c065db",sql:"#e34c26",php:"#4F5D95",html:"#e34c26",css:"#563d7c",javascript:"#f1e05a"}}},67193:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(26265),o=r(35944),i=(r(67294),r(61951));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e){return(0,o.tZ)(i.Z,s(s({},e),{},{children:(0,o.tZ)("path",{d:"M12 7V12.3333L16 15M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}},37672:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(26265),o=r(35944),i=(r(67294),r(61951));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e){return(0,o.BX)(i.Z,s(s({strokeWidth:3},e),{},{children:[(0,o.tZ)("path",{d:"M9.9 4.24002C10.5883 4.0789 11.2931 3.99836 12 4.00003C19 4.00003 23 12 23 12C22.393 13.1356 21.6691 14.2048 20.84 15.19M14.12 14.12C13.8454 14.4148 13.5141 14.6512 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.4811 9.80385 14.1962C9.51897 13.9113 9.29439 13.572 9.14351 13.1984C8.99262 12.8249 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2219 9.18488 10.8539C9.34884 10.4859 9.58525 10.1547 9.88 9.88003M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68192 3.96914 7.65663 6.06 6.06003L17.94 17.94Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M1 1L23 23",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},34960:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(26265),o=r(35944),i=(r(67294),r(61951));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e){return(0,o.tZ)(i.Z,s(s({},e),{},{children:(0,o.tZ)("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8M14 2L20 8M14 2V8H20M12 18V12M9 15H15",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}},26228:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(26265),o=r(35944),i=(r(67294),r(61951));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e){return(0,o.tZ)(i.Z,s(s({},e),{},{children:(0,o.tZ)("path",{d:"M12 11V17M9 14H15M22 19C22 19.5304 21.7893 20.0391 21.4142 20.4142C21.0391 20.7893 20.5304 21 20 21H4C3.46957 21 2.96086 20.7893 2.58579 20.4142C2.21071 20.0391 2 19.5304 2 19V5C2 4.46957 2.21071 3.96086 2.58579 3.58579C2.96086 3.21071 3.46957 3 4 3H9L11 6H20C20.5304 6 21.0391 6.21071 21.4142 6.58579C21.7893 6.96086 22 7.46957 22 8V19Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}},13310:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(26265),o=r(35944),i=(r(67294),r(61951));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e){return(0,o.tZ)(i.Z,s(s({},e),{},{children:(0,o.tZ)("path",{d:"M22.9999 4.00001V10M22.9999 10H16.9999M22.9999 10L18.3699 5.64001C16.9905 4.25975 15.1999 3.3652 13.2678 3.09116C11.3358 2.81711 9.36705 3.17843 7.65823 4.12065C5.94942 5.06288 4.59313 6.53496 3.79374 8.31508C2.99436 10.0952 2.79519 12.0869 3.22625 13.9901C3.6573 15.8932 4.69524 17.6047 6.18363 18.8667C7.67203 20.1286 9.53026 20.8726 11.4783 20.9866C13.4263 21.1006 15.3586 20.5783 16.984 19.4985C18.6094 18.4187 19.8399 16.8399 20.4899 15",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}},50630:function(e,t,r){"use strict";var n=r(67294).createContext(null);t.Z=n},33467:function(e,t,r){"use strict";r.d(t,{Z:function(){return he}});var n=r(33814),o=r(44102),i=r(20775),a=r(85893),s=r(26265),c=r(74047),u=r(52700),l=r(67294),d=r(71371);var f=function(e,t,r,n){return function(o){return function(i){return function(a){i(a);var s=o.getState();if(s)for(var c=s.plugins,u=Object.keys(c),l=function(){var i=f[d];if(a.pud&&a.pud!==i)return"continue";var c=s.plugins[i];if(c.broken)return"continue";var u=c.type,l=r[u];if(l)try{var p=l(t,i,a);if(p){var h=e(i).dispatch(p);h&&"object"===typeof h&&"function"===typeof h.catch&&h.catch((function(e){o.dispatch({type:"PLUGIN_BROKE",pud:i,message:e.toString()}),n({error:e,pluginType:u,source:"receiver",pud:i})}))}}catch(g){o.dispatch({type:"PLUGIN_BROKE",pud:i,message:g.toString()}),n({error:g,pluginType:u,source:"receiver",pud:i})}},d=0,f=u;d<f.length;d++)l()}}}},p=r(28140),h=r(69762);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===r.length)return t;var n=(0,h.Z)(r),o=n[0],i=n.slice(1);return e(t[o],i)},b=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(0===r.length)return n;var o=(0,h.Z)(r),i=o[0],a=o.slice(1);return Array.isArray(t)?(t[i]=e(t[i],a,n),t):v(v({},t),{},(0,s.Z)({},i,e(t[i],a,n)))};var y=function(e,t,r){function n(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;for(var i in n)if(!o.pud||o.pud===i){var a=n[i];if(!a.broken){var c=t[a.type];if(c)if("PLUGIN_BROKE"!==o.type){var u=void 0;try{u=c(a.state,v(v({},o),{},{wid:e}))}catch(l){n=v(v({},n),{},(0,s.Z)({},i,v(v({},a),{},{broken:!0,errorMessage:l.toString()}))),r({error:l,pluginType:a.type,source:"reducer",pud:i});continue}u!==a.state&&(n=v(v({},n),{},(0,s.Z)({},i,v(v({},a),{},{state:u}))))}else n=v(v({},n),{},(0,s.Z)({},i,v(v({},a),{},{broken:!0,errorMessage:o.message})))}}return n}function o(e,t){switch(t.type){case"UPDATE_LAYOUT":return v(v({},e),b(e,t.path.concat(t.property||[]),t.to));case"SET_ACTIVE_TAB":return v(v({},e),b(e,t.path.concat("active"),t.tabIndex));case"SET_SPLIT_POSITION":return v(v({},e),b(e,t.path.concat("position"),t.position));case"NEW_TAB":if("tabs"!==m(e,t.path.concat("type"))){var n=new Error("trying to add tab to non tab component");return r({error:n,pluginType:"layout",pud:null,source:"reducer"}),e}var o=v(v({},e),b(e,t.path.concat("tabs"),[].concat((0,p.Z)(m(e,t.path.concat("tabs"))),[t.layout])));if(!t.setActiveTab)return o;var i=m(o,t.path.concat("tabs")).findIndex((function(e){return e.pud===t.layout.pud}));return v(v({},o),b(o,t.path.concat("active"),i));case"CLOSE_TAB":var a=m(e,t.path.concat("tabs")),c=t.tabIndex||a.findIndex((function(e){return e.pud===t.tabPud}));if(!a[c]){var u=new Error("trying to remove nonexistent tab");return r({error:u,pluginType:"layout",pud:null,source:"reducer"}),e}var l=m(e,t.path.concat("active")),d=l===c?Math.max(l-1,0):l,f=v(v({},e),b(e,t.path.concat("active"),d));return v(v({},f),b(f,t.path.concat("tabs"),(0,p.Z)(a.slice(0,c).concat(a.slice(c+1)))));case"LOAD_PLUGIN":return v(v({},e),{},{pluginTitles:v(v({},e.pluginTitles),{},(0,s.Z)({},t.pluginPud,t.title))});default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{plugins:{},layout:{}},r=arguments.length>1?arguments[1]:void 0,i=n(e.plugins,r);i!==e.plugins&&(e=v(v({},e),{},{plugins:i}));var a=o(e.layout,r);switch(a!==e.layout&&(e=v(v({},e),{},{layout:a})),r.type){case"OPEN_FILE":return v(v({},e),{},{activeFile:r.path});case"MOVE_FILE":return e.activeFile===r.path?v(v({},e),{},{activeFile:r.to}):e;case"LOAD_PLUGIN":var c=t[r.pluginType];c||(c=function(e,t){});var u=r.initialState||{},l=c(void 0,{type:"@@INIT",initialState:u});return v(v({},e),{},{plugins:v(v({},e.plugins),{},(0,s.Z)({},r.pluginPud,{type:r.pluginType,state:l,isClosable:r.isClosable,isDraggable:r.isDraggable}))});case"UNLOAD_PLUGIN":return v(v({},e),{},{plugins:Object.keys(e.plugins).reduce((function(t,n){return n!==r.pud?v(v({},t),{},(0,s.Z)({},n,e.plugins[n])):t}),{})});default:return e}}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WORKSPACE":return t.state;case"CREATE_WORKSPACE":return{layout:t.layout,plugins:n(void 0,t),activeFile:t.activeFile};default:return i(e,t)}}},w=r(32292),x=r(13112),E=r(14795),k=function(e){var t={strokeMiterlimit:10,fill:"none",stroke:e.color,strokeWidth:1};return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:(0,a.jsxs)("g",{children:[(0,a.jsx)("line",{style:t,x1:"3",y1:"3",x2:"13",y2:"13"}),(0,a.jsx)("line",{style:t,x1:"13",y1:"3",x2:"3",y2:"13"})]})})};function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=function(e){var t=e.onClick,r=e.onMouseDown,n=e.Icon,o=e.color,i=e.style;return(0,a.jsx)("button",{onClick:t,onMouseDown:r,style:S({color:"var(--foreground-default)",backgroundColor:"transparent",border:"none",cursor:"pointer",margin:"0",outline:"none",padding:"0"},i),children:(0,a.jsx)(n,{color:o})})},Z=function(e){var t=e.color;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 8.467 10.583",children:(0,a.jsx)("path",{d:"M4.233.684L2.988 1.93l.374.374.607-.607V3.97H1.697l.607-.607-.374-.374L.684 4.233 1.93 5.48l.374-.374-.607-.607H3.97V6.77l-.607-.607-.374.374 1.245 1.245L5.48 6.537l-.374-.374-.607.607V4.498H6.77l-.607.607.374.374 1.245-1.246-1.245-1.245-.374.374.607.607H4.498V1.697l.607.607.374-.374z",fill:t,"white-space":"normal",overflow:"visible"})})},P={height:"12px",width:"12px",margin:"0 4px"},C=function(e){var t=e.isTabbed,r=e.isClosable,n=e.isDraggable,o=e.HeaderPlugin,i=e.onClose,s=e.onDrag;return(0,a.jsxs)(l.Fragment,{children:[o,(0,a.jsxs)("div",{style:{alignItems:"center",display:"flex",height:"100%",marginLeft:"auto"},children:[n&&!t&&(0,a.jsx)(j,{Icon:Z,onMouseDown:s,style:P}),r&&!t&&(0,a.jsx)(j,{Icon:k,onClick:i,style:P})]})]})},D=r(80232),I=r(87644);function T(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U=1e5,L=32,F={width:"100%",height:"100%"},B=function(e){return e.getBoundingClientRect()},M=function(e,t){var r=t.px,n=t.pc;return{px:e.px+(r||0),pc:e.pc+(n||0)}},H=function(e,t){return{px:e.px*t,pc:e.pc*t}},G={px:0,pc:0},z=function(e){return{px:e,pc:0}},V=function(e){return{px:0,pc:e}},W=function(e){var t=e.px,r=e.pc;return 0===t&&0===r},X=function e(t,r,n,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{x:G,y:G,w:V(100),h:V(100),p:[]};if("tabs"===o.type){var s=o.active||0;n.push(N(N({},a),{},{h:z(L),tabs:o.tabs.map((function(e){return e.pud||e.type})),active:s}));for(var c=0;c<o.tabs.length;c++)e(t,r,n,N({},o.tabs[c]),i,N(N({},a),{},{p:[].concat((0,p.Z)(a.p),["tabs",c.toString()]),y:M(a.y,z(L)),h:c===s?M(a.h,z(-32)):G,w:c===s?a.w:G}))}if("split"===o.type){var u=void 0===o.position?50:o.position,l=!1;if("undefined"!==typeof o.fixed?l=o.fixed:("undefined"!==typeof o.leftSize||"undefined"!==typeof o.rightSize)&&(l=!0),"undefined"!==typeof o.leftSize&&"undefined"!==typeof o.rightSize)throw new Error("Cannot have both leftSize and rightSize specified");var d=null;if(0===u?d="left":100===u&&(d="right"),o.stacked){var f=!W(a.h)&&!l,h=H(a.h,u/100);o.rightSize?h=M(a.h,z(-o.rightSize)):o.leftSize?h=z(o.leftSize):"left"===d||W(a.h)?h=G:"right"===d&&(h=M(h,z(-8))),e(t,r,n,o.left,i,N(N({},a),{},{p:[].concat((0,p.Z)(a.p),["left"]),h:h}));var g=M(a.y,H(a.h,u/100));o.rightSize?g=M(a.y,h):o.leftSize?g=M(a.y,z(o.leftSize)):"left"===d?g=a.y:"right"===d&&f&&(g=M(g,z(-8)));var v=H(a.h,(100-u)/100);o.rightSize?v=z(o.rightSize):o.leftSize?v=M(a.h,z(-o.leftSize)):("right"===d||W(a.h))&&(v=G),e(t,r,n,o.right,i,N(N({},a),{},{p:[].concat((0,p.Z)(a.p),["right"]),y:f?M(g,z(8)):g,h:f?M(v,z(-8)):v})),f&&r.push(N(N({},a),{},{y:g,snapped:d,h:z(8),stacked:o.stacked}))}else{var m=!W(a.w)&&!l,b=H(a.w,u/100);o.rightSize?b=M(a.w,z(-o.rightSize)):o.leftSize?b=z(o.leftSize):"left"===d||W(a.w)?b=G:"right"===d&&(b=M(b,z(-8))),e(t,r,n,o.left,i,N(N({},a),{},{p:[].concat((0,p.Z)(a.p),["left"]),w:b}));var y=M(a.x,H(a.w,u/100));"left"===d?y=a.x:o.rightSize?y=M(a.x,b):o.leftSize?y=M(a.x,z(o.leftSize)):"right"===d&&(y=M(y,z(-8)));var w=H(a.w,(100-u)/100);o.rightSize?w=z(o.rightSize):o.leftSize?w=M(a.w,z(-o.leftSize)):("right"===d||W(a.w))&&(w=G),e(t,r,n,o.right,i,N(N({},a),{},{p:[].concat((0,p.Z)(a.p),["right"]),x:m?M(y,z(8)):y,w:m?M(w,z(-8)):w})),m&&r.push(N(N({},a),{},{x:y,snapped:d,w:z(8),stacked:o.stacked}))}}if("pane"===o.type){var x=o.header,k=o.pud,O=i[k]||{isDraggable:!1,isClosable:!1},S=E.JU(a.p),j=x||!S&&(O.isClosable||O.isDraggable),Z=j?x&&x.height||32:0;t.push({header:j&&{pud:x&&x.pud,p:N(N({},a),{},{h:z(Z)})},pud:k,p:N(N({},a),{},{y:M(a.y,z(Z)),h:M(a.h,z(-Z))}),isDraggable:O.isDraggable,isClosable:O.isClosable})}},Y=function(e){var t,r,n,o=e.stacked,i=e.onMouseDown,c=e.snapped,u=e.style,l=te(),d=(0,w.Z)(l,2),f=d[0],p=d[1],h=f?"var(--outline-default)":"var(--outline-dimmest)";c?(r="left"===c?o?"translate(0px, -2px) rotate(135deg)":"translate(-2px, 0px) rotate(45deg)":o?"translate(0px, 2px) rotate(-45deg)":"translate(2px, 0px) rotate(-135deg)",t={width:6,height:6,borderRight:"solid 1px ".concat(h),borderTop:"solid 1px ".concat(h),transition:"0.1s background-color",transform:r}):(n={backgroundColor:h,borderRadius:"var(--border-radius-4)"},(0,s.Z)(n,o?"height":"width",2),(0,s.Z)(n,o?"width":"height",25),(0,s.Z)(n,"transition","0.1s background-color"),t=n);return(0,a.jsx)("div",N(N({},p),{},{onMouseDown:i,onTouchStart:i,style:N({position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",flex:"1 0 auto",overflow:"hidden",borderRadius:"var(--border-radius-4)",background:"var(--background-root)",cursor:o?"row-resize":"col-resize",zIndex:1},u),children:(0,a.jsx)("div",{style:t})}))},q=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(0===r.length)return n;var o=(0,h.Z)(r),i=o[0],a=o.slice(1);return Array.isArray(t)?(t[i]=e(t[i],a,n),t):N(N({},t),{},(0,s.Z)({},i,e(t[i],a,n)))},J=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===r.length)return t;var n=(0,h.Z)(r),o=n[0],i=n.slice(1);return e(t[o],i)},K=function(e){(0,n.Z)(r,e);var t=A(r);function r(){var e;(0,c.Z)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={protectEvents:!1,newLayout:null,debug:!1,dragging:null,resizing:null,layout:e.props.store.getState().layout,plugins:e.props.store.getState().plugins},e.getPluginComponent=function(t,r){var n=e.state.plugins[r],o=e.props,i=o.pluginComponents,s=o.wid,c=null;return c=n?n.broken?(0,a.jsx)(Q,{handleError:function(t){return e.handleError({error:t,pluginType:n.type,source:"component",pud:r})},message:n.errorMessage||"Plugin broken with no error :/"}):(c=i[n.type])?(0,a.jsx)(c,{wid:s,pud:r,dimensions:e.getPluginDims(r,{w:t.w,h:t.h}),style:F}):(0,a.jsx)(Q,{handleError:function(t){return e.handleError({error:t,pluginType:n.type,source:"component",pud:r})},message:"No plugin component by the name ".concat(r)}):(0,a.jsx)(Q,{handleError:function(t){return e.handleError({error:t,pluginType:"none",source:"component",pud:r})},message:"No known plugin by the name ".concat(r)})},e.onResizerDown=function(t,r,n){var o=t.target;e.setState({protectEvents:!0,resizing:{stacked:n}}),t.preventDefault(),t.stopPropagation();var i=0;!function t(r,o){if("pane"===r.type){var a=e.nodes[o.join(".")].ref;if(!a)return;i+=n?B(a).height:B(a).width}else if("split"===r.type)r.stacked===n?(t(r.left,[].concat((0,p.Z)(o),["left"])),t(r.right,[].concat((0,p.Z)(o),["right"]))):t(r.left,[].concat((0,p.Z)(o),["left"]));else if("tabs"===r.type){var s=r.active||0;t(r.tabs[s],[].concat((0,p.Z)(o),["tabs",s.toString()]))}}(J(e.state.layout,["tiling"].concat((0,p.Z)(r))),r),i+=8;var a=n?B(o).top:B(o).left,s=J(e.state.layout,["tiling"].concat((0,p.Z)(r),["position"]));"number"!==typeof s&&(s=50);var c=function(t){t.preventDefault(),t.stopPropagation();var o,c=t.touches?t.touches[0]:t,u=(n?c.pageY:c.pageX)-a,l=i*(s/100)+u;o=l>i-32?100:l<32?0:l/i*100,e.setState({newLayout:q(e.state.layout,["tiling"].concat((0,p.Z)(r),["position"]),o)})},u=function t(){document.removeEventListener("touchmove",c),document.removeEventListener("mousemove",c),document.removeEventListener("touchend",t),document.removeEventListener("mouseup",t),e.setState({protectEvents:!1,resizing:null}),null!==e.state.newLayout&&(e.props.store.dispatch({type:"SET_SPLIT_POSITION",position:J(e.state.newLayout,["tiling"].concat((0,p.Z)(r),["position"])),path:["tiling"].concat((0,p.Z)(r))}),e.setState({newLayout:null}))};document.addEventListener("touchmove",c),document.addEventListener("mousemove",c),document.addEventListener("touchend",u),document.addEventListener("mouseup",u)},e.onDrag=function(t,r){t.stopPropagation(),t.preventDefault();var n=t.pageX,o=t.pageY,i=null,a=[];for(var s in e.nodes){var c=e.nodes[s];if(c.ref){var u=B(c.ref),l=u.top,d=u.left,f=u.width,p=u.height,h={p:c.p,x:d,y:l,w:f,h:p,pud:c.pud};c.pud===r?i=h:a.push(h)}}e.setState({protectEvents:!0});var g=function(t){t.preventDefault(),t.stopPropagation();var s,c=t.pageX,u=t.pageY,l={target:null,side:"bottom",left:c,top:u},d=T(a);try{for(d.s();!(s=d.n()).done;){var f=s.value;if((e.state.plugins[f.pud]||{}).isDraggable&&(c>f.x&&c<f.x+f.w&&u>f.y&&u<f.y+f.h)){var p=c-f.x,h=f.x+f.w-c,g=u-f.y,v=f.y+f.h-u,m=Math.min(p,h,g,v);l.target=f.pud,m===p?l.side="left":m===h?l.side="right":m===g&&(l.side="top");break}}}catch(w){d.e(w)}finally{d.f()}var b=c-n,y=u-o;l.left=i.x+b,l.top=i.y+y,e.setState({dragging:N({pud:r,width:i.w,height:i.h},l)})};document.addEventListener("mousemove",g),document.addEventListener("mouseup",(function t(){e.state.dragging&&e.state.dragging.target&&e.props.store.dispatch($({pud:r,side:e.state.dragging.side,target:e.state.dragging.target})),e.setState({protectEvents:!1,dragging:null}),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",t)}))},e.nodes={},e.dimMap={},e.getPluginDims=function(t,r){var n=e.dimMap[t];return n&&n.h.pc===r.h.pc&&n.h.px===r.h.px&&n.w.pc===r.h.pc&&n.w.px===r.w.px?n:(e.dimMap[t]=r,r)},e}return(0,u.Z)(r,[{key:"cancelContextMenuIntercept",value:function(e){e.shiftKey&&e.altKey&&e.preventDefault()}},{key:"componentDidMount",value:function(){this.isWeMounted=!0,this.subscribe(),document.addEventListener("contextmenu",this.cancelContextMenuIntercept)}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe(),document.removeEventListener("contextmenu",this.cancelContextMenuIntercept),this.isWeMounted=!1}},{key:"subscribe",value:function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe((function(){var r=t.getState(),n=r.layout,o=r.plugins;e.isWeMounted&&e.setState((function(e){for(var t in e.plugins){if(!o[t])return{layout:n,plugins:o};if(o[t].broken!==e.plugins[t].broken)return{layout:n,plugins:o}}return e.layout===n?null:{layout:n,plugins:o}}))}))}},{key:"shouldComponentUpdate",value:function(e,t){if(this.state!==t)return!0;for(var r in this.props)if(this.props[r]!==e[r])return!0;return!1}},{key:"onMaybeDrag",value:function(e,t){var r=this.state.plugins[t]&&this.state.plugins[t].isDraggable;(e.altKey||e.shiftKey)&&r&&this.onDrag(e,t)}},{key:"closeTabbedPlugin",value:function(e){var t=e.path,r=e.tabIndex,n=e.activeTabIndex;return function(e,o){var i=o().layout,a=E.QK(i,t).tabs,s=a[r].pud;if(e({type:"CLOSE_TAB",path:t,tabIndex:r}),a.length-1===0)e(N({type:"UPDATE_LAYOUT"},E.Od({layout:i,nodePath:t})));else if(r<=n){e({type:"SET_ACTIVE_TAB",tabIndex:Math.max(n-1,0),path:t})}e({type:"PLUGIN_CLOSED",closedPud:s})}}},{key:"closePlugin",value:function(e){var t=e.pud;return function(e,r){var n=r().layout;e(N({type:"UPDATE_LAYOUT"},E.Od({layout:n,pud:t}))),e({type:"PLUGIN_CLOSED",closedPud:t})}}},{key:"getPaneStyles",value:function(e,t){var r=W(t.w)||W(t.h),n=t.p.includes("tabs");return e?{opacity:.75,overflow:"hidden",visibility:r?"hidden":void 0,height:this.state.dragging.height,position:"absolute",left:0,top:0,transform:"translate(".concat(this.state.dragging.left,"px, ").concat(this.state.dragging.top-(t.h.px>0?t.h.px:0),"px)"),width:this.state.dragging.width,zIndex:99999,transition:"opacity 0.2s, max-width 0.2s, max-height 0.2s",maxWidth:"100vw",maxHeight:"100vh"}:{position:"absolute",visibility:r&&!n?"hidden":void 0,display:r&&n?"none":void 0,height:"calc(".concat(t.h.pc,"% + ").concat(t.h.px,"px)"),width:"calc(".concat(t.w.pc,"% + ").concat(t.w.px,"px)"),left:"calc(".concat(t.x.pc,"% + ").concat(t.x.px,"px)"),top:"calc(".concat(t.y.pc,"% + ").concat(t.y.px,"px)"),opacity:"1",transition:"opacity 0.2s, max-width 0.2s, max-height 0.2s",maxWidth:"100vw",maxHeight:"100vh"}}},{key:"render",value:function(){var e=this,t=this.state.newLayout||this.state.layout,r=t.tiling,n=t.floating,o=this.state.plugins,i=[],s=[],c=[];X(i,s,c,r,o);var u="default";return this.state.resizing?u=this.state.resizing.stacked?"row-resize":"col-resize":this.state.dragging&&(u="grabbing"),(0,a.jsxs)("div",{style:{height:"100%",width:"100%",position:"absolute"},children:[i.map((function(t){var r=t.pud,n=t.p,o=t.header,i=t.isClosable,s=t.isDraggable,c=e.state.plugins[r]||{},u=e.state.plugins[o&&o.pud]||{},d=o&&o.p.h.px,f=o&&o.pud&&(0,a.jsx)(Q,{handleError:function(t){return e.props.handleError({error:t,pluginType:u.type,source:"component",pud:r})},message:u.broken?u.errorMessage:void 0,children:(0,a.jsx)(x.zt,{store:e.props.classicStoreFor(r),children:e.getPluginComponent(o.p,o.pud)})}),p=e.state.dragging&&e.state.dragging.pud===r;return(0,a.jsxs)(l.Fragment,{children:[o&&(0,a.jsx)("div",{className:"WHO AM  I??",style:N(N({},e.getPaneStyles(p,o.p)),{},{backgroundColor:"var(--background-default)",color:"var(--foreground-default)",height:"".concat(d,"px"),alignItems:"center",display:"flex",justifyContent:"spaceBetween"}),children:(0,a.jsx)(C,{HeaderPlugin:f,isClosable:i,isDraggable:s,isTabbed:E.JU(n.p),onClose:function(){e.props.store.dispatch(e.closePlugin({pud:r}))},onDrag:function(t){return e.onDrag(t,r)}})}),(0,a.jsxs)("div",{ref:function(t){return e.nodes[n.p.join(".")]={ref:t,p:n,pud:r}},style:N(N({},e.getPaneStyles(p,n)),{},{borderRadius:"var(--border-radius-4)",boxShadow:p?"var(--shadow-2)":"none"}),onMouseDown:function(t){return e.onMaybeDrag(t,r)},children:[e.state.debug?(0,a.jsxs)("div",{style:{backgroundColor:"hsl(".concat(r.split("").map((function(e){return e.charCodeAt(0)})).reduce((function(e,t){return e+t})),", 50%, 50%)"),width:"100%",height:"100%",border:"inset 5px"},children:[r,(0,a.jsxs)("pre",{children:["x: ","calc(".concat(n.x.pc,"% + ").concat(n.x.px,"px)"),(0,a.jsx)("br",{}),"y: ","calc(".concat(n.y.pc,"% + ").concat(n.y.px,"px)"),(0,a.jsx)("br",{}),"w: ","calc(".concat(n.w.pc,"% + ").concat(n.w.px,"px)"),(0,a.jsx)("br",{}),"h: ","calc(".concat(n.h.pc,"% + ").concat(n.h.px,"px)"),(0,a.jsx)("br",{}),"p: ",n.p.join(" ")]})]}):(0,a.jsx)(Q,{handleError:function(t){return e.props.handleError({error:t,pluginType:c.type,source:"component",pud:r})},message:c.broken?c.errorMessage:void 0,children:(0,a.jsx)(x.zt,{store:e.props.classicStoreFor(r),children:e.getPluginComponent(n,r)})}),e.state.dragging&&e.state.dragging.target===r?(0,a.jsx)("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,background:"rgba(127, 127, 127, 0.6)",transition:"transform 0.2s",transformOrigin:"top left",transform:"translate(".concat("right"===e.state.dragging.side?"50%":0,", ").concat("bottom"===e.state.dragging.side?"50%":0,") ").concat("left"===e.state.dragging.side||"right"===e.state.dragging.side?"scaleX(.5)":"scaleY(.5)")}}):null]})]},r)})),this.state.protectEvents&&(0,a.jsx)("div",{style:{zIndex:U,position:"absolute",top:0,bottom:0,left:0,right:0,cursor:u}}),s.map((function(t,r){var n=t.x,o=t.y,i=t.w,s=t.h,c=t.p,u=t.snapped,l=t.stacked;return(0,a.jsx)(Y,{onMouseDown:function(t){return e.onResizerDown(t,c,l)},snapped:u,stacked:l,style:{left:"calc(".concat(n.pc,"% + ").concat(n.px,"px)"),top:"calc(".concat(o.pc,"% + ").concat(o.px,"px)"),width:"calc(".concat(i.pc,"% + ").concat(i.px,"px)"),height:"calc(".concat(s.pc,"% + ").concat(s.px,"px)")}},r)})),c.map((function(t,r){var n=t.x,o=t.y,i=t.w,s=t.h,c=t.p,u=t.tabs,l=t.active;return(0,a.jsx)(ee,{tabsMetadata:u.map((function(t){if("split"===t){var n=J(e.state.layout,["tiling"].concat((0,p.Z)(c),["tabs"]))[r];t=n.left.pud||n.right.pud}return{title:e.state.layout.pluginTitles[t]||"untitled",isClosable:e.state.plugins[t]&&e.state.plugins[t].isClosable}})),active:l,setActive:function(t){return e.props.store.dispatch((function(e,r){var n=r(),o=["tiling"].concat((0,p.Z)(c)),i=J(n.layout,o.concat("tabs"))[t].pud;"shell"===i&&(0,I.track)(I.events.SHELL_OPENED),(0,I.track)(I.events.WS_TAB_CLICKED,{index:t,pud:i}),e({type:"SET_ACTIVE_TAB",tabIndex:t,path:o})}))},close:function(t){var r=["tiling"].concat((0,p.Z)(c));e.props.store.dispatch(e.closeTabbedPlugin({path:r,tabIndex:t,activeTabIndex:l}))},style:{position:"absolute",left:"calc(".concat(n.pc,"% + ").concat(n.px,"px)"),top:"calc(".concat(o.pc,"% + ").concat(o.px,"px)"),width:"calc(".concat(i.pc,"% + ").concat(i.px,"px)"),height:"calc(".concat(s.pc,"% + ").concat(s.px,"px)")}},r)})),n.map((function(t){if(!e.state.plugins[t])return(0,a.jsx)(Q,{handleError:function(r){return e.props.handleError({error:r,pluginType:e.state.plugins[t].type,source:"component",pud:t})},message:"No plugin by the name ".concat(t)},t);var r=e.props.pluginComponents[e.state.plugins[t].type];return r?(0,a.jsx)(Q,{handleError:function(r){return e.props.handleError({error:r,pluginType:e.state.plugins[t].type,source:"component",pud:t})},children:(0,a.jsx)(x.zt,{store:e.props.classicStoreFor(t),children:(0,a.jsx)(r,{wid:e.props.wid,pud:t},t)})},t):(0,a.jsx)(Q,{handleError:function(r){return e.props.handleError({error:r,pluginType:e.state.plugins[t].type,source:"component",pud:t})},message:"No component found for plugin by the name ".concat(t)},t)}))]})}}]),r}(l.Component);function $(e){var t=e.pud,r=e.side,n=e.target;return function(e,o){var i=o().layout,a=E.Bp(i,t),s=E.QK(i,a);e(N({type:"UPDATE_LAYOUT"},E.Od({layout:i,pud:t}))),i=o().layout;var c=E.Bp(i,n);if(c){E.JU(c)&&(c=E.Il(c));var u="leftOf";"right"===r?u="rightOf":"top"===r?u="above":"bottom"===r&&(u="below"),e(N({type:"UPDATE_LAYOUT"},E.$T(i,s.pud,u,c,{position:50})))}}}var Q=function(e){(0,n.Z)(r,e);var t=A(r);function r(){var e;(0,c.Z)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={hasError:!!e.props.message,error:new Error(e.props.message)},e}return(0,u.Z)(r,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,info:t}),this.props.handleError(e)}},{key:"render",value:function(){return this.state.hasError?(0,a.jsxs)("div",{style:{background:"red",color:"white",width:"100%",height:"100%",padding:"0",margin:"0",overflow:"hidden"},children:[(0,a.jsx)("h1",{children:"This Plugin Crashed!"}),this.state.info&&(0,a.jsx)("pre",{children:this.state.info.componentStack||JSON.stringify(this.state.info)}),this.state.error&&(0,a.jsx)("pre",{children:this.state.error.toString()})]}):this.props.children||null}}]),r}(l.Component);function ee(e){var t=e.active,r=void 0===t?0:t,n=e.setActive,o=void 0===n?function(){}:n,i=e.close,s=void 0===i?function(){}:i,c=e.tabsMetadata,u=e.style;return(0,a.jsx)("div",{style:u,children:(0,a.jsx)("div",{style:{height:L,fontFamily:"'IBM Plex Sans', sansSerif",backgroundColor:"var(--background-root)",display:"flex",alignItems:"flex-end",position:"relative",zIndex:3},children:c.map((function(e,t){return(0,a.jsx)(ne,{title:e.title,isClosable:e.isClosable,onClose:function(){return s(t)},onClick:function(){return o(t)},isActive:t===r},t)}))})})}function te(){var e=l.useState(!1),t=(0,w.Z)(e,2),r=t[0],n=t[1];return[r,{onMouseEnter:function(){n(!0)},onMouseLeave:function(){n(!1)}}]}function re(e){var t=e.isHovering,r=e.isActive;return N(N({height:"100%",boxSizing:"border-box",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",padding:"var(--space-8)",backgroundColor:"var(--background-root)",color:"var(--foreground-dimmer)",fontSize:"var(--font-size-default)",fontFamily:"var(--font-family-default)",borderTopRightRadius:"var(--border-radius-4)",borderTopLeftRadius:"var(--border-radius-4)",cursor:"pointer",transition:"0.2s background-color"},t?{backgroundColor:"var(--background-root)",color:"var(--foreground-default)"}:{}),r?{backgroundColor:"var(--background-default)",color:"var(--foreground-default)"}:{})}function ne(e){var t=e.isActive,r=e.onClick,n=e.title,o=e.isClosable,i=e.onClose,s=te(),c=(0,w.Z)(s,2),u=c[0],l=c[1];return(0,a.jsx)("div",N(N({},l),{},{style:re({isHovering:u,isActive:t}),onClick:r,children:(0,a.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[(0,D.Qs)(n),o&&(0,a.jsx)(j,{onClick:function(e){e.stopPropagation(),i()},Icon:k,style:{height:"8px",width:"8px",padding:0,marginLeft:"7px"}})]})}))}var oe=K,ie=r(50630),ae=r(25108);function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}function ce(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ue(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fe=function(e){return function(t){return function(r){return"function"===typeof r?r(e.dispatch,e.getState):t(r)}}},pe=["activeFile"],he=function(){function e(){var t=this;(0,c.Z)(this,e),this.marshal=function(){var e=t.store.getState();return JSON.stringify(e)},this.unmarshal=function(e){var r=JSON.parse(e);t.store.dispatch({type:"SET_WORKSPACE",state:r})},this.bootstrap=function(e){t.store.dispatch(function(e){var t=e.wid,r=e.config;return function(e){for(var n in e({wid:t,type:"CREATE_WORKSPACE",language:r.language,layout:r.layout,activeFile:r.activeFile}),r.plugins)e(ve({wid:t,pluginPud:n,pluginType:r.plugins[n].type,title:r.plugins[n].title,initialState:r.plugins[n].state,isClosable:r.plugins[n].isClosable,isDraggable:r.plugins[n].isDraggable}))}}({config:e}))},this.register=function(e,r){t.reducers[e]=r.reducer,t.recievers[e]=r.reciever||r.receiver,t.components[e]=r.Component},this.yikesInjectStore=function(e){t.yikesExtraStore=e},this.injectServices=function(e){t.services=e},this.handleError=function(e){var r=e.error,n=e.pluginType,o=e.source,i=e.pud;if(0===t.errorHandlers.length)return ae.error("Plugin with type ",n," errored in ",o," error is: "),void ae.error(r);t.errorHandlers.forEach((function(e){return e({error:r,pluginType:n,source:o,pud:i})}))},this.registerErrorHandler=function(e){return t.errorHandlers.push(e),function(){t.errorHandlers=t.errorHandlers.filter((function(t){return t!==e}))}},window.performance.clearMarks("create-workspace"),window.performance.mark("create-workspace"),this.wid=""+Math.random(),this.reducers={},this.recievers={},this.components={},this.pluginStores={},this.yikesExtraStore={getState:function(){return{}},subscribe:function(){return function(){}},dispatch:function(){}},this.errorHandlers=[];var r=[];this.govalConnectionStarted=null,this.classicStoreFor=function(e){var o={};if(t.pluginStores[e])return t.pluginStores[e];var i=t,c={getState:function(){return{get user(){return o.user=!0,i.yikesExtraStore.getState().user},get banners(){return o.banners=!0,i.yikesExtraStore.getState().banners},get replEnvironment(){return o.replEnvironment=!0,i.yikesExtraStore.getState().replEnvironment},get repls(){throw new Error("Please use repl shared reducer")},get replsByUrl(){throw new Error("Please use repl shared reducer")},get replsByUser(){throw new Error("Please use repl shared reducer")},get files(){throw new Error("Please use files shared reducer")},get messages(){return o.messages=!0,i.yikesExtraStore.getState().messages},get plans(){return o.plans=!0,i.yikesExtraStore.getState().plans},workspace:(0,s.Z)({},t.wid,t.store.getState()),get services(){return i.services}}},subscribe:function(r){var n={},i={},a=pe.reduce((function(e,r){return e[r]=t.store.getState()[r],e}),{});return t.store.subscribe((function(){var s=t.store.getState().plugins[e];if(s!==n)return n=s,void r();var c=!1,u=t.yikesExtraStore.getState();for(var l in o)u[l]!==i[l]&&(i[l]=u[l],c=!0);var d=t.store.getState();for(var f in a)d[f]!==a[f]&&(a[f]=d[f],c=!0);c&&r()}))},dispatch:function(o){if(o.type){var i={};o.path&&(i={path:o.path}),d.n_({category:"redux",message:"workspace action",data:de({type:o?o.type:null},i)})}if(o.wid||"function"===typeof o){var s,c=fe(t.classicStoreFor(e))(n(u)(a))(o),l=ce(r);try{for(l.s();!(s=l.n()).done;){s.value.cb()}}catch(f){l.e(f)}finally{l.f()}return c}return t.yikesExtraStore.dispatch(o)}};return t.pluginStores[e]=c,c};var n=f(this.classicStoreFor,this.wid,this.recievers,this.handleError),o=y(this.wid,this.reducers,this.handleError),i=o(void 0,{type:"@@INIT"}),a=function(e){i=o(i,e)},u={getState:function(){return i},subscribe:function(e){var t=function e(){r=r.filter((function(t){return t.unsub!==e}))};return r.push({cb:e,unsub:t}),t},dispatch:function(e){if(e.type){var t={};e.path&&(t={path:e.path}),d.n_({category:"redux",message:"workspace action",data:de({type:e?e.type:null},t)})}var o,i=fe(u)(n(u)(a))(e),s=ce(r);try{for(s.s();!(o=s.n()).done;){o.value.cb()}}catch(c){s.e(c)}finally{s.f()}return i}};window.store=u,this.store=u}return(0,u.Z)(e,[{key:"component",value:function(){var e=this;return function(){return(0,a.jsx)(ie.Z.Provider,{value:e.wid,children:(0,a.jsx)(ge,{store:e.store,classicStoreFor:e.classicStoreFor,wid:e.wid,pluginComponents:e.components,handleError:e.handleError,govalConnectionStarted:e.govalConnectionStarted})})}}}]),e}(),ge=function(e){(0,n.Z)(r,e);var t=se(r);function r(){return(0,c.Z)(this,r),t.apply(this,arguments)}return(0,u.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props.govalConnectionStarted;if(e){var t=window.performance.now()-e;(0,I.track)(I.events.GOVAL_TIME_TO_CONNECT,{time:t})}this.props.store.dispatch({type:"WORKSPACE_MOUNTED"})}},{key:"componentWillUnmount",value:function(){this.props.store.dispatch({type:"WORKSPACE_WILL_UNMOUNT"})}},{key:"render",value:function(){return(0,a.jsx)("div",{style:{height:"100%",position:"relative",display:"flex"},children:(0,a.jsx)(oe,{wid:this.props.wid,store:this.props.store,classicStoreFor:this.props.classicStoreFor,pluginComponents:this.props.pluginComponents,handleError:this.props.handleError})})}}]),r}(l.Component);function ve(e){var t=e.wid,r=e.pluginPud,n=e.pluginType,o=e.title,i=e.initialState,a=e.isClosable,s=void 0!==a&&a,c=e.isDraggable;return{type:"LOAD_PLUGIN",wid:t,pluginPud:r,pluginType:n,title:o,initialState:i,isClosable:s,isDraggable:void 0!==c&&c}}},14795:function(e,t,r){"use strict";r.d(t,{e$:function(){return l},$T:function(){return g},Od:function(){return v},PP:function(){return f},Bp:function(){return u},Jz:function(){return p},cV:function(){return h},i3:function(){return b},QK:function(){return m},Il:function(){return y},J9:function(){return w},JU:function(){return x}});var n=r(28140),o=r(69762),i=r(26265);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if("split"===e.type){var r=c(e.left,t);if(r)return["left"].concat(r);var n=c(e.right,t);if(n)return["right"].concat(n)}else if("tabs"===e.type)for(var o=0;o<e.tabs.length;o++){var i=c(e.tabs[o],t);if(i)return["tabs",o].concat(i)}else if("pane"===e.type&&e.pud===t)return[];return null}function u(e,t){for(var r=0;r<e.floating.length;r++)if(e.floating[r]===t)return["floating",r];var n=c(e.tiling,t);return n?["tiling"].concat(n):null}function l(e,t){return!!u(e,t)}function d(e,t,r){if("split"===e.type){var n=d(e.left,t,r);if(n)return["left"].concat(n);var o=d(e.right,t,r);if(o)return["right"].concat(o)}else if("tabs"===e.type)for(var i=0;i<e.tabs.length;i++){var a=d(e.tabs[i],t,r);if(a)return["tabs",i].concat(a)}else if("pane"===e.type){if(t[e.pud].type===r)return[];if(e.header&&t[e.header.pud].type===r)return["header"]}return null}function f(e,t,r){var n=d(e.tiling,t,r);return n?["tiling"].concat(n):null}function p(){return["tiling"]}function h(){return["floating"]}function g(e,t,r,n,o){if("inside"===r){if(1!==n.length||"floating"!==n[0])throw new Error("position 'inside' should only be used for the path ['floating']");return o&&o.once&&e.floating.includes(t)?{path:["floating"],to:e.floating}:{path:["floating"],to:e.floating.concat(t)}}var i={type:"split"};if("undefined"!==typeof o?"undefined"!==typeof o.position?i=s(s({},i),{},{fixed:!!o.fixed,position:o.position||50}):"undefined"!==typeof o.leftSize?i=s(s({},i),{},{leftSize:o.leftSize}):"undefined"!==typeof o.rightSize&&(i=s(s({},i),{},{rightSize:o.rightSize})):i=s(s({},i),{},{fixed:!1,position:50}),"leftOf"===r)i=s(s({},i),{},{stacked:!1,right:m(e,n),left:{type:"pane",pud:t}});else if("rightOf"===r)i=s(s({},i),{},{stacked:!1,right:{type:"pane",pud:t},left:m(e,n)});else if("above"===r)i=s(s({},i),{},{stacked:!0,left:{type:"pane",pud:t},right:m(e,n)});else{if("below"!==r)throw new Error("unsupported new plugin type");i=s(s({},i),{},{stacked:!0,right:{type:"pane",pud:t},left:m(e,n)})}return{path:n.map((function(e){return e.toString()})),to:i}}function v(e,t){var r,n=u(e,t);if(!n)return{path:["tiling"],to:e.tiling};if("floating"===n[0]){var o=e.floating.indexOf(t);return{path:["floating"],to:e.floating.slice(0,o).concat(e.floating.slice(o+1))}}if("split"!==m(e,n.slice(0,-1)).type)throw new Error("remove only supports splits right now");return r="left"===n[n.length-1]?"right":"left",{path:n.slice(0,-1).map((function(e){return e.toString()})),to:m(e,n.slice(0,-1).concat(r))}}var m=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(0===r.length)return t;var n=(0,o.Z)(r),i=n[0],a=n.slice(1);return e(t[i],a)};function b(e,t){return e.length!==t.length&&(e=e.slice(0,t.length),t=t.slice(0,e.length)),e.join()===t.join()?e:0===e.length?null:b(e.slice(0,-1),t.slice(0,-1))}function y(e){return e.slice(0,-1)}function w(e){return[].concat((0,n.Z)(e.slice(0,-1)),["left"===e[e.length-1]?"right":"left"])}function x(e){return"tabs"===e.slice(0,-1).pop()}},41662:function(e,t,r){"use strict";r.d(t,{Z:function(){return o},J:function(){return i}});var n=r(13112);function o(e,t,r,n){var o=e.workspace[t].plugins[r];if(o.type!==n)throw new Error("expected type to be "+n);return o.state}function i(e,t,r,i){var a=(0,n.v9)((function(n){return o(n,e,t,r)}),i),s=(0,n.I0)();return[a,function(r){s({type:"SET_STATE",wid:e,pud:t,state:r})}]}},25267:function(e,t,r){"use strict";function n(e){return e.startsWith("/")?e:null}function o(e){var t=n(e);if(null===t)throw new Error("Expected an absolute path but got ".concat(e));return t}function i(e){return e.startsWith("/home/runner/")?e.split("/").slice(4).join("/"):null}r.d(t,{IT:function(){return n},ZF:function(){return o},om:function(){return i}})},25757:function(e,t,r){"use strict";function n(e,t){if("dev"===e)return!0;if("dev"===t)return!1;for(var r=function(e){var t=[0,0,0];return e.split(".").map(Number).forEach((function(r,n){if("number"!==typeof r||isNaN(r))throw new Error("invalid version: ".concat(e));t[n]=r})),t},n=r(e),o=r(t),i=0;i<3;i++){if(o[i]>n[i])return!1;if(n[i]>o[i])return!0}return!0}function o(e,t){return!n(e,t)}r.d(t,{H:function(){return n},h:function(){return o}})},35574:function(e,t,r){"use strict";r.d(t,{Z:function(){return V}});var n,o=r(35944),i=r(809),a=r.n(i),s=r(92447),c=r(32292),u=r(65988),l=r(67294),d=r(59137),f=r(45006),p=r(8346),h=r(77935),g=r(2360),v=r(19873),m=r(34834),b=r(28140),y=r(3460),w=r(82790),x=r(37321),E=r(87644),k=r(55877),O=r.n(k);function S(e){return new Promise((function(t,r){var n=new window.FileReader;n.onload=function(n){n.target&&n.target.result?t({name:e.path||e.name,result:y.Z.from(n.target.result)}):r(new Error("Expected target result"))},n.onerror=r,n.readAsArrayBuffer(e)}))}function j(){return(j=(0,s.Z)(a().mark((function e(t){var r,o,i,c,u,l,d,f,p,h,g,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.parentPath,o=t.overwrite,i=t.fs,c=t.files,u=t.shouldUseFileTransferAPI,l=t.onStart,d=t.onUpload,f=t.onError,p=t.onDone,h=function(){var e=(0,s.Z)(a().mark((function e(t){var r,s,c,l,p,h,g,v,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.targetPath,s=t.file,c=t.progress,o){e.next=10;break}return e.next=4,i.stat(r);case 4:if(l=e.sent,!l.exists){e.next=10;break}return p={file:s,path:r,error:n.AlreadyExists},f(p),e.abrupt("return",p);case 10:return h=O()(),g=Date.now(),(0,E.track)(E.events.WS_FILE_UPLOAD_STARTED,{uploadID:h,size:s.size}),v=null,e.prev=14,e.next=17,S(s);case 17:v=e.sent,e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(14),m={file:s,path:r,error:n.FileRead},f(m),e.abrupt("return",m);case 25:if(v){e.next=27;break}throw new Error("Expected fileRead");case 27:if(!u){e.next=32;break}return e.next=30,i.transferFile(r,v.result,(function(e,t){c.current=t/e}));case 30:e.next=34;break;case 32:return e.next=34,i.writeFile(r,v.result);case 34:return(0,E.track)(E.events.WS_UPLOADED_FILE,{uploadID:h,size:s.size,elapsedMillis:Date.now()-g}),d({file:s,path:r}),e.abrupt("return",{path:r,file:s});case 37:case"end":return e.stop()}}),e,null,[[14,20]])})));return function(t){return e.apply(this,arguments)}}(),g=c.map((function(e){var t=e.path||e.webkitRelativePath||e.name;return{targetPath:r?r+"/"+t:t,progress:(0,w.u)(0),file:e}})),l(g),e.next=6,Promise.all(g.map(h));case 6:v=e.sent,p({parentPath:r,uploads:v.filter((function(e){return!("error"in e)})),errors:v.reduce((function(e,t){return"error"in t?[].concat((0,b.Z)(e),[t]):e}),[])});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){var t=e.fs,r=e.onDone,n=l.useState([]),o=(0,c.Z)(n,2),i=o[0],a=o[1],s=l.useRef(r);l.useEffect((function(){s.current=r}),[r]);var u=(0,x.Z)("flag-transfer-files");return{uploadFiles:l.useCallback((function(e){var r=e.parentPath,n=e.files;!function(e){j.apply(this,arguments)}({overwrite:e.overwrite,parentPath:r,files:n.filter(Boolean),fs:t,shouldUseFileTransferAPI:u,onStart:function(e){return a((function(t){return[].concat((0,b.Z)(t),(0,b.Z)(e))}))},onUpload:function(e){a((function(t){return t.filter((function(t){return t.targetPath!==e.path}))}))},onError:function(e){a((function(t){return t.filter((function(t){return t.targetPath!==e.path}))}))},onDone:function(e){s.current&&s.current(e)}})}),[t,a,u]),pendingUploads:i}}!function(e){e.AlreadyExists="ALREADY_EXIST",e.FileRead="FILE_READ",e.Network="NETWORK"}(n||(n={}));var P=r(1887);function C(){var e=(0,p.Z)().session,t=l.useState(e.getAreConfigFilesVisible()),r=(0,c.Z)(t,2),n=r[0],o=r[1];return l.useEffect((function(){return o(e.getAreConfigFilesVisible()),e.onConfigFileVisibilityToggled(o)}),[e]),n}function D(e){var t=e.uploadFiles,r=e.onDownloadZip,n=l.useRef(null),i=l.useRef(null),a=C(),s=(0,p.Z)().session,c=l.useMemo((function(){if("undefined"===typeof document)return[];var e=document.createElement("input"),t="webkitdirectory"in e||"mozdirectory"in e||"msdirectory"in e||"odirectory"in e||"directory"in e,r=[P.s.UploadFile];return t&&r.push(P.s.UploadFolder),r.push(P.s.DownloadZip),r.push(a?P.s.HideConfigFiles:P.s.ShowConfigFiles),r}),[a]);return(0,o.BX)(o.HY,{children:[(0,o.tZ)("input",{ref:n,type:"file",onChange:function(e){var r=e.target.files;r&&t({files:Array.from(r)})},onClick:function(e){e.currentTarget.value=""},multiple:!0,accept:"*",className:"jsx-880321226"}),(0,o.tZ)("input",{ref:i,type:"file",onChange:function(e){var r=e.target.files;r&&t({files:Array.from(r)})},onClick:function(e){e.currentTarget.value=""},webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true",accept:"*",className:"jsx-880321226"}),(0,o.tZ)(P.Z,{actions:c,onAction:function(e){switch(e){case P.s.UploadFile:if(!n.current)return;return void n.current.click();case P.s.UploadFolder:if(!i.current)return;return void i.current.click();case P.s.DownloadZip:return void r();case P.s.ShowConfigFiles:return void s.setAreConfigFilesVisible(!0);case P.s.HideConfigFiles:s.setAreConfigFilesVisible(!1)}}}),(0,o.tZ)(u.default,{id:"880321226",children:["input.jsx-880321226{display:none;}"]})]})}var I=r(25763),T=r(86842),_=r(95794),A=r(90093),R=r(86718),N=r(62255),U=r(34960),L=r(26228),F=r(28130),B=r(55873),M=r(14692),H=r(51626),G=r(38699),z=r(49822);function V(e){var t=(0,A.Z)().showError,r=(0,M.Z)(),i=l.useState(null),b=(0,c.Z)(i,2),y=b[0],w=b[1],x=(0,p.Z)(),k=x.session,O=x.presence,S=x.fs,j=l.useState(null),P=(0,c.Z)(j,2),V=P[0],W=P[1],X=(0,F.Z)(),Y=C(),q=(0,B.aEG)({variables:{replId:r}}).data,J="Repl"===(null===q||void 0===q?void 0:q.repl.__typename)?q.repl.url:void 0,K="Repl"===(null===q||void 0===q?void 0:q.repl.__typename)?q.repl.language:void 0,$="Repl"===(null===q||void 0===q?void 0:q.repl.__typename)&&q.repl.isProjectFork,Q=l.useCallback((function(){var e=(J||window.location.pathname)+".zip";window.open(e,"_blank")}),[J]),ee=l.useCallback(function(){var e=(0,s.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(t),!t||!V){e.next=7;break}return e.next=4,S.stat(V);case 4:r=e.sent,r.exists||W(X||null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[X,V,S]),te=l.useState(null),re=(0,c.Z)(te,2),ne=re[0],oe=re[1];l.useEffect((function(){X!==V&&W(X)}),[X]);var ie=Z({onDone:function(e){var r=e.parentPath,o=e.errors;if(o.length){var i=o.filter((function(e){return e.error===n.AlreadyExists}));i.length&&oe({parentPath:r,errors:i});var a=o.filter((function(e){return e.error!==n.AlreadyExists}));a.length&&t("There was an error uploading: ".concat(a.map((function(e){return e.path})).join(", ")))}},fs:S}),ae=ie.uploadFiles,se=ie.pendingUploads,ce=(null===K||void 0===K?void 0:K.includes("nix"))&&!Y;return(0,o.tZ)(m.Z,{children:(0,o.tZ)(z.xW,{stepId:G.H.Sidepane,children:(0,o.BX)("div",{className:u.default.dynamic([["1043033293",[e.minHeight?e.minHeight:"auto"]]])+" filetree",children:[(0,o.BX)(I.Ug,{align:"center",wrap:"nowrap",spacing:0,className:"filetree-header",children:[(0,o.tZ)("div",{className:u.default.dynamic([["1043033293",[e.minHeight?e.minHeight:"auto"]]])+" heading",children:(0,o.tZ)(h.Z,{level:4,children:"Files"})}),(0,o.tZ)(N.Z,{border:!1,Icon:U.Z,className:"add-button",textColor:"var(--foreground-dimmer)",backgroundColor:"var(--background-default)",onClick:function(){return ee(d.Tv.File)},"aria-label":"Add file","data-microtip-position":"bottom",role:"tooltip"}),(0,o.tZ)("div",{className:u.default.dynamic([["1043033293",[e.minHeight?e.minHeight:"auto"]]])+" filetree-action-separator"}),(0,o.tZ)(N.Z,{border:!1,Icon:L.Z,className:"add-button",textColor:"var(--foreground-dimmer)",backgroundColor:"var(--background-default)",onClick:function(){return ee(d.Tv.Directory)},"aria-label":"Add folder","data-microtip-position":"bottom",role:"tooltip"}),(0,o.tZ)(D,{uploadFiles:ae,onDownloadZip:Q})]}),(0,o.tZ)(g.Z,{height:1}),(0,o.tZ)(v.Z,{onRename:function(){return null},onDownload:function(){return null},onDelete:function(){return null},onDuplicate:function(){return null},overwriteNode:function(){return null},getNodeType:function(){var e=(0,s.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.readFile(t);case 2:return r=e.sent,e.abrupt("return",r.error===d.Df.IsDirectory?d.Tv.Directory:d.Tv.File);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),siblings:[],onClick:function(){return null},pendingUploads:se,uploadFiles:ae,pendingFileType:y,setPendingFileType:ee,activePath:V,onNodeClick:function(e){var t=e.path,r=e.type,n=e.newTab;if(W(t),r!==d.Tv.Directory){var o=(0,H.r6)(t);(0,E.track)(E.events.WS_FILE_CLICKED,{ext:o}),k.openFile(t,{newTab:n}),O.getFollowedUser()&&O.unfollowUser()}},path:f.Q,transformChildren:K?(0,R.Z)({language:K,shouldHideConfigFiles:ce,isProjectFork:$}):void 0,fs:S}),(0,o.tZ)(T.ZP,{isOpen:Boolean(ne),onRequestClose:function(){return oe(null)},children:ne?(0,o.tZ)(_.Z,{paths:ne.errors.map((function(e){return e.path})),onCancel:function(){return oe(null)},onConfirm:function(){ae({overwrite:!0,parentPath:ne.parentPath,files:ne.errors.map((function(e){return e.file}))}),oe(null)}}):null}),(0,o.tZ)(u.default,{id:"1043033293",dynamic:[e.minHeight?e.minHeight:"auto"],children:[".filetree.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;overflow:hidden;border-top-right-radius:var(--border-radius-4);background-color:var(--background-default);min-height:".concat(e.minHeight?e.minHeight:"auto",";}"),".filetree.__jsx-style-dynamic-selector .filetree-header{padding:var(--space-8);background-color:var(--background-default);position:-webkit-sticky;position:sticky;top:0;}",".filetree-action-separator.__jsx-style-dynamic-selector{height:6px;width:0;border-right:1px solid var(--foreground-dimmest);}",".add-button:hover{color:var(--foreground-default) !important;}",".heading.__jsx-style-dynamic-selector{margin-right:auto;}"]})]})})})}},30414:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});var n=r(35944),o=r(26265),i=r(32292),a=r(65988),s=r(67294),c=r(30135),u=r(13310),l=r(63169),d=r(67193),f=r(52577),p=r(94184),h=r.n(p),g=r(55873),v=r(62255),m=r(98124);function b(e){var t=e.repl,r=e.onCancel,o=e.onLink,c=(0,s.useState)(null),u=c[0],l=c[1],d=(0,g.T9I)(),f=(0,i.Z)(d,2),p=f[0],b=f[1],w=(0,s.useRef)(null),x=(0,s.useState)(""),E=x[0],k=x[1];(0,s.useEffect)((function(){b.data&&"Repl"===b.data.linkReplDomain.__typename&&o()}),[b.data,o]);var O=E.includes(".")&&E.split(".")[0].length>0&&E.split(".")[1].length>0,S=t.hostedUrl.replace(/^https:\/\//,"");return(0,n.BX)("div",{className:"jsx-2066200193 edit-domain",children:[(0,n.tZ)("div",{className:"jsx-2066200193 title",children:"Link An Existing Domain"}),(0,n.BX)("div",{className:"jsx-2066200193 subtitle",children:["Learn more"," ",(0,n.tZ)("a",{href:"https://docs.replit.com/repls/web-hosting#custom-domains",target:"_blank",className:"jsx-2066200193",children:"here"}),"."]}),(0,n.BX)("ol",{className:"jsx-2066200193 steps",children:[(0,n.tZ)("li",{className:"jsx-2066200193",children:(0,n.BX)("div",{className:"jsx-2066200193",children:[(0,n.tZ)("label",{className:"jsx-2066200193",children:"Enter Your Domain:"}),(0,n.tZ)(m.ZP,{disabled:"loading"===u,required:!0,value:E,onChange:function(e){k(e.target.value)},placeholder:"example.com"})]})}),O?(0,n.tZ)("li",{className:"jsx-2066200193",children:(0,n.BX)("div",{className:"jsx-2066200193",children:[(0,n.BX)("div",{className:"jsx-2066200193",children:["Add a ",(0,n.tZ)("code",{className:"jsx-2066200193",children:"CNAME"})," record to your domain pointing at:"]}),(0,n.BX)("div",{className:"jsx-2066200193 cname-url",children:[(0,n.tZ)(m.ZP,{readOnly:!0,ref:w,onChange:function(){return null},value:S,onClick:function(){w.current&&w.current.select()}}),(0,n.tZ)(v.Z,{onClick:function(){w.current&&(w.current.select(),document.execCommand("copy"))},children:"Copy"})]})]})}):null,"loading"===u||"error"===u?(0,n.tZ)("li",{className:"jsx-2066200193",children:(0,n.tZ)("div",{className:"jsx-2066200193",children:(0,n.tZ)(y,{replId:t.id,domain:E,onVerified:function(){return l("verified")},onError:function(){return l("error")}})})}):null,"verified"===u?(0,n.tZ)("li",{className:"jsx-2066200193",children:"Your domain is configured correctly. Linking could take a few minutes. Please don't leave this page."}):null]}),(0,n.BX)("div",{className:"jsx-2066200193 controls",children:[(0,n.tZ)(v.Z,{onClick:r,children:"Close"}),(0,n.tZ)("div",{className:"jsx-2066200193 "+(h()("next",{"show-next":O&&"loading"!==u})||""),children:"verified"===u?(0,n.tZ)(v.Z,{color:"primary",loading:b.loading,onClick:function(){b.loading||p({variables:{replId:t.id,domain:E}})},children:b.loading?"Linking...":"Link Domain"}):(0,n.tZ)(v.Z,{color:"primary",onClick:function(){return l("loading")},children:"Next"})})]}),(0,n.tZ)(a.default,{id:"2066200193",children:[".edit-domain.jsx-2066200193{display:grid;grid-row-gap:var(--space-16);}",".title.jsx-2066200193{font-size:20px;}",".subtitle.jsx-2066200193,.label.jsx-2066200193{font-size:18px;}","li.jsx-2066200193{margin-bottom:var(--space-16);}","li.jsx-2066200193>div.jsx-2066200193{display:grid;grid-row-gap:var(--space-8);}",".cname-url.jsx-2066200193{display:grid;grid-column-gap:var(--space-8);grid-template-columns:1fr auto;}",".controls.jsx-2066200193{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".next.jsx-2066200193{visibility:hidden;}",".next.show-next.jsx-2066200193{visibility:visible;}"]})]})}function y(e){var t,r,o=e.domain,i=e.replId,c=e.onVerified,u=e.onError,l=(0,g.ZUY)({variables:{replId:i,domain:o},pollInterval:1e3}),d=l.data,f=l.stopPolling;return(0,s.useEffect)((function(){if(d&&"Repl"===d.repl.__typename){var e=d.repl;if(e.checkDomain){var t=e.checkDomain,r=t.retry,n=t.verified;n||r?(!n&&r||f(),n&&c()):u()}}}),[d,f,c,u]),"Repl"===(null===d||void 0===d?void 0:d.repl.__typename)&&null!==(t=d.repl.checkDomain)&&void 0!==t&&t.status&&d.repl.checkDomain.retry?(0,n.BX)("div",{className:"jsx-1173750789 verify-domain",children:[(0,n.tZ)("div",{className:"jsx-1173750789 loading"}),(0,n.tZ)("div",{className:"jsx-1173750789",children:d.repl.checkDomain.status}),(0,n.tZ)(a.default,{id:"1173750789",children:[".verify-domain.jsx-1173750789{display:grid;grid-template-columns:auto 1fr;grid-column-gap:var(--space-8);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".loading.jsx-1173750789{width:20px;height:20px;border-radius:100%;border:solid 3px #eee;border-top:solid 3px #888;-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);-webkit-animation:linear domain-loading-jsx-1173750789 1s infinite;animation:linear domain-loading-jsx-1173750789 1s infinite;}","@-webkit-keyframes domain-loading-jsx-1173750789{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes domain-loading-jsx-1173750789{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}"]})]}):"Repl"!==(null===d||void 0===d?void 0:d.repl.__typename)||null!==(r=d.repl.checkDomain)&&void 0!==r&&r.retry?null:(0,n.tZ)(n.HY,{children:"We ran into an internal error while checking the domain. Please try again later."})}function w(e){var t=e.replId,r=e.domain,o=e.onCancel,c=e.onUnlink,u=(0,g.pCu)({variables:{input:{id:t,domain:null}}}),l=(0,i.Z)(u,2),d=l[0],f=l[1];return(0,s.useEffect)((function(){f.data&&f.data.updateRepl.repl&&c()}),[f.data,c]),(0,n.BX)("div",{className:"jsx-2620693481 unlink-domain",children:[(0,n.BX)("div",{className:"jsx-2620693481",children:["Your repl is being served at"," ",(0,n.tZ)("a",{target:"_blank",rel:"noopener",href:"https://"+r,className:"jsx-2620693481",children:r})]}),(0,n.BX)("div",{className:"jsx-2620693481 controls",children:[(0,n.tZ)(v.Z,{onClick:o,children:"Close"}),(0,n.tZ)(v.Z,{color:"negative",onClick:function(){f.loading||d()},children:f.loading?"Unlinking...":"Unlink Domain"})]}),(0,n.tZ)(a.default,{id:"2620693481",children:[".unlink-domain.jsx-2620693481{display:grid;grid-row-gap:var(--space-24);}",".controls.jsx-2620693481{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}"]})]})}function x(e){var t=e.replId,r=e.onCancel,o=e.onUnlink,i=e.onLink,s=(0,g.KG0)({variables:{replId:t}}),c=s.data,u=null;if(s.loading)u=(0,n.tZ)(n.HY,{children:"loading..."});else if(c&&"Repl"===c.repl.__typename){var l=c.repl;u=l.config.domain?(0,n.tZ)(w,{replId:l.id,domain:l.config.domain,onUnlink:o,onCancel:r}):(0,n.tZ)(b,{repl:l,onLink:i,onCancel:r})}else c&&"ReplRedirect"===c.repl.__typename?u=(0,n.BX)("div",{children:["This repl has moved to"," ",(0,n.tZ)("a",{href:c.repl.replUrl,children:c.repl.replUrl})]}):c&&"SubscriptionExpiredError"===c.repl.__typename&&(u=(0,n.tZ)("div",{children:"Subscription expired"}));return(0,n.BX)("div",{className:"jsx-2281586937",children:[u,(0,n.tZ)(a.default,{id:"2281586937",children:["div.jsx-2281586937{padding:var(--space-16);color:var(--foreground-default);}"]})]})}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e){var t=s.useState(!1),r=(0,i.Z)(t,2),o=r[0],p=r[1];return(0,n.BX)("div",{className:"jsx-1852595970 url-bar",children:[(0,n.tZ)("button",{"aria-label":e.refreshing?"Refreshing...":"Refresh","data-microtip-position":"right",role:"tooltip",onClick:e.onRefresh,className:"jsx-1852595970 control",children:(0,n.tZ)("div",{className:"jsx-1852595970 "+"rotate-wrapper ".concat(e.refreshing?"rotate":""),children:(0,n.tZ)(u.Z,{})})}),(0,n.tZ)("input",{value:e.url,type:"text",onClick:function(t){e.trackUrlSelect(),t.currentTarget.select()},readOnly:!0,className:"jsx-1852595970"}),e.canEditDomain&&(0,n.BX)("div",{className:"jsx-1852595970 edit-domain-wrap",children:[(0,n.tZ)("button",k(k({},o?{}:{"aria-label":"Custom domain","data-microtip-position":"left",role:"tooltip"}),{},{onClick:function(){return p(!o)},className:"jsx-1852595970 control",children:(0,n.tZ)(c.Z,{})})),o?(0,n.tZ)("div",{className:"jsx-1852595970 edit-domain",children:(0,n.tZ)(x,{onCancel:function(){return p(!1)},onLink:function(){return p(!1)},onUnlink:function(){return p(!1)},replId:e.replId})}):null]}),e.anon?(0,n.tZ)("div",{"aria-label":"Anonymous websites are only hosted for an hour. Log in to keep your website up forever.","data-microtip-size":"large","data-microtip-position":"bottom-left",role:"tooltip",className:"jsx-1852595970 control",children:(0,n.tZ)(d.Z,{})}):null,(0,n.tZ)("a",{href:e.url,target:"_blank",rel:"noopener","aria-label":"Open in a new tab","data-microtip-position":"left",role:"tooltip",className:"jsx-1852595970 control",children:(0,n.tZ)(l.Z,{})}),e.canBeClosed&&(0,n.tZ)("button",{"aria-label":"Close web view","data-microtip-position":"left",role:"tooltip",onClick:e.closeCallback,className:"jsx-1852595970 control",children:(0,n.tZ)(f.Z,{})}),(0,n.tZ)(a.default,{id:"1852595970",children:[".url-bar.jsx-1852595970{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:40px;width:100%;background-color:var(--background-default);border-bottom:1px solid var(--background-higher);position:relative;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-top-left-radius:var(--border-radius-4);border-top-right-radius:var(--border-radius-4);}",".control.jsx-1852595970{padding:var(--space-8);color:var(--foreground-dimmest);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".control.jsx-1852595970:hover{color:var(--foreground-default);}",".edit-domain-wrap.jsx-1852595970{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","input.jsx-1852595970{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;outline:none;border:1px solid var(--background-highest);background-color:transparent;padding:2px 4px;margin:0 var(--space-8);color:var(--foreground-default);font-size:13px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;border-radius:var(--border-radius-4);}","input.jsx-1852595970:focus{border-color:var(--foreground-dimmer);background-color:var(--background-root);}","a.jsx-1852595970,a.jsx-1852595970:hover{border-bottom:none;}","button.jsx-1852595970{border:0;background:transparent;box-shadow:none;cursor:pointer;}","button.jsx-1852595970:focus{outline:0 none;}",".edit-domain-wrap.jsx-1852595970{position:relative;}",".edit-domain.jsx-1852595970{padding:var(--space-8) var(--space-16);position:absolute;top:100%;right:0;width:90vw;background-color:var(--background-default);border:1px solid var(--background-highest);border-radius:var(--border-radius-4);z-index:10;}",".rotate.jsx-1852595970{-webkit-animation:rotate-jsx-1852595970 infinite 0.5s;animation:rotate-jsx-1852595970 infinite 0.5s;}",".rotate-wrapper.jsx-1852595970{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}","@media screen and (min-width:540px){.edit-domain.jsx-1852595970{width:520px;}}","@-webkit-keyframes rotate-jsx-1852595970{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes rotate-jsx-1852595970{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}"]})]})}},27072:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(809),o=r.n(n),i=r(92447),a=(r(54098),r(25108));function s(){return c.apply(this,arguments)}function c(){return(c=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("gurl")){e.next=3;break}return a.log("Getting gurl from localstorage"),e.abrupt("return",localStorage.getItem("gurl"));case 3:e.next=5;break;case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},27646:function(e,t,r){"use strict";r.d(t,{t:function(){return x},Z:function(){return S}});var n=r(26265),o=r(809),i=r.n(o),a=r(92447),s=r(71171),c=r.n(s),u=r(71371),l=r(12198),d=r(87644),f=r(11163),p=r(74141),h=r(66354),g=r(55873),v=r(34155),m=r(25108);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=Boolean(v.env.CAPTCHA_EMBEDS);function x(e){if(e){var t=function(e){var t=new URL(e),r={secure:!1,port:""+t.port,host:t.hostname};return"wss:"===t.protocol?r.secure=!0:"ws:"!==t.protocol&&m.log(e,"Expected gurl protocol to be ws or wss, we'll give it a shot anyway"),r.port||(r.port=r.secure?"443":"80"),r}(e),r=t.secure,n=t.host,o=t.port;if("eval.repl.it"!==n&&"gp-v2.herokuapp.com"!==n&&"eval.replit.com"!==n)return(0,d.track)(d.events.LORE_USED_OVERRIDE_CLUSTER_METADATA,{gurl:e}),{id:"development",gurl:"ws".concat(r?"s":"","://").concat(n,":").concat(o),conmanURL:"http".concat(r?"s":"","://").concat(n,":").concat(o)}}}function E(e){var t=Math.floor(500*Math.random()),r=1e3*Math.pow(1.7,e);return Math.min(r,15e3)+t}function k(){var e=window.performance.getEntriesByName("create-workspace");if(0===e.length)return u.Tb(new Error("Expected create-workspace mark")),null;if(e.length>1)return u.Tb(new Error("Expected a single create-workspace mark")),null;var t=e[0];return window.performance.now()-t.startTime}var O=0;function S(e){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)(i().mark((function e(t){var r,n,o,s,u,v,m,b,x,S,j,Z,P,C,D,I,T,_,A,R,N,U,L,F,B,M;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.client,n=t.repl,o=t.shouldAbort,s=t.onRetry,u=t.overrideClusterMetadata,v=t.prefetchedConnectionMetadata,m=t.isLoggedIn,p.l){e.next=3;break}throw new Error("Expected apollo client");case 3:O++,b={connectionMetadata:v,timeout:1e4,pollingHost:void 0},f.default.query.fallback&&(b.pollingHost="gp-v2.herokuapp.com"),x=0,S=0,j=!1,Z=n.id,P=n.language,C=n.slug,D=c()(),I=function(){var e=(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e()}),E(S))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();case 12:if(!1!==r.isConnected()){e.next=97;break}if(!o()){e.next=15;break}return e.abrupt("return");case 15:return T=Boolean(f.default.query.lite||f.default.query.embed),_=window.performance.now(),A=c()(),R={host:window.location.host,retries:S,replId:Z,language:P,slug:C,attemptUuid:A,govalConnectUuid:D,connectCount:O},(0,d.track)(d.events.GOVAL_CONNECTION_ATTEMPTED,y({},R)),N="",e.prev=21,e.next=24,p.l.query({query:g.Nfd});case 24:if(U=e.sent,L=U.data,F=Boolean(L.shouldBypassCaptcha),m||T&&!w||F){e.next=33;break}return e.next=31,(0,l.Z)();case 31:N=e.sent,(0,d.track)(d.events.GOVAL_CONNECTION_STEP,y(y({},R),{},{time:window.performance.now()-_,timeSinceCreateWorkspace:k(),step:"captcha",failed:!1}));case 33:e.next=46;break;case 35:if(e.prev=35,e.t0=e.catch(21),(0,d.track)(d.events.GOVAL_CONNECTION_STEP,y(y({},R),{},{time:window.performance.now()-_,timeSinceCreateWorkspace:k(),step:"captcha",failed:!0})),(0,d.track)(d.events.GOVAL_CONNECTION_FAILED,y(y({},R),{},{error:e.t0&&e.t0.message||"unidentified failure",reason:"captcha"})),!o()){e.next=41;break}return e.abrupt("return");case 41:return S++,s(S),e.next=45,I();case 45:return e.abrupt("continue",12);case 46:if(!o()){e.next=48;break}return e.abrupt("return");case 48:if(B=window.performance.now(),v&&!j){e.next=70;break}return e.prev=50,e.next=53,(0,h.Z)({url:"/data/repls/".concat(n.id,"/get_connection_metadata"),captcha:N,isEmbed:T,hCaptchaSiteKey:l.w,clientVersion:"94eca86",overrideClusterMetadata:u,retry:S});case 53:b.connectionMetadata=e.sent,(0,d.track)(d.events.GOVAL_CONNECTION_STEP,y(y({},R),{},{time:window.performance.now()-B,timeSinceCreateWorkspace:k(),step:"fetchConnectionMetadata",failed:!1})),e.next=68;break;case 57:if(e.prev=57,e.t1=e.catch(50),(0,d.track)(d.events.GOVAL_CONNECTION_STEP,y(y({},R),{},{time:window.performance.now()-B,timeSinceCreateWorkspace:k(),step:"fetchConnectionMetadata",failed:!0})),(0,d.track)(d.events.GOVAL_CONNECTION_FAILED,y(y({},R),{},{error:e.t1.message,reason:"connectionMetadata"})),!o()){e.next=63;break}return e.abrupt("return");case 63:return S++,s(S),e.next=67,I();case 67:return e.abrupt("continue",12);case 68:if(!o()){e.next=70;break}return e.abrupt("return");case 70:return j=!0,M=window.performance.now(),e.prev=72,e.next=75,r.connect(b);case 75:window.v1ws=r.ws,e.next=93;break;case 78:if(e.prev=78,e.t2=e.catch(72),!e.t2.message.includes("Client.close")){e.next=82;break}return e.abrupt("return");case 82:if(!o()){e.next=84;break}return e.abrupt("return");case 84:return 2!==x||b.pollingHost||(b.pollingHost="gp-v2.herokuapp.com",(0,d.track)(d.events.GOVAL2_FELLBACK,{error:e.t2.message||"",retries:S,host:window.location.hostname})),(0,d.track)(d.events.GOVAL_CONNECTION_STEP,y(y({},R),{},{time:window.performance.now()-M,timeSinceCreateWorkspace:k(),step:"connect",failed:!0})),(0,d.track)(d.events.GOVAL_CONNECTION_FAILED,y(y({},R),{},{error:e.t2.message,reason:"goval"})),x++,S++,s(S),e.next=92,I();case 92:return e.abrupt("continue",12);case 93:(0,d.track)(d.events.GOVAL_CONNECTION_STEP,y(y({},R),{},{time:window.performance.now()-M,timeSinceCreateWorkspace:k(),step:"connect",failed:!1})),(0,d.track)(d.events.GOVAL_CONNECTION_SUCCEEDED,y(y({},R),{},{time:window.performance.now()-_})),e.next=12;break;case 97:case"end":return e.stop()}}),e,null,[[21,35],[50,57],[72,78]])})))).apply(this,arguments)}},52375:function(e,t,r){"use strict";r.d(t,{Z:function(){return je}});var n=r(32292),o=r(35944),i=r(26265),a=r(65988),s=r(67294),c=r(71371),u=r(82951),l=r(41664),d=r(21093),f=r(51537),p=r(27409);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(e){var t=e.repl,r=t.user?(0,o.tZ)(l.default,g(g({},(0,u.Ru)(t.user)),{},{children:(0,o.tZ)("a",{style:{color:"var(--accent-primary-default)",fontWeight:500,textDecoration:"none"},className:"username",children:t.user.username})})):(0,o.tZ)("span",{className:"username",children:"@anonymous"});return(0,o.BX)("div",{className:"jsx-3518488481 workspace-header-info",children:[(0,o.BX)("div",{className:"jsx-3518488481 workspace-header-title",children:[(0,o.tZ)("span",{className:"jsx-3518488481 breadcrumb interactive",children:(0,o.tZ)("span",{onClick:function(e){return e.stopPropagation()},className:"jsx-3518488481 breadcrumb-content",children:r})}),(0,o.tZ)("span",{className:"jsx-3518488481 slash",children:"/"}),(0,o.tZ)("span",{className:"jsx-3518488481 breadcrumb repl-title",children:(0,o.tZ)("span",{className:"jsx-3518488481 breadcrumb-content",children:t.title})})]}),(0,o.tZ)("div",{className:"jsx-3518488481 spacer"}),(0,o.tZ)("div",{title:t.templateInfo.label,className:"jsx-3518488481 language-icon-container",children:(0,o.tZ)(p.Z,{iconUrl:t.templateInfo.iconUrl,size:16,alt:t.templateInfo.label})}),(0,o.tZ)(a.default,{id:"3518488481",children:[".workspace-header-info.jsx-3518488481,.workspace-header-title.jsx-3518488481{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;overflow:hidden;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;font-size:var(--font-size-default);}",".workspace-header-info.jsx-3518488481{width:100%;}",".workspace-header-user-link.jsx-3518488481{color:var(--accent-primary-default);-webkit-text-decoration:none;text-decoration:none;}",".language-icon-container.jsx-3518488481{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:var(--space-4);background-color:var(--background-higher);border-radius:var(--border-radius-8);position:relative;}",".breadcrumb.jsx-3518488481{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:var(--border-radius-4);padding:2px var(--space-4);width:auto;}",".breadcrumb.interactive.jsx-3518488481:hover{background-color:var(--background-higher);}",".breadcrumb-content.jsx-3518488481{display:inline-block;overflow:hidden;text-overflow:ellipsis;max-width:152px;}",".spacer.jsx-3518488481{width:var(--space-8);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;}",".username.jsx-3518488481,.repl-title.jsx-3518488481{white-space:nowrap;color:var(--foreground-default);}",".slash.jsx-3518488481{color:var(--foreground-dimmest);padding:0 2px;}",".repl-title.jsx-3518488481{overflow:hidden;}"]})]})},m=r(87644),b=r(60668),y=r(11163),w=r(80232),x=r(55873),E=r(98124),k=function(e){var t=e.maxLength,r=void 0===t?140:t,n=e.value,i=void 0===n?"":n,s=e.hideLabel,c=void 0!==s&&s;return(0,o.BX)("div",{className:"jsx-112147882",children:[i.length," / ",r," ",c?"":"characters",(0,o.tZ)(a.default,{id:"112147882",children:["div.jsx-112147882{color:var(--foreground-dimmer);font-size:0.75em;text-align:right;margin-top:var(--space-8);}"]})]})},O=r(90093),S=r(25763),j=r(62255),Z=r(50882),P=r(94184),C=r.n(P),D=r(39219),I=r(67645),T=r(77434),_=r(46147);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e){var t,r=e.isBoosted||e.needsUpgrade,n=(0,x.E63)({skip:r,fetchPolicy:"cache-and-network"}),i=n.data,s=n.loading,c=(null===i||void 0===i||null===(t=i.currentUser)||void 0===t?void 0:t.canBoost)||!1,u=e.alwaysOn?1:3,l=e.isBoosted?1:3,d=e.isBoosted?"Your repl is currently boosted":"Your repl will be 2x faster",f=c?{}:{"aria-label":"Boost limit reached","data-microtip-position":"top",role:"tooltip"};return(0,o.BX)(o.HY,{children:[(0,o.BX)("div",{className:a.default.dynamic([["2311824613",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" always-on",children:[(0,o.BX)(S.gC,{children:[(0,o.BX)(S.Ug,{spacing:"4px",align:"center",children:[(0,o.tZ)(I.Z,{foreground:u,align:"center",children:(0,o.tZ)(_.Z,{})}),(0,o.tZ)(I.Z,{foreground:u,size:"small",fontWeight:"medium",children:"Always On"})]}),(0,o.tZ)(I.Z,{size:"xsmall",foreground:u,children:"Your repl will never fall asleep"})]}),(0,o.tZ)("div",{className:a.default.dynamic([["2311824613",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" toggle-box",children:(0,o.tZ)(D.Z,{isOn:e.alwaysOn,onChange:function(){e.onChange(!e.alwaysOn)}})})]}),(0,o.BX)("div",{className:a.default.dynamic([["2311824613",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" "+(C()("boost",{"is-boosted":e.isBoosted})||""),children:[(0,o.BX)(S.gC,{children:[(0,o.BX)(S.Ug,{spacing:"4px",align:"center",justify:"center",children:[(0,o.tZ)(I.Z,{className:"rocket-text",foreground:l,align:"center",children:(0,o.tZ)(T.Z,{})}),(0,o.tZ)(I.Z,{className:"boost-text",foreground:l,size:"small",fontWeight:e.isBoosted?"medium":"regular",children:"Boost"})]}),(0,o.tZ)(I.Z,{size:"xsmall",foreground:l,children:d})]}),(0,o.tZ)("div",{className:a.default.dynamic([["2311824613",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" toggle-box",children:e.isBoosted?(0,o.tZ)(j.Z,{onClick:function(){e.onUnboostClick()},filled:!1,border:!1,children:(0,o.tZ)(Z.Z,{color:"var(--foreground-default)"})}):(0,o.tZ)("div",R(R({},f),{},{className:a.default.dynamic([["2311824613",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" "+(f&&null!=f.className&&f.className||""),children:(0,o.BX)(j.Z,{textColor:"var(--accent-positive-default)",disabled:!c,loading:s,onClick:function(){e.onBoostChange(!0)},children:[(0,o.tZ)("span",{className:a.default.dynamic([["2311824613",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" rocket-container",children:(0,o.tZ)(T.Z,{fontSize:"16px"})}),"Add Boost"]})}))})]}),(0,o.tZ)(a.default,{id:"2311824613",dynamic:[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"],children:[".always-on.__jsx-style-dynamic-selector,.boost.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--space-8);-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".always-on.__jsx-style-dynamic-selector{margin-bottom:var(--space-8);}",".boost.__jsx-style-dynamic-selector .rocket-text{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:".concat(e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",";width:16px;}"),".boost.__jsx-style-dynamic-selector .boost-text{color:".concat(e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",";}"),".is-boosted.__jsx-style-dynamic-selector{background-color:var(--accent-positive-dimmest);border-radius:var(--border-radius-4);}",".rocket-container.__jsx-style-dynamic-selector{margin-right:var(--space-4);}",".boost-menu-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:var(--accent-negative-default);}",".boost-icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 var(--space-4);}",".boost-menu-text.__jsx-style-dynamic-selector{padding:0 var(--space-4);}",".toggle-box.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;pointer-events:".concat(e.needsUpgrade?"none":"auto",";opacity:").concat(e.needsUpgrade?.5:1,";cursor:").concat(e.needsUpgrade?"not-allowed":"pointer",";}")]})]})}var U=r(86842),L=r(18466),F=r(23254),B=r(93435),M=r(14040),H=r(80320),G=r(809),z=r.n(G),V=r(92447),W=r(14100),X=r(74141),Y=r(27072),q=r(27646),J=r(3105);function K(e){return $.apply(this,arguments)}function $(){return($=(0,V.Z)(z().mark((function e(t){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return ee.apply(this,arguments)}function ee(){return(ee=(0,V.Z)(z().mark((function e(t){var r,n=arguments;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:1,e.prev=1,e.next=4,te(t);case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),!(r>5)){e.next=10;break}throw e.t0;case 10:setTimeout((function(){Q(t,r+1)}),1e3*(Math.pow(2,r)-1));case 11:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function te(e){return re.apply(this,arguments)}function re(){return(re=(0,V.Z)(z().mark((function e(t){var r,n,o,i,a,s,c;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,W.Z)({onUnrecoverableError:function(e){throw new Error("Failed to create temporary goval connection. Received error ".concat(e.message))}}),X.l){e.next=4;break}throw r.destroy(),new Error("Expected Apollo Client");case 4:return e.next=6,X.l.query({query:x.PkY,variables:{id:t}});case 6:if(n=e.sent,"Repl"===(o=n.data).repl.__typename){e.next=11;break}throw r.destroy(),new Error("Failed to query repl info when creating temporary connection");case 11:return i=o.currentUser,a=o.repl,e.next=14,(0,Y.Z)();case 14:return s=e.sent,c=(0,q.t)(s),e.abrupt("return",new Promise((function(e){r.onConnectionStateChanged((function(t){t===W.e.CONNECTED&&(r.destroy(),e())})),r.connect({context:(0,J.U)({repl:a,currentUser:i}),overrideClusterMetadata:c})})));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=r(24519),oe=r(48077),ie=r(62199),ae=r(37672),se=r(21371),ce=r(5864);function ue(e){var t=e.onUnboost,r=e.hideModal;return(0,o.BX)("div",{className:"jsx-4045367983 wrap",children:[(0,o.tZ)("div",{className:"jsx-4045367983 title",children:"Unboost Repl"}),(0,o.tZ)("div",{className:"jsx-4045367983 text",children:"Are you sure you want to unboost your repl? This will downgrade your repl to a less powerful machine."}),(0,o.BX)(S.Ug,{spacing:1,justify:"end",children:[(0,o.tZ)(j.Z,{onClick:r,autoFocus:!0,children:"Cancel"}),(0,o.tZ)(j.Z,{color:"negative",onClick:function(){t(),r()},children:"Confirm"})]}),(0,o.tZ)(a.default,{id:"4045367983",children:[".wrap.jsx-4045367983{background-color:var(--background-default);border-radius:var(--border-radius-4);color:var(--foreground-default);}",".title.jsx-4045367983{color:var(--accent-negative-default);}",".wrap.jsx-4045367983{display:grid;grid-row-gap:25px;}",".title.jsx-4045367983{font-size:var(--font-size-subhead-big);}",".text.jsx-4045367983{margin-bottom:5px;}","@media screen and (min-width:600px){.wrap.jsx-4045367983{padding:75px 50px 75px;}}"]})]})}var le,de,fe=r(30715),pe=r(63502),he=r(54313),ge=r(4170),ve=r(63579),me=r(34483),be=r(84277),ye=r(22056),we=r(56095),xe=r(30239);function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oe(e){var t=e.user;return(0,o.BX)(o.HY,{children:[t?(0,o.tZ)(l.default,ke(ke({},(0,u.Ru)(t)),{},{children:(0,o.tZ)("a",{onClick:function(e){e.stopPropagation()},className:a.default.dynamic([["275873743",[f.j.tabletMax]]])+" icon",children:(0,o.tZ)(ge.Z,{src:t.image,alt:t.username,size:32})})})):(0,o.tZ)("div",{className:a.default.dynamic([["275873743",[f.j.tabletMax]]])+" icon",children:(0,o.tZ)(d.Z,{size:"inherit"})}),(0,o.tZ)(a.default,{id:"275873743",dynamic:[f.j.tabletMax],children:[".icon.__jsx-style-dynamic-selector{display:none;}","@media screen and (min-width:".concat(f.j.tabletMax,"px){.icon.__jsx-style-dynamic-selector{display:block;}}")]})]})}function Se(e){var t=e.isPrivate,r=e.isSelected,n=t?ie.Z:oe.Z,i=t?"Private":"Public",a=r?1:2;return(0,o.BX)(S.Ug,{align:"center",justify:"center",spacing:1,children:[(0,o.tZ)(S.Ug,{align:"center",justify:"center",children:(0,o.tZ)(n,{})}),(0,o.tZ)(I.Z,{truncate:!0,foreground:a,align:"center",size:"small",children:i})]})}function je(e){var t=e.repl,r=e.refetch,i=e.onUpdateRepl,c=s.useState(!1),u=(0,n.Z)(c,2),l=u[0],d=u[1];return(0,o.BX)("div",{className:a.default.dynamic([["1954640608",[f.j.mobileMax]]])+" repl-info",children:[(0,o.BX)("div",{onClick:function(){d(!l)},className:a.default.dynamic([["1954640608",[f.j.mobileMax]]])+" repl-info-click-area",children:[(0,o.tZ)(Oe,{user:t.user}),(0,o.tZ)(v,{repl:t}),t.isAlwaysOn&&(0,o.tZ)("div",{"aria-label":"Always on","data-microtip-position":"bottom",role:"tooltip",className:a.default.dynamic([["1954640608",[f.j.mobileMax]]])+" always-on-indicator"})]}),l?(0,o.BX)(o.HY,{children:[(0,o.tZ)("div",{className:a.default.dynamic([["1954640608",[f.j.mobileMax]]])+" click-blanket"}),(0,o.tZ)("div",{className:a.default.dynamic([["1954640608",[f.j.mobileMax]]])+" edit-repl",children:(0,o.tZ)(Ze,{setIsEditing:d,repl:t,refetch:r,onUpdateRepl:i})})]}):null,(0,o.tZ)(a.default,{id:"1954640608",dynamic:[f.j.mobileMax],children:[".repl-info.__jsx-style-dynamic-selector{position:relative;}",".repl-info-click-area.__jsx-style-dynamic-selector{cursor:pointer;display:grid;grid-auto-flow:column;grid-column-gap:var(--space-8);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--space-4);color:var(--foreground-dimmer);border-radius:var(--border-radius-4);border:1px solid transparent;}",".repl-info-click-area.__jsx-style-dynamic-selector:hover{border:1px solid var(--background-highest);}",".edit-repl.__jsx-style-dynamic-selector{background-color:var(--background-default);border:1px solid var(--background-higher);color:var(--foreground-default);border-radius:var(--border-radius-4);box-shadow:var(--shadow-1);z-index:10000;position:absolute;left:0;top:calc(100% + var(--space-8));max-width:460px;width:64vw;}",".edit-repl.__jsx-style-dynamic-selector .list-wrapper{z-index:1;top:var(--space-24);left:var(--space-8);}",".click-blanket.__jsx-style-dynamic-selector{cursor:pointer;position:absolute;top:0;left:0;width:100%;height:100%;}","@media screen and (max-width:".concat(f.j.mobileMax,"px){.edit-repl.__jsx-style-dynamic-selector{width:80vw;}}")]})]})}function Ze(e){var t,r=e.repl,i=e.refetch,u=e.onUpdateRepl,d=e.setIsEditing,p=(0,y.useRouter)(),h=s.useState(!1),g=(0,n.Z)(h,2),v=g[0],P=g[1],C=s.useState(null),D=(0,n.Z)(C,2),T=D[0],_=D[1],A=s.useState(r.isBoosted),R=(0,n.Z)(A,2),G=R[0],z=R[1],V=s.useState(r.isRenamed?r.title:""),W=(0,n.Z)(V,2),X=W[0],Y=W[1],q=s.useState(r.description||""),J=(0,n.Z)(q,2),$=J[0],Q=J[1],ee=s.useState(null),te=(0,n.Z)(ee,2),re=te[0],oe=te[1],ie=(0,O.Z)().showError;s.useEffect((function(){Q(r.description||"")}),[r.description]);var ge=(0,ce.Z)(),Ee=s.useRef(r),Oe=(0,x.ap1)({variables:{id:r.id},onCompleted:function(){return p.push("/home","/~")},update:(0,b.t)({id:r.id}),onError:function(e){return ie((0,w.bc)(e.message))}}),je=(0,n.Z)(Oe,1)[0],Ze=(0,x.vib)({onError:function(e){return ie((0,w.bc)(e.message))},onCompleted:function(e){var t=e.updateRepl.repl,n=Ee.current,o={};n.description!==t.description&&(o.description=t.description),n.title!==t.title&&(o.title=t.title),n.url!==t.url&&(o.url=t.url),n.isRenamed!==t.isRenamed&&(o.isRenamed=!!t.isRenamed),Ee.current=r,Object.keys(o).length>0&&(u(o),d(!1))}}),Pe=(0,n.Z)(Ze,1)[0],Ce=(0,he.Z)(),De=(0,n.Z)(Ce,2),Ie=De[0],Te=De[1].loading,_e=(0,x.prL)({onCompleted:function(e){ge.current&&("UserError"===e.setAlwaysOn.__typename?oe(e.setAlwaysOn.message):oe(null))},onError:function(e){return ie((0,w.bc)(e.message))}}),Ae=(0,n.Z)(_e,2),Re=Ae[0],Ne=Ae[1].loading,Ue=(0,x.BjH)({variables:{replId:r.id},onCompleted:function(e){var t=e.boostRepl;"UserError"!==t.__typename?(K(r.id).catch((function(e){c.Tb(e),ge.current&&oe("Something went wrong when boosting your repl. Please refresh or try again.")})),ge.current&&(oe(null),z(!0))):ge.current&&oe(t.message)},onError:function(e){c.Tb(e),ie((0,w.bc)(e.message))}}),Le=(0,n.Z)(Ue,2),Fe=Le[0],Be=Le[1].loading,Me=r.currentUserPermissions.publish,He=(0,x.m9A)({variables:{input:{replId:r.id}},onError:function(e){c.Tb(e),ie((0,w.bc)(e.message))}}),Ge=(0,n.Z)(He,2),ze=Ge[0],Ve=Ge[1],We=(0,x.gFT)({variables:{input:{replId:r.id}},onError:function(e){c.Tb(e),ie((0,w.bc)(e.message))}}),Xe=(0,n.Z)(We,2),Ye=Xe[0],qe=Xe[1],Je=(0,x.cry)({variables:{replId:r.id},onCompleted:function(e){var t=e.unboostRepl;"UserError"!==t.__typename?(K(r.id).catch((function(e){c.Tb(e),ge.current&&oe("Something went wrong when unboosting your repl. Please refresh or try again.")})),ge.current&&(oe(null),z(!1))):oe(t.message)},onError:function(e){c.Tb(e),ie((0,w.bc)(e.message))}}),Ke=(0,n.Z)(Je,2),$e=Ke[0],Qe=Ke[1].loading,et=s.useMemo((function(){return!(!X||X===r.title)||!(""===$&&!r.description)&&$!==r.description}),[r,X,$]),tt=s.useCallback((function(){if(et){var e={id:r.id,title:X||r.title,description:$};Pe({variables:{input:e}})}}),[et,Pe,r,X,$]),rt=v||null!==T||Te,nt=(0,B.Z)((function(){rt||(et?tt():d(!1))}),[rt,et,tt]),ot=s.useContext(be.G).usesDigitalGoodsService,it=function(){Be||Qe||(G?$e():Fe())},at=r.isRenamed?"name your repl":"default name: ".concat(r.title),st=[x.Sy.Submit,x.Sy.PublishTemplate,x.Sy.EditTemplate].includes(r.workspaceCta),ct=[];r.currentUserPermissions.fork&&ct.push({value:le.Fork,label:"Fork",icon:(0,o.tZ)(pe.Z,{})}),Me&&ct.unshift({value:le.Spotlight,label:"Spotlight",link:(0,H.j3)(r),icon:(0,o.tZ)(M.Z,{})}),r.publishedAs===x.O2h.App&&Me&&ct.push({value:le.Unpublish,label:"Unpublish",icon:(0,o.tZ)(ae.Z,{})}),r.publishedAs===x.O2h.Template&&Me&&ct.push({value:le.UnpublishTemplate,label:"Unpublish template",icon:(0,o.tZ)(ae.Z,{})}),r.currentUserPermissions.delete&&ct.push({isDestructive:!0,value:le.Delete,label:"Delete",icon:(0,o.tZ)(Z.Z,{})});var ut=r.currentUserPermissions.changePrivacy===x.HA$.SubscriptionRequired,lt=r.currentUserPermissions.changeAlwaysOn===x.fnM.SubscriptionRequired,dt=ut?"Get access to Private repls, Always On, and Boosts.":"Get access to Always On and Boosts.";return(0,o.BX)("div",{ref:nt,className:a.default.dynamic([["2408243813",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",ut?"var(--background-root)":"var(--background-default)",ut?"none":"auto",ut?.5:1,ut?"not-allowed":"pointer",lt?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]])+" repl-info-form",children:[(0,o.tZ)("form",{onSubmit:function(e){e.preventDefault(),tt()},className:a.default.dynamic([["2408243813",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",ut?"var(--background-root)":"var(--background-default)",ut?"none":"auto",ut?.5:1,ut?"not-allowed":"pointer",lt?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]]),children:(0,o.BX)(S.gC,{wrap:"nowrap",spacing:2,align:"stretch",children:[(0,o.BX)(S.gC,{wrap:"nowrap",spacing:"4px",align:"stretch",children:[(0,o.BX)(S.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,o.BX)("div",{className:a.default.dynamic([["2408243813",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",ut?"var(--background-root)":"var(--background-default)",ut?"none":"auto",ut?.5:1,ut?"not-allowed":"pointer",lt?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]]),children:[r.publishedAs===x.O2h.Template&&Me?(0,o.tZ)(ye.kq,{onClick:function(){return _(de.PublishTemplateUpdate)},replId:r.id}):null,r.publishedAs===x.O2h.App&&Me?(0,o.BX)(j.Z,{Icon:M.Z,color:"primary",onClick:function(){(0,m.track)(m.events.PUBLISH_SELECTED,{source:"replEnvironment",isPublish:!0}),_(de.Publish)},children:["Publish",r.lastPublishedAt?" update":""]}):null,!r.publishedAs&&r.isRenamed&&Me?(0,o.tZ)(j.Z,{Icon:M.Z,color:"primary",onClick:function(){return _(de.Publish)},children:"Publish"}):null,!r.isRenamed&&Me?(0,o.tZ)("div",{"data-microtip-position":"right","aria-label":"Name your repl to publish",role:"tooltip",className:a.default.dynamic([["2408243813",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",ut?"var(--background-root)":"var(--background-default)",ut?"none":"auto",ut?.5:1,ut?"not-allowed":"pointer",lt?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]]),children:(0,o.tZ)(j.Z,{Icon:M.Z,color:"primary",disabled:!0,children:"Publish"})}):null,Me?null:(0,o.tZ)(l.default,ke(ke({},(0,H.j3)(r)),{},{children:(0,o.tZ)("a",{style:{textDecoration:"none"},className:a.default.dynamic([["2408243813",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",ut?"var(--background-root)":"var(--background-default)",ut?"none":"auto",ut?.5:1,ut?"not-allowed":"pointer",lt?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]]),children:(0,o.tZ)(j.Z,{Icon:M.Z,color:"primary",className:"spotlight-button",children:"Spotlight page"})})}))]}),(0,o.tZ)(fe.Z,{items:ct,onItemClick:function(e){switch(e.value){case le.Unpublish:return void _(de.UnpublishApp);case le.UnpublishTemplate:return void _(de.UnpublishTemplate);case le.Fork:return void _(de.ForkRepl);case le.Delete:_(de.DeleteRepl)}},onOpenChange:P})]}),r.lastPublishedAt&&Me?(0,o.BX)(I.Z,{size:"small",foreground:3,children:["Last published on"," ",new Date(r.lastPublishedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}):null]}),r.currentUserPermissions.changeIconUrl?(0,o.tZ)(ve.Z,{value:r.iconUrl,onChange:function(e){return Pe({variables:{input:{id:r.id,iconUrl:e}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:ke(ke({},r),{},{iconUrl:e})}}})}}):null,(0,o.BX)(S.gC,{wrap:"nowrap",align:"end",children:[(0,o.tZ)(E.ZP,{style:{cursor:r.currentUserPermissions.changeTitle?"auto":"not-allowed"},disabled:!r.currentUserPermissions.changeTitle,maxLength:60,placeholder:at,value:X,onChange:function(e){return Y(e.target.value)},spellCheck:!1}),(0,o.tZ)(k,{maxLength:60,value:X,hideLabel:!0})]}),(0,o.BX)(S.gC,{wrap:"nowrap",align:"end",children:[(0,o.tZ)("textarea",{onKeyDown:function(e){13===e.keyCode&&(e.ctrlKey||e.metaKey)},disabled:!r.currentUserPermissions.changeDescription,maxLength:me.p,value:$,onChange:function(e){return Q(e.target.value)},placeholder:"What does this repl do?",className:a.default.dynamic([["2408243813",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",ut?"var(--background-root)":"var(--background-default)",ut?"none":"auto",ut?.5:1,ut?"not-allowed":"pointer",lt?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]])}),(0,o.tZ)(k,{maxLength:me.p,value:$,hideLabel:!0})]})]})}),st?null:(0,o.BX)(o.HY,{children:[lt&&(0,o.tZ)("div",{className:a.default.dynamic([["2408243813",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",ut?"var(--background-root)":"var(--background-default)",ut?"none":"auto",ut?.5:1,ut?"not-allowed":"pointer",lt?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]]),children:ot?(0,o.BX)(S.gC,{justify:"center",align:"center",style:{paddingBottom:"var(--space-16)"},children:[(0,o.tZ)(I.Z,{foreground:3,children:dt}),(0,o.BX)(I.Z,{foreground:3,children:["Go to"," ",(0,o.tZ)("a",{href:"https://replit.com/site/pricing",target:"_blank",className:a.default.dynamic([["2408243813",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",ut?"var(--background-root)":"var(--background-default)",ut?"none":"auto",ut?.5:1,ut?"not-allowed":"pointer",lt?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]]),children:"replit.com"})," ","to upgrade your account."]})]}):(0,o.BX)(o.HY,{children:[(0,o.tZ)("div",{className:a.default.dynamic([["2408243813",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",ut?"var(--background-root)":"var(--background-default)",ut?"none":"auto",ut?.5:1,ut?"not-allowed":"pointer",lt?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]])+" upgrade-button-container",children:(0,o.tZ)(j.Z,{textColor:"white",backgroundColor:"var(--accent-primary-default)",fullWidth:!0,onClick:function(){(0,m.track)(m.events.UPGRADE_SELECTED,{source:"inline",planID:"hacker"}),_(de.SubscribeUser)},children:"Upgrade to Hacker"})}),(0,o.tZ)("div",{className:a.default.dynamic([["2408243813",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",ut?"var(--background-root)":"var(--background-default)",ut?"none":"auto",ut?.5:1,ut?"not-allowed":"pointer",lt?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]])+" upgrade-text-container",children:(0,o.tZ)(I.Z,{foreground:3,children:dt})})]})}),(0,o.BX)(S.gC,{className:"hacker-features-container",children:[r.currentUserPermissions.changePrivacy!==x.HA$.Disallowed&&(0,o.tZ)("div",{className:a.default.dynamic([["2408243813",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",ut?"var(--background-root)":"var(--background-default)",ut?"none":"auto",ut?.5:1,ut?"not-allowed":"pointer",lt?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]])+" edit-repl-privacy",children:(0,o.tZ)(ne.Z,{options:[(0,o.tZ)(Se,{isPrivate:!1,isSelected:!r.isPrivate}),(0,o.tZ)(Se,{isPrivate:!0,isSelected:r.isPrivate})],selectedOption:r.isPrivate?1:0,onChange:function(){return Pe({variables:{input:{id:r.id,isPrivate:!r.isPrivate}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:ke(ke({},r),{},{isPrivate:!r.isPrivate})}}})},width:"100%"})}),r.currentUserPermissions.changeAlwaysOn!==x.fnM.Disallowed&&(0,o.BX)("div",{className:a.default.dynamic([["2408243813",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",ut?"var(--background-root)":"var(--background-default)",ut?"none":"auto",ut?.5:1,ut?"not-allowed":"pointer",lt?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]])+" set-always-online",children:[(0,o.tZ)(N,{alwaysOn:r.isAlwaysOn,isBoosted:G,onChange:function(){if(!Ne){var e=!r.isAlwaysOn;Re({variables:{replId:r.id,enabled:e},optimisticResponse:{setAlwaysOn:ke(ke({__typename:"Repl"},r),{},{isAlwaysOn:e})}})}},onBoostChange:it,needsUpgrade:lt,onUpgrade:function(){return _(de.SubscribeUser)},onUnboostClick:function(){return _(de.UnboostRepl)}}),re&&(0,o.tZ)("div",{className:a.default.dynamic([["2408243813",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",ut?"var(--background-root)":"var(--background-default)",ut?"none":"auto",ut?.5:1,ut?"not-allowed":"pointer",lt?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]])+" always-on-boost-error-container",children:(0,o.tZ)(I.Z,{size:"small",children:re})})]})]})]}),(0,o.tZ)(U.ZP,{isOpen:T===de.DeleteRepl,onRequestClose:function(){return _(null)},children:(0,o.tZ)(L.Z,{delete:je,entityType:"Repl",hideModal:function(){return _(null)}})}),(0,o.tZ)(U.ZP,{isOpen:T===de.UnboostRepl,onRequestClose:function(){return _(null)},children:(0,o.tZ)(ue,{onUnboost:it,hideModal:function(){return _(null)}})}),(0,o.tZ)(U.ZP,{isOpen:T===de.ForkRepl,onRequestClose:function(){return _(null)},children:(0,o.tZ)(xe.Z,{onFork:function(e,t){Ie({originId:r.id,teamId:e,title:t,forkToPersonal:!e,trackingData:{forkSource:"editReplPopoverMenuItem"}}),(0,m.track)(m.events.REPLS_REPL_SELF_FORKED,{replId:r.id})},initialValue:r.title,hideModal:function(){return _(null)},teamContext:null===(t=r.user)||void 0===t?void 0:t.username})}),(0,o.tZ)(F.k,{isOpen:T===de.SubscribeUser,onSubscribe:function(){i()},closeModal:function(){return _(null)},trackingInfo:{context:"workspace-header"}}),(0,o.tZ)(U.ZP,{isOpen:T===de.UnpublishApp,onRequestClose:function(){return _(null)},children:(0,o.tZ)(we.Z,{isDestructive:!0,title:"Unpublish Repl",onCancel:function(){return _(null)},onConfirm:function(){Ve.loading||(ze(),_(null))},children:"Your repl will no longer be discoverable on Apps. You can republish again at any time, and all of your comments or reactions will stick around."})}),(0,o.tZ)(U.ZP,{isOpen:T===de.UnpublishTemplate,onRequestClose:function(){return _(null)},children:(0,o.tZ)(we.Z,{isDestructive:!0,title:"Unpublish Template",onCancel:function(){return _(null)},onConfirm:function(){qe.loading||(Ye(),_(null))},children:"Your repl will no longer be discoverable on Templates. You can republish again at any time, and all of your comments or reactions will stick around."})}),(0,o.tZ)(U.ZP,{isOpen:T===de.Publish,onRequestClose:function(){return _(null)},children:(0,o.tZ)(U.hz,{children:(0,o.tZ)(se.XY,{source:"replEnvironment",replId:r.id,onDone:function(e){var t=e.didPublish,r=e.kind;_(t?r===x.O2h.Template?de.PublishTemplateConfirmation:de.PublishAppConfirmation:null)}})})}),(0,o.tZ)(U.ZP,{isOpen:T===de.PublishTemplateUpdate,onRequestClose:function(){return _(null)},children:(0,o.tZ)(U.hz,{children:(0,o.tZ)(ye.As,{replId:r.id,onDone:function(e){var t=e.didPublish;_(t?de.PublishTemplateConfirmation:null)}})})}),(0,o.tZ)(U.ZP,{isOpen:T===de.PublishTemplateConfirmation,onRequestClose:function(){return _(null)},children:(0,o.tZ)(U.hz,{children:(0,o.tZ)(ye.eS,{replId:r.id,onDone:function(){_(null)}})})}),(0,o.tZ)(U.ZP,{isOpen:T===de.PublishAppConfirmation,onRequestClose:function(){return _(null)},children:(0,o.tZ)(U.hz,{children:(0,o.tZ)(se.in,{replId:r.id,onDone:function(){_(null)}})})}),(0,o.tZ)(a.default,{id:"2408243813",dynamic:[r.currentUserPermissions.changeDescription?"auto":"not-allowed",ut?"var(--background-root)":"var(--background-default)",ut?"none":"auto",ut?.5:1,ut?"not-allowed":"pointer",lt?"var(--background-root)":"var(--background-default)",f.j.mobileMax],children:[".repl-info-form.__jsx-style-dynamic-selector{position:relative;}","form.__jsx-style-dynamic-selector{padding:var(--space-16);}","textarea.__jsx-style-dynamic-selector{min-height:42px;height:200px;resize:none;cursor:".concat(r.currentUserPermissions.changeDescription?"auto":"not-allowed",";font-size:var(--font-size-default);font-family:var(--font-family-default);padding:var(--space-8);display:block;width:100%;border-radius:var(--border-radius-4);border:1px solid var(--outline-dimmest);-webkit-transition:0.2s border-color;transition:0.2s border-color;background-color:transparent;color:var(--foreground-default);}"),"textarea.__jsx-style-dynamic-selector:hover{border-color:var(--accent-primary-dimmer);}","textarea.__jsx-style-dynamic-selector:active,textarea.__jsx-style-dynamic-selector:focus{border-color:var(--accent-primary-default);}","textarea.__jsx-style-dynamic-selector:disabled{opacity:0.5;}","textarea.__jsx-style-dynamic-selector:focus,textarea.__jsx-style-dynamic-selector:active{outline:none;border-color:var(--accent-primary-default);}",".edit-repl-privacy.__jsx-style-dynamic-selector{background-color:".concat(ut?"var(--background-root)":"var(--background-default)",";color:var(--foreground-dimmer);pointer-events:").concat(ut?"none":"auto",";opacity:").concat(ut?.5:1,";cursor:").concat(ut?"not-allowed":"pointer",";}"),".set-always-online.__jsx-style-dynamic-selector{background-color:".concat(lt?"var(--background-root)":"var(--background-default)",";}"),".edit-repl-privacy.__jsx-style-dynamic-selector,.set-always-online.__jsx-style-dynamic-selector{width:100%;padding:var(--space-8);}",".edit-repl.__jsx-style-dynamic-selector .hacker-features-container{margin:var(--space-8);}",".edit-repl-actions.__jsx-style-dynamic-selector{padding:0 var(--space-16);}",".menu-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:var(--foreground-default);}",".delete-menu-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:var(--accent-negative-default);}",".icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 var(--space-4);}",".menu-text.__jsx-style-dynamic-selector{padding:0 var(--space-4);}",".upgrade-button-container.__jsx-style-dynamic-selector{padding:0 var(--space-8);}",".upgrade-button-container.__jsx-style-dynamic-selector .sentence-case{text-transform:none;}",".upgrade-text-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:var(--space-8);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".always-on-indicator.__jsx-style-dynamic-selector{margin-left:var(--space-4);margin-right:var(--space-8);width:8px;height:8px;border-radius:100%;background-color:var(--accent-green-default);box-shadow:0 0 12px var(--accent-green-default);}",".always-on-boost-error-container.__jsx-style-dynamic-selector{margin-top:var(--space-8);}",".always-on-boost-error-container.__jsx-style-dynamic-selector .text{color:var(--accent-negative-default);}","@media screen and (max-width:".concat(f.j.mobileMax,"px){.edit-repl.__jsx-style-dynamic-selector{width:80vw;}}")]})]})}!function(e){e.Fork="Fork",e.Delete="Delete",e.Unpublish="Unpublish",e.UnpublishTemplate="UnpublishTemplate",e.Spotlight="Spotlight"}(le||(le={})),function(e){e.DeleteRepl="DeleteRepl",e.ForkRepl="ForkRepl",e.UnboostRepl="UnboostRepl",e.SubscribeUser="SubscribeUser",e.Publish="Publish",e.PublishAppConfirmation="PublishAppConfirmation",e.UnpublishApp="UnpublishApp",e.PublishTemplateConfirmation="PublishTemplateConfirmation",e.PublishTemplateUpdate="PublishTemplateUpdate",e.UnpublishTemplate="UnpublishTemplate"}(de||(de={}))},61171:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(74047),o=r(52700),i=r(26265),a=r(48764).Buffer,s=8192,c="utf8",u=function(){function e(){(0,n.Z)(this,e),(0,i.Z)(this,"index",void 0),(0,i.Z)(this,"buffer",void 0),this.index=0,this.buffer=new a(s)}return(0,o.Z)(e,[{key:"append",value:function(e){var t=a.from(e,c);if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var r=(Math.ceil((this.index+t.length)/s)+1)*s;0===this.index?(this.buffer=new a(r),t.copy(this.buffer,0,0,t.length)):this.buffer=a.concat([this.buffer.slice(0,this.index),t],r)}this.index+=t.length}},{key:"tryReadHeaders",value:function(){for(var e,t=0;t+3<this.index&&(13!==this.buffer[t]||10!==this.buffer[t+1]||13!==this.buffer[t+2]||10!==this.buffer[t+3]);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split("\r\n").forEach((function(t){var r=t.indexOf(":");if(-1===r)throw new Error("Message header must separate key and value using :");var n=t.substr(0,r),o=t.substr(r+1).trim();if(!e)throw new Error("Expected result");e[n]=o}));var r=t+4;return this.buffer=this.buffer.slice(r),this.index=this.index-r,e}},{key:"tryReadContent",value:function(e){if(this.index<e)return null;var t=this.buffer.toString(c,0,e),r=e;return this.buffer.copy(this.buffer,0,r),this.index=this.index-r,t}},{key:"numberOfBytes",value:function(){return this.index}}]),e}()}}]);