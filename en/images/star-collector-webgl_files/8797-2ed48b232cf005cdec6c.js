(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8797],{8797:function(t,e,n){"use strict";n.d(e,{Z:function(){return d},A:function(){return v}});var a=n(35944),i=n(70917),c=n(67294),o=n(51626),l=n(36437),r=n(71570),s=n(68953);function d(t){var e=t.fs,n=t.filePath,r=(0,c.useState)(null),d=r[0],h=r[1],f=(0,c.useState)(!0),m=f[0],p=f[1];return(0,c.useEffect)((function(){var t=e.watchFile(n,{onChange:function(t){h(t.toString("base64")),p(!1)},onError:function(){h(null),p(!1)},onMoveOrDelete:function(){h(null),p(!1)}});return function(){t(),p(!0),h(null)}}),[e,n]),(0,a.BX)(s.Z,{css:(0,i.iv)({flex:1,background:l.TV.black,color:l.TV.outlineDimmest},"",""),children:[(0,a.tZ)(s.Z,{css:[l.l0.align.center,l.l0.px(16),l.l0.py(8),"",""],children:(0,a.tZ)(u,{isLoading:m,content:d,filePath:n})}),(0,a.tZ)(s.Z,{css:["flex:1;",l.l0.align.center,l.l0.justify.center,"",""],children:!m&&d&&(0,a.tZ)(v,{content:d,mime:(0,o.yC)(n)})})]})}function u(t){var e=t.isLoading,n=t.content,i=t.filePath;return e?(0,a.tZ)(r.x,{multiline:!0,children:"File loading, please wait..."}):n?(0,a.BX)(a.HY,{children:[(0,a.tZ)(r.x,{multiline:!0,children:"Some files may fail to load on the browser."}),(0,a.BX)(r.x,{multiline:!0,children:[(0,a.tZ)("a",{href:"data:text/plain;base64,".concat(n),download:(0,o.UO)(i),children:"Click here to download"}),"."]})]}):(0,a.tZ)(r.x,{multiline:!0,children:"No file to show."})}var h={name:"vnkovg",styles:"max-height:100%;max-width:100%"},f={name:"qxuw2n",styles:"width:80%;height:80%;object-fit:contain;image-rendering:pixelated"},m={name:"vnkovg",styles:"max-height:100%;max-width:100%"},p={name:"k618pr",styles:"width:100%;height:100%;flex:1"},g={name:"w1atjl",styles:"width:100%;height:100%"},v=function(t){var e=t.content,n=t.mime,i=void 0===n?"":n;if(i.startsWith("video/"))return(0,a.tZ)("video",{src:"data:".concat(i,";base64,").concat(e),css:h,controls:!0});if(i.startsWith("image/"))return(0,a.tZ)("img",{src:"data:".concat(i,";base64,").concat(e),css:f});if(i.startsWith("audio/")){var c=i;return"audio/wave"===c&&(c="audio/wav"),(0,a.tZ)("audio",{src:"data:".concat(c,";base64,").concat(e),css:m,controls:!0})}return"application/pdf"===i?(0,a.tZ)("object",{data:"data:".concat(i,";base64,").concat(e),type:"application/pdf",css:p,children:(0,a.tZ)("embed",{src:"data:".concat(i,";base64,").concat(e),type:"application/pdf",css:g})}):(0,a.tZ)(r.x,{children:"File type not supported."})}}}]);